/*!For license information please see LICENSES*/(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{547:function(t,e,n){"use strict";n.r(e);var r=n(776),o=n(689);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n(835),n(837);var l=n(10),component=Object(l.a)(o.default,r.render,r.staticRenderFns,!1,null,"31978270",null);e.default=component.exports},689:function(t,e,n){"use strict";n.r(e);var r=n(690),o=n.n(r);for(var c in r)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e.default=o.a},690:function(t,e,n){"use strict";n(20),n(19),n(30),n(36);var r=n(3);e.__esModule=!0,e.default=void 0,n(28),n(12),n(70),n(24),n(37),n(8),n(31),n(32),n(592),n(208),n(688),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(212),n(730),n(21),n(85),n(23),n(50);var o=r(n(29)),c=r(n(40)),l=n(84),d=n(779);n(833);var f=r(n(220)),h=r(n(345));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){(0,c.default)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y={computed:m({},(0,l.mapGetters)(["userInfo","downloadCount"])),components:{Signup:f.default},watch:{userInfo:{handler:function(t,e){this.userInfo&&0==this.userInfo.memberType?(this.isMember=1,this.maxPic=2e3,this.maxNum=1,this.maxSize=5):this.userInfo&&this.userInfo.memberType>0&&(this.isMember=3,this.maxNum=5,this.maxPic=4e3,this.maxSize=10)},deep:!0,immediate:!0}},props:{type:""},data:function(){return{isMember:0,fileList:[],maxNum:1,maxPic:1e3,maxSize:5,uploaded:[],isMobile:!1,showCompare:!1,previewItem:{file:{}},dialogWidth:"60%",editImg:"",errorBtnTxt:"",showDownload:!1,ifShowSignup:!1,isDownloadAll:!1,downloadLoadingText:"",scaleRadio:2}},mounted:function(){this.isMobile=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),this.isMobile&&(this.dialogWidth="80%"),(0,d.setPlugins)(d.plugin_crop,d.plugin_filter,d.plugin_finetune,d.plugin_annotate,d.plugin_sticker,d.plugin_frame)},methods:m(m({},(0,l.mapActions)({UpdateDownloadCount:"userInfo/UpdateDownloadCount"})),{},{handleChange:function(t,e){if(0!=this.isMember&&this.downloadCount<=0)this.$showToast(this.$t("uploadfile.toast_1"),"error");else{if(this.fileList.length>this.maxNum)return this.isMember?this.$showToast("Too many files added. Please add "+this.maxNum+" Image(s) each time."):this.$showToast(this.$t("uploadfile.toast_2"),"error"),void this.fileList.pop();if(t.size>1024*this.maxSize*1024)return this.$showToast(t.name+" should be no more than "+this.maxSize+"mb.","error"),void e.pop();["image/jpeg","image/jpg","image/png","image/PNG","image/JPG","image/JPEG","image/jfif"].includes(t.raw.type)||(this.$showToast(this.$t("uploadfile.toast_3"),"error"),this.fileList.pop()),t.scaleRadio=this.scaleRadio,t.imgUrl=this.getImg(t.raw,t,e)}},getImg:function(t,e,n){var r=this;return(0,o.default)(regeneratorRuntime.mark((function c(){var l,d;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:l=r,(d=new FileReader).readAsDataURL(t),d.onload=function(){var r=(0,o.default)(regeneratorRuntime.mark((function r(c){var image;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.imageSrc=c.target.result,(image=new Image).src=t.imageSrc,image.onload=(0,o.default)(regeneratorRuntime.mark((function r(){var o,c,d,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=image.width,c=image.height,l.imgOriginWidth=image.width,l.imgOriginHeight=image.height,d=l.maxPic,!(o>d&&o>=c)){r.next=10;break}return r.next=8,l.dealImage(t.imageSrc,{width:d,quality:.8},(function(base){e.imgUrl=base,l.fileList=n,l.$forceUpdate()}));case 8:r.next=20;break;case 10:if(!(c>d&&c>o)){r.next=15;break}return r.next=13,l.dealImage(t.imageSrc,{height:d,quality:.8},(function(base){e.imgUrl=base,l.fileList=n,l.$forceUpdate()}));case 13:r.next=20;break;case 15:f="",void 0!==window.createObjectURL?f=window.createObjectURL(t):void 0!==window.URL?f=window.URL.createObjectURL(t):void 0!==window.webkitURL&&(f=window.webkitURL.createObjectURL(t)),e.imgUrl=f,l.fileList=n,l.$forceUpdate();case 20:case"end":return r.stop()}}),r)})));case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}();case 4:case"end":return c.stop()}}),c)})))()},dealImage:function(path,t,e){return(0,o.default)(regeneratorRuntime.mark((function n(){var img;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(img=new Image).src=path,n.next=4,function(){var n=this,r=n.width,o=n.height,c=r/o;r=t.width||t.height*c,o=t.height||t.width/c;var l=1,canvas=document.createElement("canvas"),d=canvas.getContext("2d"),f=document.createAttribute("width");f.nodeValue=r;var h=document.createAttribute("height");h.nodeValue=o,canvas.setAttributeNode(f),canvas.setAttributeNode(h),d.drawImage(n,0,0,r,o),n.imgOriginWidth=r,n.imgOriginHeight=o,t.quality&&t.quality<=1&&t.quality>0&&(l=t.quality);var v=canvas.toDataURL("image/jpeg",l);e(v)};case 4:img.onload=n.sent;case 5:case"end":return n.stop()}}),n)})))()},exceed:function(t,e){this.$showToast("Too many files added. Please add "+this.maxNum+" Image(s) each time.","error")},uploadFile:function(t,e){var n=this,r=t.imgUrl.match("base64")?this.dataURLtoBlob(t.imgUrl,t.name):t.raw,o=new FormData;t.status="uploading",o.append("myfile",r),o.append("scaleRadio",this.scaleRadio),t.scaleRadio=this.scaleRadio,o.append("isLogin",this.isMember?1:0),this.$axios({headers:{"Content-Type":"multipart/form-data"},method:"post",url:"/Upscaler/Upload",data:o,hideLoading:!0,onUploadProgress:function(e){t.uploadProcess=(e.loaded/e.total*100).toFixed(1)}}).then((function(e){if(200===e.code){var code=e.data.code;n.handleSuccess(code,t,n.fileList)}})).catch((function(){n.$showToast("upload error","error"),n.loading=!1,n.fileList=[]}))},dataURLtoBlob:function(t,e){for(var n=t.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[1]),c=o.length,l=new Uint8Array(c);c--;)l[c]=o.charCodeAt(c);return new File([l],e,{type:r})},handleSuccess:function(code,t,e){var n={taskId:code,file:t,status:"waiting"};this.uploaded.push(n),e.splice(e.findIndex((function(e){return e.name===t.name})),1),this.getStatus()},getStatus:function(){var t=this,source=h.default.CancelToken.source();this.uploaded.forEach((function(e,n){e.interval||"error"==e.status||(e.interval=setInterval((function(){t.$axios({method:"post",url:"/Upscaler/CheckStatus",data:{code:e.taskId,scaleRadio:e.file.scaleRadio,isLogin:t.isMember?1:0},hideLoading:!0,cancelToken:source.token}).then((function(n){e.status=n.data.status,"success"===n.data.status&&(clearInterval(e.interval),source.cancel(),e.timeout&&clearTimeout(e.timeout),e.downloadUrl=n.data.downloadUrls[0],e.downloadUrls=n.data.downloadUrls,e.filesize=n.data.filesize,t.UpdateDownloadCount(n.data.downloadCount)),"not found"===n.data.status&&(e.status="error",t.errorBtnTxt=n.data.status,clearInterval(e.interval))})).catch((function(t){}))}),8e3))}))},confirm:function(){0!=this.fileList.length?this.uploadAll():this.$showToast("Please add your Images and click upload.","error")},removeFile:function(t){this.fileList.splice(t,1)},removeAll:function(){this.fileList=[]},uploadAll:function(){var t=this;this.fileList.forEach((function(e){t.downloadCount<=0?t.$showToast(t.$t("uploadfile.toast_4"),"error"):(e.status="uploading",t.uploadFile(e))}))},download:function(t){t.disabled=!0,t.downloadLoadingText=0,this.$forceUpdate(),this.downloadIamge(t.downloadUrl,t.file.name,t)},downloadEdit:function(t){t.disabled=!0,this.downloadIamge(t.url,t.name,t)},downloadAll:function(){var t=this,e=this.uploaded.filter((function(t){return"success"==t.status})),n=e.map((function(t){return t.taskId})),r=[];"imgupscaler"==this.type&&(r=e.map((function(t){return t.file.scaleRadio}))),this.isDownloadAll=!0,this.downloadLoadingText="Packaging",this.$axios({method:"post",url:"/Upscaler/DownloadAll",data:{codes:n,scaleRadio:r,isLogin:this.isMember?1:0},hideLoading:!0}).then((function(e){t.downloadZip(e.data.downloadUrls,e.data.filesize)})).catch((function(){t.$showToast("server error","error")}))},downloadZip:function(t,e){var n=this,r=t.split("/"),o=r[r.length-1];h.default.get(t,{responseType:"arraybuffer",onDownloadProgress:function(t){var r=Math.round(100*t.loaded/e);n.downloadLoadingText="Downloading - "+r+"%"},hideLoading:!0}).then((function(t){n.isDownloadAll=!1;var content=t.data,e=document.createElement("a");e.download=o,e.style.display="none";var r=new Blob([content]);e.href=URL.createObjectURL(r),document.body.appendChild(e),e.click(),document.body.removeChild(e)}))},closeDownload:function(){document.querySelector(".downloadCanvas").classList.remove("animate__zoomIn"),document.querySelector(".downloadCanvas").classList.add("animate__zoomOut"),this.showDownload=!1},downloadIamge:function(t,e,n){var r=this;h.default.get(t,{responseType:"arraybuffer",onDownloadProgress:function(t){var e=Math.round(100*t.loaded/n.filesize);n.downloadLoadingText=e,r.$forceUpdate()},hideLoading:!0}).then((function(t){n.disabled=!1,r.$forceUpdate();var content=t.data,o=document.createElement("a");e.split(".");o.download=e,o.style.display="none";var c=new Blob([content]);o.href=URL.createObjectURL(c),document.body.appendChild(o),o.click(),document.body.removeChild(o)}))},showCompareDialog:function(t){this.previewItem=t,this.showCompare=!0},showEdit:function(t){var e=this,n=(0,d.openEditor)(m(m(m(m(m({src:t.imgUrl?t.imgUrl:t.downloadUrl,imageReader:(0,d.createDefaultImageReader)(),imageWriter:(0,d.createDefaultImageWriter)(),shapePreprocessor:(0,d.createDefaultShapePreprocessor)(),stickers:[["Emoji",["â­ï¸","ðŸ˜Š","ðŸ‘","ðŸ‘Ž","â˜€ï¸","ðŸŒ¤","ðŸŒ¥"]]]},d.plugin_filter_defaults),d.plugin_finetune_defaults),d.markup_editor_defaults),d.plugin_frame_defaults),{},{locale:m(m(m(m(m(m(m(m({},d.locale_en_gb),d.plugin_crop_locale_en_gb),d.plugin_finetune_locale_en_gb),d.plugin_filter_locale_en_gb),d.plugin_annotate_locale_en_gb),d.plugin_sticker_locale_en_gb),d.markup_editor_locale_en_gb),d.plugin_frame_locale_en_gb)}));n.on("process",(function(r){t.imgUrl?(t.raw=r.dest,t.imgUrl=URL.createObjectURL(r.dest),e.$forceUpdate()):(n.show(),e.editImg={url:URL.createObjectURL(r.dest),name:t.file.name},e.showDownload=!0)}))}}),beforeDestroy:function(){this.uploaded.forEach((function(t){clearInterval(t.interval)}))}};e.default=y},729:function(t,e,n){"use strict";e.__esModule=!0,e.staticRenderFns=e.render=void 0,n(24),n(688),n(23),n(8);e.render=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full py-8"},[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("el-radio-group",{attrs:{fill:"#4a47ff",size:"medium"},model:{value:t.scaleRadio,callback:function(e){t.scaleRadio=e},expression:"scaleRadio"}},[e("el-radio-button",{attrs:{role:"radio","aria-checked":"false","aria-label":"Select 200% upscaling",label:2,border:""}},[t._v("200%")]),t._v(" "),e("el-radio-button",{attrs:{role:"radio","aria-checked":"false","aria-label":"Select 400% upscaling",label:4,border:""}},[t._v("400%")])],1)],1),t._v(" "),e("div",{staticClass:"flex flex-col border border-dashed border-[#D9DBE0] rounded-xl bg-[#F7F9FC]"},[e("el-upload",{ref:"upload",staticClass:"flex justify-center items-center h-[28vh] rounded-lg",attrs:{"element-loading-text":"Uploading and processing... Half or one minute needed",drag:"",action:"",accept:".jpg,.jpeg,.png,.PNG,.JPG,.JPEG,.jfif",multiple:"","auto-upload":!1,"show-file-list":!1,"file-list":t.fileList,"on-change":t.handleChange,limit:t.maxNum,"on-exceed":t.exceed}},[e("div",[e("img",{staticClass:"w-20 h-20 mb-4 mx-auto",attrs:{src:"/images/upload_image.svg",alt:"file uploader"}}),t._v(" "),e("p",{staticClass:"text-center text-black text-base font-medium"},[t._v(t._s(t.$t("uploadfile.dragdrop")))]),t._v(" "),e("p",{staticClass:"text-center text-black/60 text-sm font-light"},[t._v(t._s(t.$t("uploadfile.tip"))+" "+t._s(t.maxSize)+"MB or "+t._s(t.maxPic)+"px")])])]),t._v(" "),t.fileList.length>0?e("div",{staticClass:"bg-white"},t._l(t.fileList,(function(r,o){return e("div",{key:o,staticClass:"flex items-center justify-between py-2 px-4"},[e("div",{staticClass:"flex items-center"},[t.isMobile?t._e():e("img",{staticClass:"object-contain w-16 h-16",attrs:{src:r.imgUrl}}),t._v(" "),e("div",[e("div",{staticClass:"ml-2 text-gray-800 text-sm text-left overflow-hidden whitespace-nowrap text-ellipsis",style:{width:t.isMobile?"100px":"150px"}},[t._v("\n                        "+t._s(r.name)+"\n                     ")]),t._v(" "),e("div",{staticClass:"ml-2 text-gray-500 text-xs text-left overflow-hidden whitespace-nowrap"},[t._v(t._s((r.size/1024).toFixed(1))+"KB")])])]),t._v(" "),e("div",["uploading"==r.status?e("div",[e("img",{staticStyle:{height:"9px"},style:{width:t.isMobile?"80px":""},attrs:{src:n(777)}})]):e("div",{staticClass:"flex items-center gap-x-2"},[e("button",{staticClass:"px-4 py-2 rounded-lg border border-gray-200 text-black text-sm bg-white hover:bg-gray-200 editButton",on:{click:function(e){return t.showEdit(r)}}},[e("span",{staticClass:"sm:inline"},[t._v("Edit")])]),t._v(" "),e("button",{staticClass:"px-4 py-2 rounded-lg text-white text-sm bg-blue-700 hover:bg-blue-800 startButton",on:{click:function(e){return t.uploadFile(r)}}},[e("el-progress",{directives:[{name:"show",rawName:"v-show",value:r.uploadProcess&&r.uploadProcess<100,expression:"item.uploadProcess && item.uploadProcess < 100"}],staticClass:"sm:mr-1",attrs:{type:"circle",percentage:r.uploadProcess}}),t._v(" "),e("span",{staticClass:"sm:inline"},[t._v("Start")])],1),t._v(" "),e("button",{staticClass:"bg-white border rounded-full border-gray-200 hover:border-gray-400",on:{click:function(e){return t.removeFile(o)}}},[e("svg",{staticClass:"w-4 h-4 p-1",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"}})])])])])])})),0):t._e(),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.fileList.length>0,expression:"fileList.length > 0"}],staticClass:"btnDiv py-4 bg-white gap-2"},[e("button",{staticClass:"px-6 py-2 font-black rounded-full text-white text-base bg-indigo-500 hover:bg-indigo-600",on:{click:t.confirm}},[e("span",[t._v("Start All")])]),t._v(" "),e("button",{staticClass:"px-6 py-2 font-black rounded-full text-white text-base bg-rose-500 hover:bg-rose-600",on:{click:t.removeAll}},[e("span",[t._v("Remove All")])])]),t._v(" "),t.uploaded.length>0?e("div",{staticClass:"listUpload bg-white"},t._l(t.uploaded,(function(r,o){return e("div",{key:o,staticClass:"flex items-center justify-between py-2 px-4"},[e("div",{staticClass:"flex items-center"},[t.isMobile?t._e():e("img",{staticClass:"object-contain w-16 h-16",attrs:{src:r.file.imgUrl}}),t._v(" "),e("div",[e("div",{staticClass:"ml-2 text-gray-800 text-sm text-left overflow-hidden whitespace-nowrap text-ellipsis",style:{width:t.isMobile?"130px":"135px"}},[t._v("\n                        "+t._s(r.file.name)+"\n                     ")]),t._v(" "),e("div",{staticClass:"ml-2 text-gray-500 text-xs text-left overflow-hidden whitespace-nowrap"},[t._v(t._s((r.file.size/1024).toFixed(1))+"KB")])])]),t._v(" "),e("div",{staticClass:"btnGroup"},["waiting"==r.status||"processing"==r.status?e("div",[e("img",{staticStyle:{height:"9px"},style:{width:t.isMobile?"80px":""},attrs:{src:n(778)}})]):t._e(),t._v(" "),e("div",{staticClass:"flex items-center gap-x-2"},["success"==r.status?e("button",{staticClass:"px-4 py-2 rounded-lg border border-gray-200 text-black text-sm bg-white hover:bg-gray-200 editButton",on:{click:function(e){return t.showEdit(r)}}},[t.isMobile?t._e():e("span",{staticClass:"sm:inline"},[t._v("Edit")])]):t._e(),t._v(" "),"success"==r.status?e("button",{staticClass:"px-4 py-2 rounded-lg text-white text-sm bg-blue-700 hover:bg-blue-800 downloadButton flex flex-row items-center gap-x-1",attrs:{disabled:r.disabled},on:{click:function(e){return t.download(r)}}},[r.disabled?e("el-progress",{attrs:{type:"circle",width:12,height:12,"stroke-width":4,"text-color":"#fff",percentage:r.downloadLoadingText,"show-text":!1}}):t._e(),t._v(" "),t.isMobile?t._e():e("span",{staticClass:"sm:inline"},[t._v(t._s(r.disabled?r.downloadLoadingText+"%":"Download"))])],1):t._e(),t._v(" "),"success"==r.status?e("button",{staticClass:"bg-white border rounded-full border-gray-200 hover:border-gray-400 previewButton",on:{click:function(e){return t.showCompareDialog(r)}}},[e("svg",{staticClass:"w-4 h-4",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}}),t._v(" "),e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}})])]):t._e(),t._v(" "),"error"==r.status?e("el-button",{staticClass:"btn",attrs:{type:"danger",disabled:""}},[t._v(t._s(t.errorBtnTxt))]):t._e()],1)])])})),0):t._e(),t._v(" "),t.uploaded.filter((function(t){return"success"==t.status})).length>0?e("div",{staticClass:"btnDiv py-4 bg-white gap-2"},[e("button",{staticClass:"px-6 py-2 font-black rounded-full text-white text-base bg-indigo-500 hover:bg-indigo-600",attrs:{disabled:t.isDownloadAll},on:{click:t.downloadAll}},[t.isDownloadAll?e("span",[t._v(t._s(t.downloadLoadingText))]):e("span",[t._v("Download All ")])])]):t._e(),t._v(" "),e("el-dialog",{attrs:{visible:t.showCompare,width:t.dialogWidth},on:{"update:visible":function(e){t.showCompare=e}}},[e("div",{staticStyle:{width:"100%"}},[t.showCompare?e("img-comparison-slider",{staticStyle:{width:"100%"}},[e("figure",{staticClass:"before",attrs:{slot:"first"},slot:"first"},[e("img",{attrs:{width:"100%",src:t.previewItem.file.imgUrl}}),t._v(" "),e("figcaption",[t._v("Before")])]),t._v(" "),e("figure",{staticClass:"after",attrs:{slot:"second"},slot:"second"},[e("img",{attrs:{width:"100%",src:t.previewItem.downloadUrl}}),t._v(" "),e("figcaption",[t._v("After")])])]):t._e()],1)])],1),t._v(" "),t.showDownload?e("div",{staticClass:"downloadCanvas animate__animated animate__zoomIn"},[e("div",{staticClass:"toolbar"},[e("button",{staticClass:"popup-editButton",on:{click:function(e){return t.downloadEdit(t.editImg)}}},[e("i",{staticClass:"ri-download-cloud-line"})]),t._v(" "),e("button",{staticClass:"popup-editButton",on:{click:t.closeDownload}},[e("i",{staticClass:"ri-close-line",staticStyle:{color:"#fff"}})])]),t._v(" "),e("img",{staticStyle:{"max-width":"30vw","max-height":"50vh"},attrs:{src:t.editImg.url}})]):t._e(),t._v(" "),e("Signup",{attrs:{isShowSignUp:t.ifShowSignup},on:{"signup-closed":function(e){t.ifShowSignup=!1},"update:isShowSignUp":function(e){t.ifShowSignup=e},"update:is-show-sign-up":function(e){t.ifShowSignup=e}}})],1)};e.staticRenderFns=[]},735:function(t,e,n){var content=n(836);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("7814e522",content,!0,{sourceMap:!1})},736:function(t,e,n){var content=n(838);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("3c4d518e",content,!0,{sourceMap:!1})},776:function(t,e,n){"use strict";var r=n(729);n.o(r,"render")&&n.d(e,"render",(function(){return r.render})),n.o(r,"staticRenderFns")&&n.d(e,"staticRenderFns",(function(){return r.staticRenderFns}))},777:function(t,e,n){t.exports=n.p+"img/waiting.1022726.gif"},778:function(t,e,n){t.exports=n.p+"img/processing.8dde128.gif"},779:function(t,e,n){"use strict";(function(t){n(19),n(30),n(780),n(49),n(53);var r=n(3);e.__esModule=!0,e.createMarkupEditorToolbar=e.createMarkupEditorToolStyles=e.createMarkupEditorToolStyle=e.createMarkupEditorTextAlignControl=e.createMarkupEditorStrokeWidthOptions=e.createMarkupEditorStrokeWidthControl=e.createMarkupEditorStrokeScaleOptions=e.createMarkupEditorStrokeColorControl=e.createMarkupEditorShapeStyleControls=e.createMarkupEditorLineStartStyleControl=e.createMarkupEditorLineHeightScaleOptions=e.createMarkupEditorLineHeightOptions=e.createMarkupEditorLineHeightControl=e.createMarkupEditorLineEndStyleOptions=e.createMarkupEditorLineEndStyleControl=e.createMarkupEditorFontStyleOptions=e.createMarkupEditorFontStyleControl=e.createMarkupEditorFontSizeOptions=e.createMarkupEditorFontSizeControl=e.createMarkupEditorFontScaleOptions=e.createMarkupEditorFontFamilyOptions=e.createMarkupEditorFontFamilyControl=e.createMarkupEditorFontColorControl=e.createMarkupEditorColorOptions=e.createMarkupEditorColorControl=e.createMarkupEditorBackgroundColorControl=e.createLineEndProcessor=e.createFrameStyleProcessor=e.createEditor=e.createDefaultTextAlignOptions=e.createDefaultStrokeWidthOptions=e.createDefaultStrokeScaleOptions=e.createDefaultShapePreprocessor=e.createDefaultMediaWriter=e.createDefaultLineHeightScaleOptions=e.createDefaultLineHeightOptions=e.createDefaultLineEndStyles=e.createDefaultLineEndStyleOptions=e.createDefaultImageWriter=e.createDefaultImageScrambler=e.createDefaultImageReader=e.createDefaultImageOrienter=e.createDefaultFrameStyles=e.createDefaultFontStyleOptions=e.createDefaultFontSizeOptions=e.createDefaultFontScaleOptions=e.createDefaultFontFamilyOptions=e.createDefaultColorOptions=e.colorStringToColorArray=e.blobToFile=e.appendNode=e.appendEditors=e.appendEditor=e.appendDefaultEditors=e.appendDefaultEditor=void 0,e.createNode=function(t,e,n,r){Array.isArray(n)&&(r=n,n={});return[t,e,n||{},r||[]]},e.legacyDataToImageState=e.isSupported=e.insertNodeBefore=e.insertNodeAfter=e.imageStateToCanvas=e.getEditorProps=e.getEditorDefaults=e.frameSolidSharp=e.frameSolidRound=e.framePolaroid=e.frameLineSingle=e.frameLineMultiple=e.frameHook=e.frameEdgeSeparate=e.frameEdgeOverlap=e.frameEdgeCross=e.findNode=e.filterWarm=e.filterSepiaRust=e.filterSepiaDefault=e.filterSepiaColor=e.filterSepiaBlues=e.filterPastel=e.filterMonoWash=e.filterMonoStark=e.filterMonoNoir=e.filterMonoDefault=e.filterInvert=e.filterFade=e.filterCold=e.filterChrome=e.effectVignette=e.effectTemperature=e.effectSaturation=e.effectGamma=e.effectExposure=e.effectContrast=e.effectClarity=e.effectBrightness=e.dispatchEditorEvents=e.degToRad=e.defineDefaultCustomElements=e.defineCustomElements=e.createShapePreprocessor=void 0,e.updateNode=e.supportsWebGL=e.shapeGetLevel=e.shapeGetLength=e.shapeGetCenter=e.setPlugins=e.removeNode=e.processImage=e.processDefaultImage=e.plugin_sticker_locale_en_gb=e.plugin_sticker=e.plugin_resize_locale_en_gb=e.plugin_resize=e.plugin_redact_locale_en_gb=e.plugin_redact=e.plugin_frame_locale_en_gb=e.plugin_frame_defaults=e.plugin_frame=e.plugin_finetune_locale_en_gb=e.plugin_finetune_defaults=e.plugin_finetune=e.plugin_filter_locale_en_gb=e.plugin_filter_defaults=e.plugin_filter=e.plugin_fill_locale_en_gb=e.plugin_fill=e.plugin_decorate_locale_en_gb=e.plugin_decorate=e.plugin_crop_locale_en_gb=e.plugin_crop=e.plugin_annotate_locale_en_gb=e.plugin_annotate=e.overlayEditor=e.overlayDefaultEditor=e.openEditor=e.openDefaultEditor=e.naturalAspectRatioToNumber=e.markup_editor_locale_en_gb=e.markup_editor_defaults=e.locale_en_gb=void 0;var o=r(n(346)),c=r(n(731)),l=r(n(319)),d=r(n(321)),f=r(n(320)),h=r(n(782)),v=r(n(783)),m=r(n(732)),y=r(n(864));n(28);var $=r(n(40)),x=r(n(48)),w=r(n(61)),P=r(n(222)),k=r(n(29));n(172),n(8),n(24),n(21),n(632),n(784),n(45),n(36),n(12),n(158),n(33),n(20),n(31),n(32),n(592),n(208),n(329),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(85),n(70),n(57),n(688),n(50),n(344),n(37),n(42),n(23),n(212),n(51),n(209),n(170),n(786),n(634),n(635),n(636),n(637),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(114),n(787),n(788),n(218),n(789),n(52),n(790),n(310),n(791),n(792),n(794),n(795),n(797),n(798),n(799),n(802),n(803),n(804),n(805),n(807),n(809),n(811),n(813),n(814),n(815),n(816),n(817),n(819),n(821),n(823),n(325),n(824),n(104),n(826),n(827),n(633),n(828),n(730),n(829),n(831),n(832);var S,R,C,M=["textContent","innerHTML"],T=["width"],I=["frameStyle"];function A(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,m.default)(t);if(e){var o=(0,m.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){(0,$.default)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O=[{value:65504,name:"jfif"},{value:65498,name:"sos"},{value:65505,subvalue:17784,name:"exif"},{value:65505,subvalue:26740,name:"xmp"},{value:65506,subvalue:19792,name:"mpf"}],B=function(view){if(65496===view.getUint16(0)){for(var marker,t=view.byteLength,e=2,n=void 0;e<t&&255===view.getUint8(e);){marker=view.getUint16(e);var r=O.find((function(t){return t.value===marker&&(!t.subvalue||t.subvalue===view.getUint16(e+2+2))}));if(r){var o=r.name;n||(n={}),n[o]||(n[o]={offset:e,size:view.getUint16(e+2)})}if(65498===marker)break;e+=2+view.getUint16(e+2)}return n}},D=function(data,t,e){if(data){var view=new DataView(data),n=B(view);if(n&&n.exif){var r=function(view,t){if(65505===view.getUint16(t)){var e=view.getUint16(t+2);if(t+=4,1165519206===view.getUint32(t)){t+=6;var n=view.getUint16(t);if(18761===n||19789===n){var r=18761===n;if(t+=2,42===view.getUint16(t,r)){t+=view.getUint32(t+2,r);var o=function(marker){for(var n=[],i=t,o=Math.min(view.byteLength,t+e-16);i<o;i+=12){var c=i;view.getUint16(c,r)===marker&&n.push(c)}return n};return{read:function(address){var t=o(address);if(t.length)return view.getUint16(t[0]+8,r)},write:function(address,t){var e=o(address);return!!e.length&&(e.forEach((function(e){return view.setUint16(e+8,t,r)})),!0)}}}}}}}(view,n.exif.offset);if(r)return void 0===e?r.read(t):r.write(t,e)}}},_="__pqina_webapi__",U=function(t){return window[_]?window[_][t]:window[t]},N=function(){},W="readAsArrayBuffer",j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var c=n.dataFormat,l=void 0===c?W:c,d=new(U("FileReader"));d.onload=function(){return r(d.result)},d.onerror=o,d.onprogress=e,d[l](t)}))},V=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[0,e.size],r=o.length>2?o[2]:void 0,t.next=4,j(e.slice.apply(e,(0,P.default)(n)),r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var head;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e,[0,262144],n);case 2:return head=t.sent,t.abrupt("return",D(head,274)||1);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),H=null,Z=function(){return null===H&&(H="undefined"!=typeof window&&void 0!==window.document),H},X=null,Y=function(){return new Promise((function(t){if(null===X){var e=Z()?new Image:{};return e.onload=function(){X=1===e.naturalWidth,e=void 0,t(X)},void(e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=")}return t(X)}))},K=function(canvas){return canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height)},J=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=document.createElement(t),o=Object.getOwnPropertyDescriptors(r.__proto__);for(var c in e)"style"===c?r.style.cssText=e[c]:o[c]&&o[c].set||/textContent|innerHTML/.test(c)||"function"==typeof e[c]?r[c]=e[c]:r.setAttribute(c,e[c]);return n.forEach((function(t){return r.appendChild(t)})),r},Q={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},tt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return-1===n&&(n=1),Q[n](t,e)},et=function(canvas){canvas.width=1,canvas.height=1;var t=canvas.getContext("2d");t&&t.clearRect(0,0,1,1)},nt=function(t){return"data"in t},it=function(t){return Z()?RegExp(t).test(window.navigator.userAgent):void 0},ot=null,at=function(){return null===ot&&(ot=it(/Android/)),ot},ut=function(canvas,t){var e=J("canvas",{width:canvas.width,height:canvas.height});return e.getContext("2d",t).drawImage(canvas,0,0),e},ct=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,canvas,f,h,v=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:1,t.next=3,Y();case 3:if(r=t.sent,o=r||n<5?[e.width,e.height]:[e.height,e.width],c=(0,w.default)(o,2),l=c[0],d=c[1],canvas=J("canvas",{width:l,height:d}),f=canvas.getContext("2d",{willReadFrequently:!0}),nt(e)&&!r&&n>1&&(h=J("canvas",{width:e.width,height:e.height}),h.getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),e=h),!r&&n>1&&f.transform.apply(f,tt(e.width,e.height,n)),!nt(e)){t.next=15;break}if(f.putImageData(e,0,0),!at()){t.next=13;break}return t.abrupt("return",ut(canvas));case 13:t.next=16;break;case 15:f.drawImage(e,0,0);case 16:return e instanceof HTMLCanvasElement&&et(e),t.abrupt("return",canvas);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lt=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==(n=r.length>1&&void 0!==r[1]?r[1]:1)){t.next=3;break}return t.abrupt("return",e);case 3:return t.next=5,Y();case 5:if(t.sent){t.next=11;break}return t.t0=K,t.next=9,ct(e,n);case 9:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),st=function(t){return"object"===(0,x.default)(t)},ft=function(t){return st(t)?pt(t):t},pt=function(t){var e;return Array.isArray(t)?(e=[],t.forEach((function(t,i){e[i]=ft(t)}))):(e={},Object.keys(t).forEach((function(n){var r=t[n];e[n]=ft(r)}))),e},ht=function(t){return"string"==typeof t},vt=function(t){return"function"==typeof t},mt=function(image,t){return new Promise((function(e,n){var r=function(){return e(function(image,t){var e=t.width,n=t.height,r=t.canvasMemoryLimit,o=t.contextOptions,c=e||image.naturalWidth,l=n||image.naturalHeight;c||l||(c=300,l=150);var d=c*l;if(r&&d>r){var f=Math.sqrt(r)/Math.sqrt(d);c=Math.floor(c*f),l=Math.floor(l*f)}var canvas=J("canvas");return canvas.width=c,canvas.height=l,canvas.getContext("2d",o).drawImage(image,0,0,c,l),canvas}(image,t))};image.complete&&image.width?r():(image.onload=r,image.onerror=n)}))},gt=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,canvas;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=J("img",{src:URL.createObjectURL(e)}),t.next=3,mt(r,n);case 3:return canvas=t.sent,URL.revokeObjectURL(r.src),t.abrupt("return",canvas);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),bt=function(){return"createImageBitmap"in window},yt=function(t){return/svg/.test(t.type)},$t=function(){return Math.random().toString(36).substr(2,9)},xt=new Map,wt=function(t,e,n){return new Promise((function(r,o){var c=t.toString(),l=xt.get(c);if(!l){var d=function(t){return"function () {self.onmessage = function (message) {(".concat(t.toString(),").apply(null, message.data.content.concat([function (err, response) {\n    response = response || {};\n    const transfer = 'data' in response ? [response.data.buffer] : 'width' in response ? [response] : [];\n    return self.postMessage({ id: message.data.id, content: response, error: err }, transfer);\n}]))}}")}(t),f=URL.createObjectURL(function(t){return new Blob(["(","function"==typeof t?t.toString():t,")()"],{type:"application/javascript"})}(d)),h=new Map,v=new Worker(f);l={url:f,worker:v,messages:h,terminationTimeout:void 0,terminate:function(){clearTimeout(l.terminationTimeout),l.worker.terminate(),URL.revokeObjectURL(f),xt.delete(c)}},v.onmessage=function(t){var e=t.data,n=e.id,content=e.content,r=e.error;if(clearTimeout(l.terminationTimeout),l.terminationTimeout=setTimeout((function(){h.size>0||l.terminate()}),500),h.has(n)){var o=h.get(n);h.delete(n),null!=r?o.reject(r):o.resolve(content)}},xt.set(c,l)}var m=$t();l.messages.set(m,{resolve:r,reject:o}),l.worker.postMessage({id:m,content:e},n)}))},Pt=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(){var canvas,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt(e,{canvasMemoryLimit:n,contextOptions:{willReadFrequently:!0}});case 2:return canvas=t.sent,r=K(canvas),et(canvas),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!at()){t.next=5;break}return t.next=4,r();case 4:return t.abrupt("return",t.sent);case 5:if(!bt()||yt(e)||!("OffscreenCanvas"in window)){t.next=14;break}return t.prev=6,t.next=9,wt((function(t,e,n){createImageBitmap(t).then((function(t){var r=t.width,o=t.height,c=r*o;if(e&&c>e){var l=Math.sqrt(e)/Math.sqrt(c);r=Math.floor(r*l),o=Math.floor(o*l)}var canvas=new OffscreenCanvas(r,o),d=canvas.getContext("2d",{willReadFrequently:!0});d.drawImage(t,0,0,r,o);var f=d.getImageData(0,0,canvas.width,canvas.height);n(null,f)})).catch((function(t){n(t)}))}),[e,n]);case 9:o=t.sent,t.next=14;break;case 12:t.prev=12,t.t0=t.catch(6);case 14:if(o&&o.width){t.next=18;break}return t.next=17,r();case 17:return t.abrupt("return",t.sent);case 18:return t.abrupt("return",o);case 19:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e,n){return t.apply(this,arguments)}}(),kt=function(canvas){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return new Promise((function(n,r){try{canvas.toBlob((function(t){n(t)}),t,e)}catch(t){r(t)}}))},St=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r){var canvas,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct(e);case 2:return canvas=t.sent,t.next=5,kt(canvas,n,r);case 5:return o=t.sent,et(canvas),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Rt=function(t,section){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,t.size];return section?new Blob([section,t.slice.apply(t,(0,P.default)(e))],{type:t.type}):t},Ct={matroska:"mkv"},Mt=function(t){var e=(t.match(/\/([a-z0-9]+)/)||[])[1];if(/^x/.test(e)){var n=t.split("/x-"),r=(0,w.default)(n,2)[1];return Ct[void 0===r?"":r]}return e},Tt=function(t){return t.substr(0,t.lastIndexOf("."))||t},It=/avif|bmp|gif|jpg|jpeg|jpe|jif|jfif|png|svg|tiff|webp/,At=function(t){return t&&(e=(n=t,n.split(".").pop()).toLowerCase(),It.test(e)?"image/"+(/jfif|jif|jpe|jpg/.test(e)?"jpeg":"svg"===e?"svg+xml":e):"");var e,n},Et=function(t,e,n){var r=(new Date).getTime(),o=t.type.length&&!/null|text/.test(t.type),c=o?t.type:n,l=function(t,e){var n=At(t);if(n===e)return t;var r=Mt(e)||n;return"".concat(Tt(t),".").concat(r)}(e,c);try{return new(U("File"))([t],l,{lastModified:r,type:o?t.type:c})}catch(e){var d=o?t.slice():t.slice(0,t.size,c);return d.lastModified=r,d.name=l,d}};e.blobToFile=Et;var Lt,Ft=function(t,e){return t/e},zt=function(t){return t},Ot=Math.PI,Bt=Math.PI/2,Dt=Bt/2,_t=function(a){var t=Math.abs(a)%Math.PI;return t>Dt&&t<Math.PI-Dt},Ut={Top:"t",Right:"r",Bottom:"b",Left:"l",TopLeft:"tl",TopRight:"tr",BottomRight:"br",BottomLeft:"bl"},Nt=Ut.Top,Wt=Ut.Right,jt=Ut.Bottom,Vt=Ut.Left,Gt=Ut.TopLeft,Ht=Ut.TopRight,Zt=Ut.BottomRight,Xt=Ut.BottomLeft,qt=(S={},(0,$.default)(S,Nt,[.5,0]),(0,$.default)(S,Wt,[1,.5]),(0,$.default)(S,jt,[.5,1]),(0,$.default)(S,Vt,[0,.5]),(0,$.default)(S,Gt,[0,0]),(0,$.default)(S,Ht,[1,0]),(0,$.default)(S,Zt,[1,1]),(0,$.default)(S,Xt,[0,1]),S),Yt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(t.toFixed(e))},Kt=function(t,e,n){return n+(t-n)*e},Jt=function(rect){return{x:rect.x+.5*rect.width,y:rect.y+.5*rect.height,rx:.5*rect.width,ry:.5*rect.height}},Qt=function(){return te(0,0)},te=function(t,e){return{x:t,y:e}},ee=function(t){return te(t.x,t.y)},ne=function(t){return te(t.pageX,t.pageY)},re=function(t){return te(t.x,t.y)},ie=function(t){return t.x=-t.x,t.y=-t.y,t},oe=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt(),r=Math.cos(e),o=Math.sin(e),c=t.x-n.x,l=t.y-n.y;return t.x=n.x+r*c-o*l,t.y=n.y+o*c+r*l,t},ae=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},ue=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?Qt():(t.x/=e,t.y/=e,t)},ce=function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)},le=function(a,b){return a.x===b.x&&a.y===b.y},se=function(t,e){return t.x=e(t.x),t.y=e(t.y),t},de=function(a,b){return a.x+=b.x,a.y+=b.y,a},fe=function(a,b){return a.x-=b.x,a.y-=b.y,a},pe=function(t,e){return t.x/=e,t.y/=e,t},he=function(t,e){return t.x*=e,t.y*=e,t},ve=function(a,b){return a.x*b.x+a.y*b.y},me=function(a,b){return a.x*b.y-a.y*b.x},ge=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt(),t=a.x-b.x,e=a.y-b.y;return t*t+e*e},be=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt();return Math.sqrt(ge(a,b))},ye=function(t,e,n){return t.x=Kt(t.x,e,n.x),t.y=Kt(t.y,e,n.y),t},$e=function(t){var e=0,n=0;return t.forEach((function(t){e+=t.x,n+=t.y})),te(e/t.length,n/t.length)},xe=function(t,e,n,r,o){return t.forEach((function(t){t.x=e?r-(t.x-r):t.x,t.y=n?o-(t.y-o):t.y})),t},we=function(t,e,n,r){var s=Math.sin(e),o=Math.cos(e);return t.forEach((function(p){p.x-=n,p.y-=r;var t=p.x*o-p.y*s,e=p.x*s+p.y*o;p.x=n+t,p.y=r+e})),t},Pe=function(t,e){return{width:t,height:e}},ke=function(t){return Pe(t.width,t.height)},Se=function(t){return Pe(t.width,t.height)},Re=function(t){return Pe(t.width,t.height)},Ce=function(a){return Pe(a[0],a[1])},Me=function(element){return/img/i.test(element.nodeName)?Pe((image=element).naturalWidth,image.naturalHeight):Se(element);var image},Te=function(t,e){return Pe(t,e)},Ie=function(a,b){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt;return t(a.width)===t(b.width)&&t(a.height)===t(b.height)},Ae=function(t,e){return t.width*=e,t.height*=e,t},Ee=function(t){return te(.5*t.width,.5*t.height)},Le=function(t,e){var n=Math.abs(e),r=Math.cos(n),o=Math.sin(n),c=r*t.width+o*t.height,l=o*t.width+r*t.height;return t.width=c,t.height=l,t},Fe=function(a,b){return a.width>=b.width&&a.height>=b.height},ze=function(t,e){return t.width=e(t.width),t.height=e(t.height),t},Oe=function(t,e){return{start:t,end:e}},Be=function(line){return Oe(re(line.start),re(line.end))},De=function(line,t){if(0===t)return line;var e=te(line.start.x-line.end.x,line.start.y-line.end.y),n=ue(e),r=he(n,t);return line.start.x+=r.x,line.start.y+=r.y,line.end.x-=r.x,line.end.y-=r.y,line},_e=[te(-1,-1),te(-1,1),te(1,1),te(1,-1)],Ue=function(t,e,n,r){return{x:t,y:e,width:n,height:r}},Ne=function(rect){return Ue(rect.x,rect.y,rect.width,rect.height)},We=function(){return Ue(0,0,0,0)},je=function(t){return Ue(0,0,t.width,t.height)},Ve=function(t){return Ue(t.x||0,t.y||0,t.width||0,t.height||0)},Ge=function(t){var e=t[0].x,n=t[0].x,r=t[0].y,o=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),o=Math.max(o,t.y)})),Ue(e,r,n-e,o-r)},He=function(ellipse){return Xe(ellipse.x-ellipse.rx,ellipse.y-ellipse.ry,2*ellipse.rx,2*ellipse.ry)},Ze=function(t,e){return Ue(t.x-.5*e.width,t.y-.5*e.height,e.width,e.height)},Xe=function(t,e,n,r){return Ue(t,e,n,r)},qe=function(rect){return te(rect.x+.5*rect.width,rect.y+.5*rect.height)},Ye=function(rect,t){return rect.x+=t.x,rect.y+=t.y,rect},Ke=function(rect,t,e){return e=e||qe(rect),rect.x=t*(rect.x-e.x)+e.x,rect.y=t*(rect.y-e.y)+e.y,rect.width=t*rect.width,rect.height=t*rect.height,rect},Je=function(rect,t,e,n){var r=(n.x-rect.x)/rect.width,o=(n.y-rect.y)/rect.height,c=Math.max(t.width,rect.width),l=Math.max(t.height,rect.height);return c=Math.min(e.width,c),l=Math.min(e.height,l),rect.x=n.x-r*c,rect.y=n.y-o*l,rect.width=c,rect.height=l,rect},Qe=function(rect,t){var e=(0,w.default)(qt[t],2),n=e[0],r=e[1],o=n*rect.width,c=r*rect.height;return te(rect.x+o,rect.y+c)},tn=function(rect,t){return rect.x*=t,rect.y*=t,rect.width*=t,rect.height*=t,rect},en=function(a,b){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zt;return t(a.x)===t(b.x)&&t(a.y)===t(b.y)&&t(a.width)===t(b.width)&&t(a.height)===t(b.height)},nn=function(rect){return Ft(rect.width,rect.height)},rn=function(rect,t,e,n,r){return rect.x=t,rect.y=e,rect.width=n,rect.height=r,rect},on=function(a,b){return a.x=b.x,a.y=b.y,a.width=b.width,a.height=b.height,a},an=function(rect,t,e){return e||(e=qe(rect)),fn(rect).map((function(n){return oe(n,t,e)}))},un=function(a,b){return Ue(.5*a.width-.5*b.width,.5*a.height-.5*b.height,b.width,b.height)},cn=function(rect,t){return!(t.x<rect.x)&&(!(t.y<rect.y)&&(!(t.x>rect.x+rect.width)&&!(t.y>rect.y+rect.height)))},ln=function(rect,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt();if(0===rect.width||0===rect.height)return We();var n=nn(rect);t||(t=n);var r=rect.width,o=rect.height;return t>n?r=o*t:o=r/t,Ue(e.x+.5*(rect.width-r),e.y+.5*(rect.height-o),r,o)},sn=function(rect){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn(rect),e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt();if(0===rect.width||0===rect.height)return We();var n=rect.width,r=n/t;return r>rect.height&&(n=(r=rect.height)*t),Ue(e.x+.5*(rect.width-n),e.y+.5*(rect.height-r),n,r)},dn=function(rect){return[Math.min(rect.y,rect.y+rect.height),Math.max(rect.x,rect.x+rect.width),Math.max(rect.y,rect.y+rect.height),Math.min(rect.x,rect.x+rect.width)]},fn=function(rect){return[te(rect.x,rect.y),te(rect.x+rect.width,rect.y),te(rect.x+rect.width,rect.y+rect.height),te(rect.x,rect.y+rect.height)]},pn=function(rect,t){if(rect)return rect.x=t(rect.x),rect.y=t(rect.y),rect.width=t(rect.width),rect.height=t(rect.height),rect},hn=function(rect,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe(rect);return fn(rect).map((function(n,r){var o=_e[r];return te(Kt(n.x,1+o.x*t.x,e.x),Kt(n.y,1+o.y*t.y,e.y))}))},vn=function(rect){return rect.x=0,rect.y=0,rect},mn=function(t){var e=t[0],n=t[t.length-1];t=le(e,n)?t:[].concat((0,P.default)(t),[e]);for(var a,b,r,o=e.x,c=e.y,l=0,i=0,d=0,f=0,h=t.length;i<h;i++)a=t[i],b=t[i+1>h-1?0:i+1],l+=r=(a.y-c)*(b.x-o)-(b.y-c)*(a.x-o),d+=(a.x+b.x-2*o)*r,f+=(a.y+b.y-2*c)*r;return te(o+d/(r=3*l),c+f/r)},gn=function(a,b){return bn(a.start,a.end,b.start,b.end)},bn=function(a,b,t,e){var n=(e.y-t.y)*(b.x-a.x)-(e.x-t.x)*(b.y-a.y);if(0!==n){var r=((e.x-t.x)*(a.y-t.y)-(e.y-t.y)*(a.x-t.x))/n,o=((b.x-a.x)*(a.y-t.y)-(b.y-a.y)*(a.x-t.x))/n;if(!(r<0||r>1||o<0||o>1))return te(a.x+r*(b.x-a.x),a.y+r*(b.y-a.y))}},yn=function(line,t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.ignoreIdenticalLines,r=void 0!==n&&n,o=e.breakOnIntersection,c=void 0!==o&&o,l=t.length,d=[],i=0;i<l-1;i++)if(!r||!(le(line.start,t[i])||le(line.start,t[i+1])||le(line.end,t[i])||le(line.end,t[i+1]))){var f=bn(line.start,line.end,t[i],t[i+1]);if(f){if(c)return[f];d.push(f)}}return d.length?d:void 0},$n=function(t,e){var i=0,n=0,r=!1,o=e.length;for(i=0,n=o-1;i<o;n=i++)e[i].y>t.y!=e[n].y>t.y&&t.x<(e[n].x-e[i].x)*(t.y-e[i].y)/(e[n].y-e[i].y)+e[i].x&&(r=!r);return r},xn=function(t){for(var e=[],i=0;i<t.length;i++){var n=i+1;n===t.length&&(n=0),e.push(Oe(re(t[i]),re(t[n])))}return e},wn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return xn(t).map((function(line){return De(line,e)}))},Pn=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:12,d=[],i=0;i<l;i++)d.push(te(t.x+e*Math.cos(i*(2*Math.PI)/l),t.y+n*Math.sin(i*(2*Math.PI)/l)));return(o||c)&&xe(d,o,c,t.x,t.y),r&&we(d,r,t.x,t.y),d},kn=function(t,e){var n=je(t),r=qe(n),o=an(n,e,r);return vn(Ge(o))},Sn=function(t,e){return t instanceof HTMLElement&&(!e||new RegExp("^".concat(e,"$"),"i").test(t.nodeName))},Rn=function(t){return t instanceof File},Cn=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(canvas,e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(canvas,e,n);case 2:return r=t.sent,t.abrupt("return",Et(r,"canvas"));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Mn=function(t){return t.split("/").pop().split(/\?|\#/).shift()},Tn=Z()&&!!Node.prototype.replaceChildren?function(t,e){return t.replaceChildren(e)}:function(t,e){for(;t.lastChild;)t.removeChild(t.lastChild);void 0!==e&&t.append(e)},In=Z()&&J("div",{class:"PinturaMeasure",style:"position:absolute;left:0;top:0;width:99999px;height:0;pointer-events:none;contain:strict;margin:0;padding:0;"}),An=function(element){return Tn(In,element),In.parentNode||document.body.append(In),clearTimeout(Lt),Lt=setTimeout((function(){In.remove()}),500),element},En=null,Ln=function(){return null===En&&(En=Z()&&/^((?!chrome|android).)*(safari|iphone|ipad)/i.test(navigator.userAgent)),En},Fn=function(t){return new Promise((function(e,n){var r=!1;!t.parentNode&&Ln()&&(r=!0,t.style.cssText="position:absolute;visibility:hidden;pointer-events:none;left:0;top:0;width:0;height:0;",An(t));var o=function(){var n=t.naturalWidth,o=t.naturalHeight;n&&o&&(r&&t.remove(),clearInterval(c),e({width:n,height:o}))};t.onerror=function(t){clearInterval(c),n(t)};var c=setInterval(o,1);o()}))},zn=function(element){return new Promise((function(t,e){var n=function(){t({width:element.videoWidth,height:element.videoHeight})};if(element.readyState>=1)return n();element.onloadedmetadata=n,element.onerror=e}))},On=function(t){return/^image/.test(t.type)},Bn=function(t){return new Promise((function(e){var n=ht(t)?t:URL.createObjectURL(t),r=function(){var image=new Image;image.src=n,e(image)};if(t instanceof Blob&&On(t))return r();var element=document.createElement("video");element.preload="metadata",element.onloadedmetadata=function(){return e(element)},element.onerror=r,element.src=n}))},Dn=function(element){return"VIDEO"===element.nodeName},_n=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.src){t.next=6;break}return t.next=3,Bn(e);case 3:n=t.sent,t.next=7;break;case 6:n=e;case 7:if(t.prev=7,!Dn(n)){t.next=14;break}return t.next=11,zn(n);case 11:t.t0=t.sent,t.next=17;break;case 14:return t.next=16,Fn(n);case 16:t.t0=t.sent;case 17:r=t.t0;case 18:return t.prev=18,Rn(e)&&URL.revokeObjectURL(n.src),t.finish(18);case 21:return t.abrupt("return",r);case 22:case"end":return t.stop()}}),t,null,[[7,,18,21]])})));return function(e){return t.apply(this,arguments)}}(),Un=function(image){return new Promise((function(t,e){if(image.complete)return t(image);image.onload=function(){return t(image)},image.onerror=e}))},Nn=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,image,canvas,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_n(e);case 2:return n=t.sent,t.next=5,Un(e);case 5:return image=t.sent,canvas=J("canvas",n),canvas.getContext("2d",{willReadFrequently:!0}).drawImage(image,0,0),t.next=11,kt(canvas);case 11:return r=t.sent,t.abrupt("return",Et(r,Mn(image.src)));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Wn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new(U("ProgressEvent"))("progress",{loaded:100*t,total:100,lengthComputable:e})},jn=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"data-uri",(r=f.length>2&&void 0!==f[2]?f[2]:N)(Wn(0)),t.next=5,fetch(e);case 5:return o=t.sent,r(Wn(.33)),t.next=9,o.blob();case 9:return c=t.sent,On(c)||(l="image/".concat(e.includes(",/9j/")?"jpeg":"png")),r(Wn(.66)),d=Et(c,n,l),r(Wn(1)),t.abrupt("return",d);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vn=function(t,header){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(header){return header};return t.getAllResponseHeaders().indexOf(header)>=0?e(t.getResponseHeader(header)):void 0},Gn=function(header){if(!header)return null;var t=header.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return t.length?decodeURI(t[t.length-1]):null},Hn="URL_REQUEST",Zn=function(t){(0,h.default)(n,t);var e=L(n);function n(t,code,r){var o;return(0,f.default)(this,n),(o=e.call(this,t)).name="EditorError",o.code=code,o.metadata=r,o}return(0,d.default)(n)}((0,y.default)(Error)),Xn=function(t,e){var n=e||{},r=n.headers,o=void 0===r?{}:r,c=n.credentials;Object.entries(o).forEach((function(e){var n=(0,w.default)(e,2),header=n[0],r=n[1];return t.setRequestHeader(header,r)})),c&&(t.withCredentials="omit"!==c)},qn=function(t,e,n){return/^data:/.test(t)?jn(t,void 0,e):function(t,e,n){return new Promise((function(r,o){var c=function(){return o(new Zn("Error fetching image",Hn,l))},l=new XMLHttpRequest;l.onprogress=e,l.onerror=c,l.onload=function(){if(!l.response||l.status>=300||l.status<200)return c();var e=Vn(l,"Content-Type"),n=Vn(l,"Content-Disposition",Gn)||Mn(t);r(Et(l.response,n,e||At(n)))};var d=n.willRequest;Promise.resolve(d&&d(t,{resourceType:"image"})).then((function(e){if(!1===e)return o("Image load rejected");l.open("GET",t),Xn(l,e),l.responseType="blob",l.send()})).catch(console.error)}))}(t,e,n)},Yn=function(t){return t instanceof Blob&&!(t instanceof File)},Kn=function(t){return"close"in t},Jn=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Rn(e)&&!Yn(e)){t.next=4;break}return t.abrupt("return",e);case 4:if(!ht(e)){t.next=10;break}return t.next=7,qn(e,n,r);case 7:case 13:case 19:case 29:return t.abrupt("return",t.sent);case 10:if(!Sn(e,"canvas")){t.next=16;break}return t.next=13,Cn(e);case 16:if(!Sn(e,"img")){t.next=22;break}return t.next=19,Nn(e);case 22:if(!nt(e)&&!Kn(e)){t.next=32;break}return t.t0=Cn,t.next=26,ct(e);case 26:return t.t1=t.sent,t.next=29,(0,t.t0)(t.t1);case 32:throw new Zn("Invalid image source","invalid-image-source");case 33:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Qn=null,er=function(){return null===Qn&&(Qn=Z()&&/^mac/i.test(navigator.platform)),Qn},nr=null,rr=function(){return null===nr&&(nr=Z()&&(it(/iPhone|iPad|iPod/)||er()&&navigator.maxTouchPoints>=1)),nr},ir=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,t.next=3,Y();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=rr();case 6:if(!t.t0){t.next=8;break}return t.abrupt("return",e);case 8:if(!(n<5)){t.next=10;break}return t.abrupt("return",e);case 10:return t.abrupt("return",Te(e.height,e.width));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),or=function(t){return/jpeg/.test(t.type)},ar=function(t){return e=t,"object"!=(0,x.default)(e)||e.constructor!=Object?t:JSON.stringify(t);var e},ur=function(t,e,n){return new Promise((function(r,o){var c=n.token,l=void 0===c?{}:c,d=n.beforeSend,f=void 0===d?N:d,h=n.onprogress,v=void 0===h?N:h;l.cancel=function(){return m.abort()};var m=new XMLHttpRequest;m.upload.onprogress=v,m.onload=function(){return m.status>=200&&m.status<300?r(m):o(m)},m.onerror=function(){return o(m)},m.ontimeout=function(){return o(m)},m.open("POST",encodeURI(t)),f(m),m.send(e instanceof FormData?e:e.reduce((function(t,e){return t.append.apply(t,(0,P.default)(e.map(ar))),t}),new FormData))}))},cr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return 0===e||(t.translate(n.x,n.y),t.rotate(e),t.translate(-n.x,-n.y)),t},lr=function(t,e,n){return t.translate(e,n),t},sr=function(t,e,n){return t.scale(e,n),t},dr=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,f,h,v,m,y,$,image,x,w,P,k,S,R=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=R.length>1&&void 0!==R[1]?R[1]:{}).flipX,o=n.flipY,c=n.rotation,l=n.crop,d=Se(e),f=r||o,h=!!c,v=l&&(l.x||l.y||l.width||l.height),m=v&&en(l,je(d)),y=v&&!m,f||h||y){t.next=10;break}return t.abrupt("return",e);case 10:if((image=J("canvas",{width:e.width,height:e.height})).getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),f&&(x=J("canvas",{width:image.width,height:image.height}).getContext("2d",{willReadFrequently:!0}),sr(x,r?-1:1,o?-1:1),x.drawImage(image,r?-image.width:0,o?-image.height:0),x.restore(),et(image),image=x.canvas),!h){t.next=24;break}w=ze(Re(Ge(an(Ve(image),c))),Math.floor),P=J("canvas",{width:l.width,height:l.height}).getContext("2d",{willReadFrequently:!0}),lr(P,-l.x,-l.y),cr(P,c,Ee(w)),P.drawImage(image,.5*(w.width-image.width),.5*(w.height-image.height)),P.restore(),et(image),image=P.canvas,t.next=29;break;case 24:if(!y){t.next=29;break}return k=image.getContext("2d",{willReadFrequently:!0}),$=k.getImageData(l.x,l.y,l.width,l.height),et(image),t.abrupt("return",$);case 29:return S=image.getContext("2d",{willReadFrequently:!0}),$=S.getImageData(0,0,image.width,image.height),et(image),t.abrupt("return",$);case 33:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fr=function(t,e){for(var n=t.imageData,r=t.width,o=t.height,c=n.width,l=n.height,d=Math.round(r),f=Math.round(o),h=n.data,v=new Uint8ClampedArray(d*f*4),m=c/d,y=l/f,$=Math.ceil(.5*m),x=Math.ceil(.5*y),w=0;w<f;w++)for(var i=0;i<d;i++){for(var P=4*(i+w*d),k=0,S=0,R=0,C=0,g=0,b=0,a=0,M=(w+.5)*y,T=Math.floor(w*y);T<(w+1)*y;T++)for(var I=Math.abs(M-(T+.5))/x,A=(i+.5)*m,E=I*I,L=Math.floor(i*m);L<(i+1)*m;L++){var F=Math.abs(A-(L+.5))/$,z=Math.sqrt(E+F*F);if(!(z<-1||z>1)&&!((k=2*z*z*z-3*z*z+1)<=0)){var O=h[(F=4*(L+T*c))+3];a+=k*O,R+=k,O<255&&(k=k*O/250),C+=k*h[F],g+=k*h[F+1],b+=k*h[F+2],S+=k}}v[P]=C/S,v[P+1]=g/S,v[P+2]=b/S,v[P+3]=a/R}e(null,{data:v,width:d,height:f})},pr=function(t){if(t instanceof ImageData)return t;var e;try{e=new ImageData(t.width,t.height)}catch(n){e=J("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},vr=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,f,h,v,m,y,$=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=$.length>2?$[2]:void 0,o=(n=$.length>1&&void 0!==$[1]?$[1]:{}).width,c=n.height,l=n.fit,d=n.upscale,o||c){t.next=5;break}return t.abrupt("return",e);case 5:if(f=o,h=c,o?c||(h=o):f=c,"force"===l){t.next=17;break}if(v=f/e.width,m=h/e.height,y=1,"cover"===l?y=Math.max(v,m):"contain"===l&&(y=Math.min(v,m)),!(y>1&&!1===d)){t.next=15;break}return t.abrupt("return",e);case 15:f=Math.round(e.width*y),h=Math.round(e.height*y);case 17:if(f=Math.max(f,1),h=Math.max(h,1),e.width!==f||e.height!==h){t.next=21;break}return t.abrupt("return",e);case 21:if(!r){t.next=23;break}return t.abrupt("return",r(e,f,h));case 23:return t.next=25,wt(fr,[{imageData:e,width:f,height:h}],[e.data.buffer]);case 25:return e=t.sent,t.abrupt("return",pr(e));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),mr=function(t,e){var n=t.imageData,r=t.matrix;if(!r)return e(null,n);for(var o=new Uint8ClampedArray(n.width*n.height*4),data=n.data,c=data.length,l=r[0],d=r[1],f=r[2],h=r[3],v=r[4],m=r[5],y=r[6],$=r[7],x=r[8],w=r[9],P=r[10],k=r[11],S=r[12],R=r[13],C=r[14],M=r[15],T=r[16],I=r[17],A=r[18],E=r[19],L=0,F=0,g=0,b=0,a=0,z=0,O=0,B=0,D=0,_=0,U=0,N=0;L<c;L+=4)z=(F=data[L]/255)*l+(g=data[L+1]/255)*d+(b=data[L+2]/255)*f+(a=data[L+3]/255)*h+v,O=F*m+g*y+b*$+a*x+w,B=F*P+g*k+b*S+a*R+C,D=F*M+g*T+b*I+a*A+E,_=Math.max(0,z*D)+(1-D),U=Math.max(0,O*D)+(1-D),N=Math.max(0,B*D)+(1-D),o[L]=255*Math.max(0,Math.min(1,_)),o[L+1]=255*Math.max(0,Math.min(1,U)),o[L+2]=255*Math.max(0,Math.min(1,N)),o[L+3]=255*a;e(null,{data:o,width:n.width,height:n.height})},gr=function(t,e){var n=t.imageData,r=t.matrix;if(!r)return e(null,n);var o=r.reduce((function(t,e){return t+e}));o=o<=0?1:o;var c=n.width,l=n.height,d=n.data,i=0,f=0,h=0,v=Math.round(Math.sqrt(r.length)),m=Math.floor(v/2),y=0,g=0,b=0,a=0,$=0,x=0,w=0,P=0,k=0,S=0,R=new Uint8ClampedArray(c*l*4);for(h=0;h<l;h++)for(f=0;f<c;f++){for(y=0,g=0,b=0,a=0,x=0;x<v;x++)for($=0;$<v;$++)(w=h+x-m)<0&&(w=l-1),w>=l&&(w=0),(P=f+$-m)<0&&(P=c-1),P>=c&&(P=0),k=4*(w*c+P),S=r[x*v+$],y+=d[k]*S,g+=d[k+1]*S,b+=d[k+2]*S,a+=d[k+3]*S;R[i]=y/o,R[i+1]=g/o,R[i+2]=b/o,R[i+3]=a/o,i+=4}e(null,{data:R,width:c,height:l})},yr=function(t,e){var n=t.imageData,r=t.strength;if(!r)return e(null,n);var o,c,l,d,f,br,h,v,m,y,$,x,input,output,w,P=new Uint8ClampedArray(n.width*n.height*4),k=n.width,S=n.height,R=n.data,C=function(t,e){return o=t-I,c=e-A,Math.sqrt(o*o+c*c)},M=0,T=0,I=.5*k,A=.5*S,E=C(0,0);for(r>0?(l=0,d=0,f=0):(r=Math.abs(r),l=1,d=1,f=1),T=0;T<S;T++)for(M=0;M<k;M++)x=4*(M+T*k),input=R,output=P,w=C(M,T)*r/E,br=input[x]/255,h=input[x+1]/255,v=input[x+2]/255,m=input[x+3]/255,$=(y=1-w)*m+w,output[x]=(y*m*br+w*l)/$*255,output[x+1]=(y*m*h+w*d)/$*255,output[x+2]=(y*m*v+w*f)/$*255,output[x+3]=255*$;e(null,{data:P,width:n.width,height:n.height})},$r=function(t,e){var n=t.imageData,r=t.level,o=t.monochrome,c=void 0!==o&&o;if(!r)return e(null,n);for(var l,g,b,d=new Uint8ClampedArray(n.width*n.height*4),data=n.data,f=data.length,h=0,v=function(){return 255*(2*Math.random()-1)*r},m=c?function(){var t=v();return[t,t,t]}:function(){return[v(),v(),v()]};h<f;h+=4){var y=m(),$=(0,w.default)(y,3);l=$[0],g=$[1],b=$[2],d[h]=data[h]+l,d[h+1]=data[h+1]+g,d[h+2]=data[h+2]+b,d[h+3]=data[h+3]}e(null,{data:d,width:n.width,height:n.height})},xr=function(t,e){var n=t.imageData,r=t.level;if(!r)return e(null,n);for(var o,g,b,c=new Uint8ClampedArray(n.width*n.height*4),data=n.data,l=data.length,d=0;d<l;d+=4)o=data[d]/255,g=data[d+1]/255,b=data[d+2]/255,c[d]=255*Math.pow(o,r),c[d+1]=255*Math.pow(g,r),c[d+2]=255*Math.pow(b,r),c[d+3]=data[d+3];e(null,{data:c,width:n.width,height:n.height})},wr=function(t){for(var e,n=t.length,s=n>=20?6:n>=16?5:3,i=0;i<n;i++){if(1===(e=t[i])&&i%s!=0)return!1;if(0!==e&&1!==e)return!1}return!0},Pr=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,f,h,v=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=v.length>1&&void 0!==v[1]?v[1]:{}).colorMatrix,o=n.convolutionMatrix,c=n.gamma,l=n.noise,d=n.vignette,f=[],o&&f.push([gr,{matrix:o.clarity}]),c>0&&f.push([xr,{level:1/c}]),r&&!wr(r)&&f.push([mr,{matrix:r}]),(l>0||l<0)&&f.push([$r,{level:l}]),(d>0||d<0)&&f.push([yr,{strength:d}]),f.length){t.next=10;break}return t.abrupt("return",e);case 10:return h="function (options, done) {\n        const filterInstructions = options.filterInstructions;\n        const imageData = options.imageData;\n        (".concat(function t(e,i){return"(err, imageData) => {\n            (".concat(e[i][0].toString(),")(Object.assign({ imageData: imageData }, filterInstructions[").concat(i,"]), \n                ").concat(e[i+1]?t(e,i+1):"done",")\n        }")}(f,0),")(null, imageData)\n    }"),t.next=14,wt(h,[{imageData:e,filterInstructions:f.map((function(t){return t[1]}))}],[e.data.buffer]);case 14:return e=t.sent,t.abrupt("return",pr(e));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),kr=function(t){return"number"==typeof t},Sr=function(t){return ht(t)&&null!==t.match(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g)},Rr=function(t,e){return t.hasOwnProperty(e)},Cr=function(t){return Array.isArray(t)},Mr=64,Tr=102,Ir=112,Ar=!1,Er=function(t,e){return!Ar&&Z()&&(/^win/i.test(navigator.platform)&&(Tr=103),(rr()||er())&&(Mr=63.5,Tr=110,Ir=123),Ar=!0),"<svg".concat(e?' aria-label="'.concat(e,'"'):"",' width="128" height="128" viewBox="0 0 128 128" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><text x="').concat(Mr,'" y="').concat(Tr,'" alignment-baseline="text-top" dominant-baseline="text-top" text-anchor="middle" font-size="').concat(Ir,'px">').concat(t,"</text></svg>")},Lr=function(t){return t instanceof Blob},Fr=function(t,e){return"".concat(t/e*100,"%")},zr=function(t){return"rgba(".concat(Math.round(255*t[0]),", ").concat(Math.round(255*t[1]),", ").concat(Math.round(255*t[2]),", ").concat(kr(t[3])?t[3]:1,")")},Or=function(t){return Object.values(t).join("_")},Br=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){setTimeout(e,t)}))},Dr=function(t){return!new Uint32Array(t.getImageData(0,0,t.canvas.width,t.canvas.height).data.buffer).some((function(t){return 0!==t}))},_r=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(img){var e,canvas,n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:0,canvas=J("canvas",{width:80,height:80}),n=canvas.getContext("2d"),t.next=5,Br(e);case 5:if(n.drawImage(img,0,0,80,80),!(Dr(n)&&e<=256)){t.next=10;break}return t.next=9,_r(img,e+16);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ur=new Map,Nr=function(svg){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).safariCacheKey,e=void 0===t?"*":t;return new Promise((function(t,n){var img=new Image;img.onerror=n,img.onload=function(){if(!Ln()||!svg.includes("@font-face")||Ur.has(e))return t(img);_r(img).then((function(){Ur.set(e,!0),t(img)}))},img.src="data:image/svg+xml,"+svg}))},Wr=function(t){return new Promise((function(e,n){var r=new FileReader;r.onerror=n,r.onload=function(){return e(r.result)},r.readAsDataURL(t)}))},jr=function(){var t=[];return{sub:function(e,n){return t.push({event:e,callback:n}),function(){return t=t.filter((function(t){return t.event!==e||t.callback!==n}))}},pub:function(e,n){t.filter((function(sub){return sub.event===e})).forEach((function(sub){return sub.callback(n)}))}}},Vr=32,Gr=function(t){var e=t.color,n=void 0===e?[0,0,0]:e,r=t.fontSize,o=void 0===r?16:r,c=t.fontFamily,l=void 0===c?"sans-serif":c,d=t.fontVariant,f=void 0===d?"normal":d,h=t.fontWeight,v=void 0===h?"normal":h,m=t.fontStyle,y=void 0===m?"normal":m,$=t.textAlign,x=void 0===$?"left":$,w=t.lineHeight,P=void 0===w?20:w;return"font-size:".concat(o,"px;font-style:").concat(y,";font-weight:").concat(v,";font-family:").concat(l,";font-variant:").concat(f,";line-height:").concat(P,"px;text-align:").concat(x,";color:").concat(zr(n),";")},Hr=function(text,t){var e=t.width,n=t.height,r=!e,o=!1===t.disableNewline?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n").length}(text):void 0,c=r?"auto":"".concat(e,"px"),l=n?"".concat(n,"px"):"auto",d=r?"normal":"break-word",f=r&&!o?"nowrap":"pre-line",h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.fontSize,n=void 0===e?16:e,r=t.lineHeight,o=void 0===r?20:r;return.5*Math.max(0,n-o)}(t);return"max-width:none;min-width:auto;width:".concat(c,";height:").concat(l,";margin-top:0;margin-bottom:0;padding-top:").concat(h,"px;word-break:").concat(d,";word-wrap:normal;white-space:").concat(f,";overflow:visible;")},Zr=new Map,Xr=new Map,qr=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,e=t.width,n=void 0===e?0:e,r=t.height,o=void 0===r?0:r;if(n&&o)return Te(n,o);var c=t.fontSize,l=void 0===c?16:c,d=t.fontFamily,f=t.lineHeight,h=void 0===f?20:f,v=t.fontWeight,m=t.fontStyle,y=t.fontVariant,$=Or({text:text,fontFamily:d,fontWeight:v,fontStyle:m,fontVariant:y,fontSize:l,lineHeight:h,width:n}),x=Xr.get($);if(x)return x;Ln()&&text.endsWith("\n")&&!text.endsWith("\n\n")&&(text+="\n");var rect=An(J("pre",{contenteditable:"true",spellcheck:"false",style:"pointer-events:none;visibility:hidden;position:absolute;".concat(Gr(t),";").concat(Hr(text,t),'"'),innerHTML:text},[J("span")])).getBoundingClientRect();return(x=Se(rect)).height+=Math.max(0,l-h),Xr.set($,x),x},Yr=function(t){return t.pathname.split("/").slice(0,-1).join("/")},Kr=new Map,Jr=function(t,e){return new Promise((function(n,r){var o=Kr.get(t);void 0===o&&(o=function(t,e){var text,n,r=jr(),o=r.sub,c=r.pub;return Promise.resolve(e&&e(t,{resourceType:"stylesheet"})).then((function(e){if(!1===e)return c("error",n="requestPrevented");var r=e||{},o=r.headers,l=r.credentials;fetch(t,{headers:o,credentials:l}).then((function(t){return t.text()})).then((function(t){c("load",text=t)})).catch((function(t){c("error",n=t)}))})),{sub:function(t,e){return"load"===t&&text?e(text):"error"===t&&n?e(n):void o(t,e)}}}(t,e),Kr.set(t,o)),o.sub("load",n),o.sub("error",r)}))},Qr=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,style,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jr(e,n);case 3:r=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",[]);case 9:return style=J("style",{innerHTML:r,id:$t()}),document.head.append(style),o=Array.from(document.styleSheets).find((function(t){return t.ownerNode.id===style.id})),style.remove(),t.abrupt("return",Array.from(o.cssRules));case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}(),ti=new Map,ei=function(t){return t.filter((function(t){return t instanceof CSSFontFaceRule}))},ni=function(t){return t.filter((function(t){return t instanceof CSSImportRule}))},ri=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,d,f,h,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ti.has(e.href)){t.next=2;break}return t.abrupt("return",ti.get(e.href));case 2:t.prev=2,r=Array.from(e.cssRules),o=A(ni(r)),t.prev=5,o.s();case 7:if((c=o.n()).done){t.next=21;break}if(l=c.value,d=l.href,!ti.has(d)){t.next=14;break}return f=ti.get(d),r=[].concat((0,P.default)(r),(0,P.default)(f)),t.abrupt("continue",19);case 14:return t.next=16,Qr(d,n);case 16:h=t.sent,ti.set(d,h),r=[].concat((0,P.default)(r),(0,P.default)(h));case 19:t.next=7;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(5),o.e(t.t0);case 26:return t.prev=26,o.f(),t.finish(26);case 29:t.next=38;break;case 31:return t.prev=31,t.t1=t.catch(2),v=e.href,t.next=36,Qr(v,n);case 36:r=t.sent,ti.set(v,r);case 38:return t.abrupt("return",ei(r));case 39:case"end":return t.stop()}}),t,null,[[2,31],[5,23,26,29]])})));return function(e,n){return t.apply(this,arguments)}}(),ii=function(t,e){return t.style.getPropertyValue(e)},oi=function(t,e){return!!t.style&&ii(t,"font-family").replace(/^"|"$/g,"")==e},ai=function(t,e){var n,r=[],o=A(t);try{for(o.s();!(n=o.n()).done;){var c=n.value;oi(c,e)&&r.push(c)}}catch(t){o.e(t)}finally{o.f()}return r},ui=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(document.styleSheets).map((function(t){return ri(t,e)})),t.next=3,Promise.all(n);case 3:return r=t.sent,o=[],r.forEach((function(t){return o.push.apply(o,(0,P.default)(t))})),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ci=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ui(n);case 2:if(r=t.sent,(o=ai(r,e)).length){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",o.map((function(t){var e=t.parentStyleSheet.href&&new URL(t.parentStyleSheet.href),n=e?e.origin+Yr(e)+"/":"",r=t.style.getPropertyValue("src").match(/url\("?(.*?)"?\)/)[1],o=Array.from(t.style).filter((function(t){return"src"!=t})).reduce((function(e,n){return e+=n+":"+ii(t,n)+";"}),"");return[/^http/.test(r)?r:n+r,o]})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),si=new Map,di=new Map,fi=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,d,f,h,v,m,y,$;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!si.get(e)){t.next=2;break}return t.abrupt("return");case 2:if(r=di.get(e)){t.next=36;break}return t.next=6,ci(e,n);case 6:if((o=t.sent).length){t.next=10;break}return si.set(e,!0),t.abrupt("return");case 10:c=[],l=A(o),t.prev=12,l.s();case 14:if((d=l.n()).done){t.next=26;break}return f=(0,w.default)(d.value,2),h=f[0],v=f[1],t.next=18,fetch(h).then((function(t){return t.blob()}));case 18:return m=t.sent,x=m.type,y=!x||/woff2/.test(x)?"woff2":/woff/.test(x)?"woff":/ttf|truetype/.test(x)?"truetype":/otf|opentype/.test(x)?"opentype":/svg/.test(x)?"svg":"woff2",t.next=22,Wr(m);case 22:$=t.sent,c.push("@font-face { src:url(".concat($,") format('").concat(y,"');").concat(v,";font-display:block; }"));case 24:t.next=14;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(12),l.e(t.t0);case 31:return t.prev=31,l.f(),t.finish(31);case 34:r=c.join(""),di.set(e,r);case 36:return t.abrupt("return",r);case 37:case"end":return t.stop()}var x}),t,null,[[12,28,31,34]])})));return function(e,n){return t.apply(this,arguments)}}(),pi=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(){var text,e,n,r,o,c,l,d,f,h,v,m,y,$,x,w,P,k,S,R,C,M,svg,T=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=T.length>1?T[1]:void 0,(text=T.length>0&&void 0!==T[0]?T[0]:"").length){t.next=4;break}return t.abrupt("return");case 4:return n=e.imageWidth,r=void 0===n?300:n,o=e.imageHeight,c=void 0===o?150:o,l=e.paddingLeft,d=void 0===l?Vr:l,f=e.paddingRight,h=void 0===f?Vr:f,v=e.fontFamily,m=e.pixelRatio,y=void 0===m?1:m,$=e.willRequest,x=(r+d+h)*y,w=c*y,P=Gr(e),k=Hr(text,e),t.next=11,fi(v,$);case 11:return S=t.sent,R=text.replace(/&/g,"&amp;").replace(/#/g,"%23").replace(/<br>/g,"___BR___").replace(/\n/g,"___BR___"),C=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"),M=C.replace(/___BR___/g,"<br/>"),svg='<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(x,'" height="').concat(w,'" viewBox="0 0 ').concat(x," ").concat(w,'"><foreignObject x="0" y="0" width="').concat(x,'" height="').concat(w,'"><div xmlns="http://www.w3.org/1999/xhtml" style="transform-origin:0 0;transform:scale(').concat(y,')">').concat(S?"<style>".concat(S,"</style>"):"",'<pre contenteditable="true" spellcheck="false" style="position:absolute;padding-right:').concat(h,"px;padding-left:").concat(d,"px;").concat(P,";").concat(k,'">').concat(M,"</pre></div></foreignObject></svg>"),t.abrupt("return",Nr(svg,{safariCacheKey:v}));case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),hi=function(t){var e=z({},t),n=pt(e);return n},vi=function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=nn(t),l=o.width||o.rx,d=o.height||o.ry;if(l&&d)return ke(o);if(l||d){n=parseFloat(l||Number.MAX_SAFE_INTEGER),r=parseFloat(d||Number.MAX_SAFE_INTEGER);var f=Math.min(n,r);ht(l)||ht(d)?(n="".concat(f,"%"),r="".concat(f*c,"%")):(n=f,r=f)}else{n="".concat(10,"%"),r="".concat(10*c,"%")}var h=o.width?"width":o.rx?"rx":void 0,v=o.width?"height":o.rx?"ry":void 0;return e={},(0,$.default)(e,h||"width",n),(0,$.default)(e,v||"height",r),e},mi=function(t){var svg;return z(z({width:void 0,height:void 0},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{aspectRatio:1,backgroundImage:(svg=Er(t),"data:image/svg+xml,".concat(svg.replace("<","%3C").replace(">","%3E")))})},gi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return z(z(z({backgroundColor:[0,0,0,0]},Si(e)?{}:{width:void 0,height:void 0,aspectRatio:void 0}),e),{},{backgroundImage:ht(t)?t:Lr(t)?URL.createObjectURL(t):t})},bi=function(t,e){var n;if(ht(t)||Lr(t)){var r=z(z({},vi(e)),{},{backgroundSize:"contain"});n=Sr(t)?mi(t,r):gi(t,r)}else if(t.src){var o=vi(e,t.shape||t),c=z(z({},t.shape),o);if(t.width&&t.height&&!Rr(c,"aspectRatio")){var l=uo(o,"width",e),d=uo(o,"height",e);c.aspectRatio=Ft(l,d)}c.backgroundSize||t.shape||t.width&&t.height||(c.backgroundSize="contain"),n=Sr(t.src)?mi(t.src,c):gi(t.src,c)}else t.shape&&(n=hi(t.shape));return Rr(n,"backgroundImage")&&(Rr(n,"backgroundColor")||(n.backgroundColor=[0,0,0,0]),Rr(n,"disableStyle")||(n.disableStyle=["cornerRadius","backgroundColor","strokeColor","strokeWidth"])),e?oo(n,e):n},yi=function(line){return te(line.x1,line.y1)},$i=function(line){return te(line.x2,line.y2)},xi=function(t){return Rr(t,"text")},wi=function(t){return xi(t)&&!(zi(t)||Rr(t,"width"))},Pi=function(t){return xi(t)&&(zi(t)||Rr(t,"width"))},ki=function(t){return!xi(t)&&Oi(t)},Si=function(t){return Rr(t,"rx")},Ri=function(t){return Rr(t,"x1")},Ci=function(t){return Rr(t,"points")},Mi=function(t){return xi(t)&&t.isEditing},Ti=function(t){return!Rr(t,"opacity")||t.opacity>0},Ii=function(t){return t.isSelected},Ai=function(t){return t.isEditing},Ei=function(t){return t._isDraft},Li=function(t){return Rr(t,"width")&&Rr(t,"height")},Fi=function(t){var e=Rr(t,"right"),n=Rr(t,"bottom");return e||n},zi=function(t){return(Rr(t,"x")||Rr(t,"left"))&&Rr(t,"right")||(Rr(t,"y")||Rr(t,"top"))&&Rr(t,"bottom")},Oi=function(t){return Li(t)||zi(t)},Bi=function(t){return t._isDraft=!0,t},Di=function(t,style){return!0!==t.disableStyle&&(!Cr(t.disableStyle)||!style||!t.disableStyle.includes(style))},_i=function(t){return!0!==t.disableSelect},Ui=function(t){return!0!==t.disableRemove},Ni=function(t){return!t.disableFlip&&(!Ei(t)&&!Fi(t)&&function(t){return Rr(t,"backgroundImage")||Rr(t,"text")}(t))},Wi=function(t,input){return!!xi(t)&&(!0!==t.disableInput&&(vt(t.disableInput)?t.disableInput(null!=input?input:t.text):input||!0))},ji=function(t,e){return!0!==t.disableTextLayout&&(!Cr(t.disableTextLayout)||!e||!t.disableTextLayout.includes(e))},Vi=function(t){return!0!==t.disableManipulate&&!Ei(t)&&!Fi(t)},Gi=function(t){return Vi(t)&&!0!==t.disableMove},Hi=function(t){return delete t.left,delete t.right,delete t.top,delete t.bottom,t},Zi=function(t){return delete t.rotation,t},Xi=function(t){return t.strokeWidth=t.strokeWidth||1,t.strokeColor=t.strokeColor||[0,0,0],t},qi=function(t){return t.backgroundColor=t.backgroundColor?t.backgroundColor:t.strokeWidth||t.backgroundImage?void 0:[0,0,0],t},Yi=function(t){return!1!==t.disableNewline&&(delete t.textAlign,t.text=t.text.replace(/\n/g," ")),Hi(t)},Ki=function(t){return t.textAlign=t.textAlign||"left",t},Ji=function(t){return function(t){ht(t.id)||(t.id=$t()),Rr(t,"rotation")||(t.rotation=0),Rr(t,"opacity")||(t.opacity=1),Rr(t,"disableErase")||(t.disableErase=!0)}(t),xi(t)?function(t){t.fontSize=t.fontSize||"4%",t.fontFamily=t.fontFamily||"sans-serif",t.fontWeight=t.fontWeight||"normal",t.fontStyle=t.fontStyle||"normal",t.fontVariant=t.fontVariant||"normal",t.lineHeight=t.lineHeight||"120%",t.color=t.color||[0,0,0],wi(t)?Yi(t):Ki(t)}(t):ki(t)?function(t){t.cornerRadius=t.cornerRadius||0,t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],qi(t)}(t):Ci(t)?function(t){Xi(t),Zi(t),Rr(t,"pathClose")||(t.disableResize=!0,Rr(t,"disableMove")||(t.disableMove=!0)),Hi(t)}(t):Ri(t)?function(t){Xi(t),t.lineStart=t.lineStart||void 0,t.lineEnd=t.lineEnd||void 0,Zi(t),Hi(t)}(t):Si(t)&&function(t){t.strokeWidth=t.strokeWidth||0,t.strokeColor=t.strokeColor||[0,0,0],qi(t)}(t),t},Qi=function(t){return xi(t)?"text":ki(t)?"rectangle":Ci(t)?"path":Ri(t)?"line":Si(t)?"ellipse":void 0},to=function(t,e){return parseFloat(t)/100*e},eo=new RegExp(/^x|left|right|^width|rx|fontSize|cornerRadius|strokeWidth/,"i"),no=new RegExp(/^y|top|bottom|^height|ry/,"i"),ro=function(t,e,n){var r=n.width,o=n.height;if(Array.isArray(e))return e.map((function(t){return st(t)&&io(t,{width:r,height:o}),t}));if("string"!=typeof e)return e;if(!e.endsWith("%"))return e;var c=parseFloat(e)/100;return eo.test(t)?Yt(r*c,6):no.test(t)?Yt(o*c,6):e},io=function(t,e){Object.entries(t).map((function(n){var r=(0,w.default)(n,2),o=r[0],c=r[1];t[o]=ro(o,c,e)}));var n=t.lineHeight;ht(n)&&(t.lineHeight=Math.round(t.fontSize*(parseFloat(n)/100)))},oo=function(t,e){return io(t,e),po(t,e),t},ao=function(t,e){var n;return/^x|width|rx|fontSize|strokeWidth|cornerRadius/.test(t)?n=e.width:/^y|height|ry/.test(t)&&(n=e.height),n},uo=function(t,e,n){return Array.isArray(t[e])?t[e].map((function(t){return Object.entries(t).reduce((function(t,e){var r=(0,w.default)(e,2),o=r[0],c=r[1];return t[o]=ht(c)?to(c,ao(o,n)):c,t}),{})})):ht(t[e])?to(t[e],ao(e,n)):t[e]},co=function(t,e,n){return e.reduce((function(e,r){var o=uo(t,r,n);return e[r]=o,e}),{})},lo=function(t,e,n){return Object.keys(e).forEach((function(r){return function(t,e,n,r){if(!ht(t[e]))return t[e]=n,t;var o=ao(e,r);return t[e]=void 0===o?n:Fr(n,o),t}(t,r,e[r],n)})),t},so=function(t,e){var n=t.filter((function(t){return t.x<0||t.y<0||t.x1<0||t.y1<0})).reduce((function(t,e){var n=function(t){var rect=We(),e=t.strokeWidth||0;if(ki(t))rect.x=t.x-.5*e,rect.y=t.y-.5*e,rect.width=t.width+e,rect.height=t.height+e;else if(Ri(t)){var n=t.x1,r=t.y1,o=t.x2,c=t.y2,l=Math.abs(Math.min(n,o)),d=Math.abs(Math.max(n,o)),f=Math.abs(Math.min(r,c)),h=Math.abs(Math.min(r,c));rect.x=l+.5*e,rect.y=d+.5*e,rect.width=d-l+e,rect.height=h-f+e}else Si(t)&&(rect.x=t.x-t.rx+.5*e,rect.y=t.y-t.ry+.5*e,rect.width=2*t.rx+e,rect.height=2*t.ry+e);return rect&&Rr(t,"rotation")&&an(rect,t.rotation),dn(rect)}(e),r=(0,w.default)(n,4),o=r[0],c=r[1],l=r[2],d=r[3];return t.top=Math.min(o,t.top),t.left=Math.min(d,t.left),t.bottom=Math.max(l,t.bottom),t.right=Math.max(c,t.right),t}),{top:0,right:0,bottom:0,left:0});return n.right>0&&(n.right-=e.width),n.bottom>0&&(n.bottom-=e.height),n},fo=function(t,e,n){var r=hi(t);oo(r,e);var o=n(r);return Array.isArray(o)?o:[o]},po=function(t,e){if(Rr(t,"left")&&(t.x=t.left),Rr(t,"right")&&!ht(t.right)){var n=e.width-t.right;Rr(t,"left")?(t.x=t.left,t.width=Math.max(0,n-t.left)):Rr(t,"width")&&(t.x=n-t.width)}if(Rr(t,"top")&&(t.y=t.top),Rr(t,"bottom")&&!ht(t.bottom)){var b=e.height-t.bottom;Rr(t,"top")?(t.y=t.top,t.height=Math.max(0,b-t.top)):Rr(t,"height")&&(t.y=b-t.height)}return t},ho=function(t,e){return Ci(t)&&t.points.filter((function(t){return kr(t.x)})).forEach((function(t){t.x*=e,t.y*=e})),Ri(t)&&kr(t.x1)&&(t.x1*=e,t.y1*=e,t.x2*=e,t.y2*=e),kr(t.x)&&kr(t.y)&&(t.x*=e,t.y*=e),kr(t.width)&&kr(t.height)&&(t.width*=e,t.height*=e),kr(t.rx)&&kr(t.ry)&&(t.rx*=e,t.ry*=e),function(t){return kr(t.strokeWidth)&&t.strokeWidth>0}(t)&&(t.strokeWidth*=e),xi(t)&&(t._scale=e,kr(t.fontSize)&&(t.fontSize*=e),kr(t.lineHeight)&&(t.lineHeight*=e),kr(t.width)&&!kr(t.height)&&(t.width*=e)),Rr(t,"cornerRadius")&&kr(t.cornerRadius)&&(t.cornerRadius*=e),t};e.shapeGetLength=function(t){if(t.x1)return be(te(t.x1,t.y1),te(t.x2,t.y2))};var vo=function(t){if(ki(t))return te(t.x+.5*t.width,t.y+.5*t.height);if(Si(t))return te(t.x,t.y);if(t.text){if(Pi(t)){var e=t.height||qr(t.text,t).height;return te(t.x+.5*t.width,t.y+.5*e)}var n=qr(t.text,t);return te(t.x+.5*n.width,t.y+.5*n.height)}return Ci(t)?$e(t.points):Ri(t)?$e([yi(t),$i(t)]):void 0};e.shapeGetCenter=vo;e.shapeGetLevel=function(t,e){var n=!1;e.flipX&&t.flipX?n=!0:!e.flipX&&t.flipX?n=!1:e.flipX&&!t.flipX&&(n=!0);var r=!1;e.flipY&&t.flipY?r=!0:!e.flipY&&t.flipY?r=!1:e.flipY&&!t.flipY&&(r=!0);var o=-e.rotation;return!n&&!r||n&&r||(o=-o),{flipX:n,flipY:r,rotation:o}};var mo=function(element){return/canvas/i.test(element.nodeName)},go=function(image){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new Promise((function(e,n){var r=image,o=!1,c=function(){o||(o=!0,vt(t)&&Promise.resolve().then((function(){return t(Te(r.naturalWidth,r.naturalHeight))})))};if(r.src||(r=new Image,ht(image)&&new URL(image,location.href).origin!==location.origin&&(r.crossOrigin="anonymous"),r.src=ht(image)?image:URL.createObjectURL(image)),r.complete)return c(),e(r);vt(t)&&Fn(r).then(c).catch(n),r.onload=function(){c(),e(r)},r.onerror=n}))},bo=new Map([]),yo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var o=e.onMetadata,c=void 0===o?N:o,l=e.onLoad,d=void 0===l?n:l,f=e.onError,h=void 0===f?r:f,v=e.onComplete,m=void 0===v?N:v,y=bo.get(t);if(y||(y={loading:!1,complete:!1,error:!1,image:void 0,size:void 0,bus:jr()},bo.set(t,y)),y.bus.sub("meta",c),y.bus.sub("load",d),y.bus.sub("error",h),y.bus.sub("complete",m),mo(t)){var canvas=t,image=canvas.cloneNode();y.complete=!0,y.image=image,y.size=Me(canvas)}if(y.complete)return y.bus.pub("meta",{size:y.size}),y.error?y.bus.pub("error",y.error):y.bus.pub("load",y.image),y.bus.pub("complete"),void(y.bus=jr());y.loading||(y.loading=!0,go(t,(function(t){y.size=t,y.bus.pub("meta",{size:t})})).then((function(image){y.image=image,y.bus.pub("load",image)})).catch((function(t){y.error=t,y.bus.pub("error",t)})).finally((function(){y.complete=!0,y.loading=!1,y.bus.pub("complete"),y.bus=jr()})))}))},$o=function(t,image,e,n){return t.drawImage(image,e.x,e.x,e.width,e.height,n.x,n.y,n.width,n.height)},xo=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,image,n,r){var o,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>4&&void 0!==c[4]?c[4]:$o,e.save(),e.clip(),t.next=5,o(e,image,n,r);case 5:e.restore();case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),wo=function(t,e,n,r,o){var c=Ne(t);if(r){var l=pn(Ge(r),Yt);return l.x*=n.width,l.width*=n.width,l.y*=n.height,l.height*=n.height,{srcRect:l,destRect:c}}var d=Xe(0,0,n.width,n.height);if("contain"===e){var rect=sn(t,nn(d));c.width=rect.width,c.height=rect.height,o?(c.x+=o.x,c.y+=o.y):(c.x+=rect.x,c.y+=rect.y)}else if("cover"===e){var f=ln(c,d.width/d.height);c.width=f.width,c.height=f.height,o?(c.x+=o.x,c.y+=o.y):(c.x+=f.x,c.y+=f.y)}else e?(c.width=e.width,c.height=e.height,o&&(c.x+=o.x,c.y+=o.y)):o&&(c.width=n.width,c.height=n.height,c.x+=o.x,c.y+=o.y);return{srcRect:d,destRect:c}},Po=function(t,e){return e.cornerRadius>0?function(t,e,n,r,o,c){r<2*c&&(c=r/2),o<2*c&&(c=o/2),t.beginPath(),t.moveTo(e+c,n),t.arcTo(e+r,n,e+r,n+o,c),t.arcTo(e+r,n+o,e,n+o,c),t.arcTo(e,n+o,e,n,c),t.arcTo(e,n,e+r,n,c),t.closePath()}(t,e.x,e.y,e.width,e.height,e.cornerRadius):t.rect(e.x,e.y,e.width,e.height),t},ko=function(t,e){return e.backgroundColor&&t.fill(),t},So=function(t,e){return e.strokeWidth&&t.stroke(),t},Ro=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,image,o,c,l,d=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(d.length>2&&void 0!==d[2]?d[2]:{}).drawImage,e.lineWidth=n.strokeWidth?n.strokeWidth:1,e.strokeStyle=n.strokeColor?zr(n.strokeColor):"none",e.fillStyle=n.backgroundColor?zr(n.backgroundColor):"none",e.globalAlpha=n.opacity,!n.backgroundImage){t.next=21;break}if(!mo(n.backgroundImage)){t.next=11;break}image=n.backgroundImage,t.next=14;break;case 11:return t.next=13,yo(n.backgroundImage);case 13:image=t.sent;case 14:return Po(e,n),ko(e,n),o=wo(n,n.backgroundSize,Me(image),n.backgroundCorners,n.backgroundPosition),c=o.srcRect,l=o.destRect,t.next=19,xo(e,image,c,l,r);case 19:return So(e,n),t.abrupt("return",[]);case 21:return Po(e,n),ko(e,n),So(e,n),t.abrupt("return",[]);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Co=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},t.abrupt("return",new Promise(function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(o,c){var l,image,d,f,h,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=r.drawImage,e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?zr(n.strokeColor):"none",e.fillStyle=n.backgroundColor?zr(n.backgroundColor):"none",e.globalAlpha=n.opacity,e.ellipse(n.x,n.y,n.rx,n.ry,0,0,2*Math.PI),n.backgroundColor&&e.fill(),!n.backgroundImage){t.next=25;break}return t.prev=8,t.next=11,yo(n.backgroundImage);case 11:image=t.sent,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),c(t.t0);case 17:return d=Xe(n.x-n.rx,n.y-n.ry,2*n.rx,2*n.ry),f=wo(d,n.backgroundSize,Me(image),n.backgroundCorners,n.backgroundPosition),h=f.srcRect,v=f.destRect,t.next=21,xo(e,image,h,v,l);case 21:n.strokeWidth&&e.stroke(),o([]),t.next=27;break;case 25:n.strokeWidth&&e.stroke(),o([]);case 27:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Mo=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r){var o,rect,c,image;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.width&&n.height?Se(n):qr(n.text,n),rect={x:n.x,y:n.y,width:o.width,height:o.height},Ro(e,z(z(z({},n),rect),{},{options:r})),n.text.length){t.next=5;break}return t.abrupt("return",[]);case 5:return c=r.willRequest,t.next=8,pi(n.text,z(z(z({},n),rect),{},{imageWidth:rect.width,imageHeight:rect.height,willRequest:c}));case 8:return image=t.sent,e.drawImage(image,n.x-Vr,n.y,image.width,image.height),t.abrupt("return",[]);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),To=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(r){var o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?zr(n.strokeColor):"none",e.globalAlpha=n.opacity,o=yi(n),c=$i(n),e.moveTo(o.x,o.y),e.lineTo(c.x,c.y),n.strokeWidth&&e.stroke(),r([]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Io=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e.lineWidth=n.strokeWidth||1,e.strokeStyle=n.strokeColor?zr(n.strokeColor):"none",e.fillStyle=n.backgroundColor?zr(n.backgroundColor):"none",e.globalAlpha=n.opacity;var o=n.points;n.pathClose&&e.beginPath(),e.moveTo(o[0].x,o[0].y);for(var c=o.length,i=1;i<c;i++)e.lineTo(o[i].x,o[i].y);n.pathClose&&e.closePath(),n.strokeWidth&&e.stroke(),n.backgroundColor&&e.fill(),t([])})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ao=function(t,e,n,r){return e||n?(t.translate(r.x,r.y),t.scale(e?-1:1,n?-1:1),t.translate(-r.x,-r.y),t):t},Eo=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r){var o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=vo(n),cr(e,n.rotation,o),Ao(e,n.flipX,n.flipY,o),ki(n)?c=Ro:Si(n)?c=Co:Ri(n)?c=To:Ci(n)?c=Io:xi(n)&&(c=Mo),!c){t.next=14;break}return t.next=7,c(e,n,r);case 7:if((l=t.sent).length){t.next=10;break}return t.abrupt("return",[]);case 10:return t.next=12,Lo(e,l,r);case 12:return d=t.sent,t.abrupt("return",[n].concat((0,P.default)(d)));case 14:return t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Lo=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r){var o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],c=A(n),t.prev=2,c.s();case 4:if((l=c.n()).done){t.next=19;break}return d=l.value,e.save(),e.beginPath(),t.t0=[],t.t1=(0,P.default)(o),t.t2=P.default,t.next=13,Eo(e,d,r);case 13:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),o=t.t0.concat.call(t.t0,t.t1,t.t4),e.restore();case 17:t.next=4;break;case 19:t.next=24;break;case 21:t.prev=21,t.t5=t.catch(2),c.e(t.t5);case 24:return t.prev=24,c.f(),t.finish(24);case 27:return t.abrupt("return",o);case 28:case"end":return t.stop()}}),t,null,[[2,21,24,27]])})));return function(e,n,r){return t.apply(this,arguments)}}(),Fo=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,f,h,v,m,y,$,x,w,canvas,P,k,S,R=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=R.length>1&&void 0!==R[1]?R[1]:{}).shapes,o=void 0===r?[]:r,c=n.contextBounds,l=void 0===c?e:c,d=n.transform,f=void 0===d?N:d,h=n.drawImage,v=n.willRequest,m=n.canvasMemoryLimit,y=n.computeShape,$=void 0===y?zt:y,x=n.preprocessShape,w=void 0===x?zt:x,o.length){t.next=4;break}return t.abrupt("return",e);case 4:return(canvas=J("canvas")).width=l.width,canvas.height=l.height,(P=canvas.getContext("2d",{willReadFrequently:!0})).putImageData(e,l.x||0,l.y||0),k=o.map(hi).map($).map(w).flat(),f(P),t.next=13,Lo(P,k,{drawImage:h,canvasMemoryLimit:m,willRequest:v});case 13:return S=P.getImageData(0,0,canvas.width,canvas.height),et(canvas),t.abrupt("return",S);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),zo=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,image,l,d,f,h,v,m,y=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=y.length>1&&void 0!==y[1]?y[1]:{}).backgroundColor,o=n.backgroundImage,c=!(!r||r&&0===r[3]),o||c){t.next=5;break}return t.abrupt("return",e);case 5:if((image=J("canvas")).width=e.width,image.height=e.height,(l=image.getContext("2d",{willReadFrequently:!0})).putImageData(e,0,0),l.globalCompositeOperation="destination-over",c&&(l.fillStyle=zr(r),l.fillRect(0,0,image.width,image.height)),!o){t.next=22;break}if(!mo(o)){t.next=17;break}d=o,t.next=20;break;case 17:return t.next=19,yo(o);case 19:d=t.sent;case 20:f=wo({x:0,y:0,width:e.width,height:e.height},"cover",{width:d.width,height:d.height}),h=f.srcRect,v=f.destRect,l.drawImage(d,h.x,h.y,h.width,h.height,v.x,v.y,v.width,v.height);case 22:return m=l.getImageData(0,0,image.width,image.height),et(image),t.abrupt("return",m);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Oo=function(t){return t.length?t.reduce((function(t,e){return a=(0,P.default)(t),b=e,(n=new Array(20))[0]=a[0]*b[0]+a[1]*b[5]+a[2]*b[10]+a[3]*b[15],n[1]=a[0]*b[1]+a[1]*b[6]+a[2]*b[11]+a[3]*b[16],n[2]=a[0]*b[2]+a[1]*b[7]+a[2]*b[12]+a[3]*b[17],n[3]=a[0]*b[3]+a[1]*b[8]+a[2]*b[13]+a[3]*b[18],n[4]=a[0]*b[4]+a[1]*b[9]+a[2]*b[14]+a[3]*b[19]+a[4],n[5]=a[5]*b[0]+a[6]*b[5]+a[7]*b[10]+a[8]*b[15],n[6]=a[5]*b[1]+a[6]*b[6]+a[7]*b[11]+a[8]*b[16],n[7]=a[5]*b[2]+a[6]*b[7]+a[7]*b[12]+a[8]*b[17],n[8]=a[5]*b[3]+a[6]*b[8]+a[7]*b[13]+a[8]*b[18],n[9]=a[5]*b[4]+a[6]*b[9]+a[7]*b[14]+a[8]*b[19]+a[9],n[10]=a[10]*b[0]+a[11]*b[5]+a[12]*b[10]+a[13]*b[15],n[11]=a[10]*b[1]+a[11]*b[6]+a[12]*b[11]+a[13]*b[16],n[12]=a[10]*b[2]+a[11]*b[7]+a[12]*b[12]+a[13]*b[17],n[13]=a[10]*b[3]+a[11]*b[8]+a[12]*b[13]+a[13]*b[18],n[14]=a[10]*b[4]+a[11]*b[9]+a[12]*b[14]+a[13]*b[19]+a[14],n[15]=a[15]*b[0]+a[16]*b[5]+a[17]*b[10]+a[18]*b[15],n[16]=a[15]*b[1]+a[16]*b[6]+a[17]*b[11]+a[18]*b[16],n[17]=a[15]*b[2]+a[16]*b[7]+a[17]*b[12]+a[18]*b[17],n[18]=a[15]*b[3]+a[16]*b[8]+a[17]*b[13]+a[18]*b[18],n[19]=a[15]*b[4]+a[16]*b[9]+a[17]*b[14]+a[18]*b[19]+a[19],n;var a,b,n}),t.shift()):[]},Bo=function(t,e){var n=t.width*t.height,r=e.reduce((function(t,e){return e.width>t.width&&e.height>t.height&&(t.width=e.width,t.height=e.height),t}),{width:0,height:0}),o=r.width*r.height;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(t*e)/e}(Math.max(.5,.5+(1-o/n)/2),5)};function Do(){}var _o=function(t){return t};function Uo(t,e){for(var n in e)t[n]=e[n];return t}function No(t){return t()}function Wo(){return Object.create(null)}function jo(t){t.forEach(No)}function Vo(t){return"function"==typeof t}function Go(a,b){return a!=a?b==b:a!==b||a&&"object"===(0,x.default)(a)||"function"==typeof a}function Ho(t){if(null==t)return Do;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=t.subscribe.apply(t,n);return o.unsubscribe?function(){return o.unsubscribe()}:o}function Zo(t){var e;return Ho(t,(function(t){return e=t}))(),e}function Xo(component,t,e){component.$$.on_destroy.push(Ho(t,e))}function qo(t,e,n,r){if(t){var o=Yo(t,e,n,r);return t[0](o)}}function Yo(t,e,n,r){return t[1]&&r?Uo(n.ctx.slice(),t[1](r(e))):n.ctx}function Ko(t,e,n,r){if(t[2]&&r){var o=t[2](r(n));if(void 0===e.dirty)return o;if("object"===(0,x.default)(o)){for(var c=[],l=Math.max(e.dirty.length,o.length),i=0;i<l;i+=1)c[i]=e.dirty[i]|o[i];return c}return e.dirty|o}return e.dirty}function Jo(slot,t,e,n,r,o){if(r){var c=Yo(t,e,n,o);slot.p(c,r)}}function Qo(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,i=0;i<n;i++)e[i]=-1;return e}return-1}function ta(t){var e={};for(var n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function ea(t,e){var n={};for(var r in e=new Set(e),t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function na(t,e,n){return t.set(n),e}function ra(t){return t&&Vo(t.destroy)?t.destroy:Do}var ia="undefined"!=typeof window,oa=ia?function(){return window.performance.now()}:function(){return Date.now()},aa=ia?function(t){return requestAnimationFrame(t)}:Do,ua=new Set;function ca(t){ua.forEach((function(e){e.c(t)||(ua.delete(e),e.f())})),0!==ua.size&&aa(ca)}function la(t){var e;return 0===ua.size&&aa(ca),{promise:new Promise((function(n){ua.add(e={c:t,f:n})})),abort:function(){ua.delete(e)}}}function sa(t,e){t.appendChild(e)}function da(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function fa(t){var e=element("style");return function(t,style){sa(t.head||t,style),style.sheet}(da(t),e),e.sheet}function pa(t,e,n){t.insertBefore(e,n||null)}function ha(t){t.parentNode&&t.parentNode.removeChild(t)}function element(t){return document.createElement(t)}function va(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function text(data){return document.createTextNode(data)}function ma(){return text(" ")}function ga(){return text("")}function ba(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function ya(t){return function(e){return e.preventDefault(),t.call(this,e)}}function $a(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function xa(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function wa(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:xa(t,r,e[r])}function Pa(text,data){data=""+data,text.wholeText!==data&&(text.data=data)}function ka(input,t){input.value=null==t?"":t}function Sa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bubbles,o=void 0!==r&&r,c=n.cancelable,l=void 0!==c&&c,d=document.createEvent("CustomEvent");return d.initCustomEvent(t,o,l,e),d}var Ra=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,f.default)(this,t),this.is_svg=!1,this.is_svg=e,this.e=this.n=null}return(0,d.default)(t,[{key:"c",value:function(html){this.h(html)}},{key:"m",value:function(html,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=va(t.nodeName):this.e=element(t.nodeName),this.t=t,this.c(html)),this.i(e)}},{key:"h",value:function(html){this.e.innerHTML=html,this.n=Array.from(this.e.childNodes)}},{key:"i",value:function(t){for(var i=0;i<this.n.length;i+=1)pa(this.t,this.n[i],t)}},{key:"p",value:function(html){this.d(),this.h(html),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(ha)}}]),t}();function Ca(component,t){return new component(t)}var Ma,Ta=new Map,Ia=0;function Aa(t,a,b,e,n,r,o){for(var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=16.666/e,d="{\n",p=0;p<=1;p+=l){var f=a+(b-a)*r(p);d+=100*p+"%{".concat(o(f,1-f),"}\n")}var h=d+"100% {".concat(o(b,1-b),"}\n}"),v="__svelte_".concat(function(t){for(var e=5381,i=t.length;i--;)e=(e<<5)-e^t.charCodeAt(i);return e>>>0}(h),"_").concat(c),m=da(t),y=Ta.get(m)||function(t,e){var n={stylesheet:fa(e),rules:{}};return Ta.set(t,n),n}(m,t),$=y.stylesheet,x=y.rules;x[v]||(x[v]=!0,$.insertRule("@keyframes ".concat(v," ").concat(h),$.cssRules.length));var w=t.style.animation||"";return t.style.animation="".concat(w?"".concat(w,", "):"").concat(v," ").concat(e,"ms linear ").concat(n,"ms 1 both"),Ia+=1,v}function Ea(t,e){var n=(t.style.animation||"").split(", "),r=n.filter(e?function(t){return t.indexOf(e)<0}:function(t){return-1===t.indexOf("__svelte")}),o=n.length-r.length;o&&(t.style.animation=r.join(", "),(Ia-=o)||aa((function(){Ia||(Ta.forEach((function(t){var e=t.stylesheet.ownerNode;e&&ha(e)})),Ta.clear())})))}function La(component){Ma=component}function Fa(){if(!Ma)throw new Error("Function called outside component initialization");return Ma}function za(t){Fa().$$.on_mount.push(t)}function Oa(t){Fa().$$.after_update.push(t)}function Ba(t){Fa().$$.on_destroy.push(t)}function Da(){var component=Fa();return function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).cancelable,r=void 0!==n&&n,o=component.$$.callbacks[t];if(o){var c=Sa(t,e,{cancelable:r});return o.slice().forEach((function(t){t.call(component,c)})),!c.defaultPrevented}return!0}}function _a(t,e){return Fa().$$.context.set(t,e),e}function Ua(t){return Fa().$$.context.get(t)}function Na(component,t){var e=this,n=component.$$.callbacks[t.type];n&&n.slice().forEach((function(n){return n.call(e,t)}))}var Wa=[],ja=[],Va=[],Ga=[],Ha=Promise.resolve(),Za=!1;function Xa(){Za||(Za=!0,Ha.then(eu))}function qa(){return Xa(),Ha}function Ya(t){Va.push(t)}function Ka(t){Ga.push(t)}var Ja,Qa=new Set,tu=0;function eu(){var t=Ma;do{for(;tu<Wa.length;){var component=Wa[tu];tu++,La(component),nu(component.$$)}for(La(null),Wa.length=0,tu=0;ja.length;)ja.pop()();for(var i=0;i<Va.length;i+=1){var e=Va[i];Qa.has(e)||(Qa.add(e),e())}Va.length=0}while(Wa.length);for(;Ga.length;)Ga.pop()();Za=!1,Qa.clear(),La(t)}function nu(t){if(null!==t.fragment){t.update(),jo(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ya)}}function ru(t,e,n){t.dispatchEvent(Sa("".concat(e?"intro":"outro").concat(n)))}var iu,ou=new Set;function au(){iu={r:0,c:[],p:iu}}function uu(){iu.r||jo(iu.c),iu=iu.p}function cu(t,e){t&&t.i&&(ou.delete(t),t.i(e))}function lu(t,e,n,r){if(t&&t.o){if(ou.has(t))return;ou.add(t),iu.c.push((function(){ou.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}var su={duration:0};function du(t,e,n,r){var o={direction:"both"},c=e(t,n,o),l=r?0:1,d=null,f=null,h=null;function v(){h&&Ea(t,h)}function m(t,e){var n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(b){var e=c||su,n=e.delay,r=void 0===n?0:n,o=e.duration,y=void 0===o?300:o,$=e.easing,x=void 0===$?_o:$,w=e.tick,P=void 0===w?Do:w,k=e.css,S={start:oa()+r,b:b};b||(S.group=iu,iu.r+=1),d||f?f=S:(k&&(v(),h=Aa(t,l,b,y,r,x,k)),b&&P(0,1),d=m(S,y),Ya((function(){return ru(t,b,"start")})),la((function(e){if(f&&e>f.start&&(d=m(f,y),f=null,ru(t,d.b,"start"),k&&(v(),h=Aa(t,l,d.b,d.duration,0,x,c.css))),d)if(e>=d.end)P(l=d.b,1-l),ru(t,d.b,"end"),f||(d.b?v():--d.group.r||jo(d.group.c)),d=null;else if(e>=d.start){var p=e-d.start;l=d.a+d.d*x(p/d.duration),P(l,1-l)}return!(!d&&!f)})))}return{run:function(b){Vo(c)?(Ja||(Ja=Promise.resolve()).then((function(){Ja=null})),Ja).then((function(){c=c(o),y(b)})):y(b)},end:function(){v(),d=f=null}}}var fu="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;function pu(t,e){t.d(1),e.delete(t.key)}function hu(t,e){lu(t,1,1,(function(){e.delete(t.key)}))}function vu(t,e,n,r,o,c,l,d,f,h,v,m){for(var y=t.length,$=c.length,i=y,x={};i--;)x[t[i].key]=i;var w=[],P=new Map,k=new Map;for(i=$;i--;){var S=m(o,c,i),R=n(S),C=l.get(R);C?r&&C.p(S,e):(C=h(R,S)).c(),P.set(R,w[i]=C),R in x&&k.set(R,Math.abs(i-x[R]))}var M=new Set,T=new Set;function I(t){cu(t,1),t.m(d,v),l.set(t.key,t),v=t.first,$--}for(;y&&$;){var A=w[$-1],E=t[y-1],L=A.key,F=E.key;A===E?(v=A.first,y--,$--):P.has(F)?!l.has(L)||M.has(L)?I(A):T.has(F)?y--:k.get(L)>k.get(F)?(T.add(L),I(A)):(M.add(F),y--):(f(E,l),y--)}for(;y--;){var z=t[y];P.has(z.key)||f(z,l)}for(;$;)I(w[$-1]);return w}function mu(t,e){for(var n={},r={},o={$$scope:1},i=t.length;i--;){var c=t[i],l=e[i];if(l){for(var d in c)d in l||(r[d]=1);for(var f in l)o[f]||(n[f]=l[f],o[f]=1);t[i]=l}else for(var h in c)o[h]=1}for(var v in r)v in n||(n[v]=void 0);return n}function gu(t){return"object"===(0,x.default)(t)&&null!==t?t:{}}function bu(component,t,e,n){var r=component.$$.props[t];void 0!==r&&(component.$$.bound[r]=e,void 0===n&&e(component.$$.ctx[r]))}function yu(t){t&&t.c()}function $u(component,t,e,n){var r=component.$$,o=r.fragment,c=r.after_update;o&&o.m(t,e),n||Ya((function(){var t,e=component.$$.on_mount.map(No).filter(Vo);component.$$.on_destroy?(t=component.$$.on_destroy).push.apply(t,(0,P.default)(e)):jo(e);component.$$.on_mount=[]})),c.forEach(Ya)}function xu(component,t){var e=component.$$;null!==e.fragment&&(jo(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function wu(component,t,e,n,r,o,c){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],d=Ma;La(component);var f=component.$$={fragment:null,ctx:[],props:o,update:Do,not_equal:r,bound:Wo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Wo(),dirty:l,skip_bound:!1,root:t.target||d.$$.root};c&&c(f.root);var h=!1;if(f.ctx=e?e(component,t.props||{},(function(i,t){var e=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:t;return f.ctx&&r(f.ctx[i],f.ctx[i]=e)&&(!f.skip_bound&&f.bound[i]&&f.bound[i](e),h&&function(component,i){-1===component.$$.dirty[0]&&(Wa.push(component),Xa(),component.$$.dirty.fill(0)),component.$$.dirty[i/31|0]|=1<<i%31}(component,i)),t})):[],f.update(),h=!0,jo(f.before_update),f.fragment=!!n&&n(f.ctx),t.target){if(t.hydrate){var v=function(element){return Array.from(element.childNodes)}(t.target);f.fragment&&f.fragment.l(v),v.forEach(ha)}else f.fragment&&f.fragment.c();t.intro&&cu(component.$$.fragment),$u(component,t.target,t.anchor,t.customElement),eu()}La(d)}var Pu=function(){function t(){(0,f.default)(this,t)}return(0,d.default)(t,[{key:"$destroy",value:function(){xu(this,1),this.$destroy=Do}},{key:"$on",value:function(t,e){if(!Vo(e))return Do;var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}]),t}(),ku=[];function Su(t,e){return{subscribe:Ru(t,e).subscribe}}function Ru(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do,r=new Set;function o(n){if(Go(t,n)&&(t=n,e)){var o,c=!ku.length,l=A(r);try{for(l.s();!(o=l.n()).done;){var d=o.value;d[1](),ku.push(d,t)}}catch(t){l.e(t)}finally{l.f()}if(c){for(var i=0;i<ku.length;i+=2)ku[i][0](ku[i+1]);ku.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(c){var l=[c,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do];return r.add(l),1===r.size&&(e=n(o)||Do),c(t),function(){r.delete(l),0===r.size&&(e(),e=null)}}}}function Cu(t,e,n){var r=!Array.isArray(t),o=r?[t]:t,c=e.length<2;return Su(n,(function(t){var n=!1,l=[],d=0,f=Do,h=function(){if(!d){f();var n=e(r?l[0]:l,t);c?t(n):f=Vo(n)?n:Do}},v=o.map((function(t,i){return Ho(t,(function(t){l[i]=t,d&=~(1<<i),n&&h()}),(function(){d|=1<<i}))}));return n=!0,h(),function(){jo(v),f()}}))}var Mu=function(t){return t.reduce((function(t,e){return Object.assign(t,e)}),{})},Tu=function(t){return{updateValue:t}},Iu=function(t){return{defaultValue:t}},Au=function(t){return{store:t}},Eu=function(t){return{store:function(e,n){return Cu.apply(void 0,(0,P.default)(t(n)))}}},Lu=function(t){return{store:function(e,n){var r,o=t(n),c=(0,w.default)(o,3),l=c[0],d=c[1],f=c[2],h=void 0===f?function(){return!1}:f,v=!0;return Cu(l,(function(t,e){d(t,(function(t){!v&&h(r,t)||(r=t,v=!1,e(t))}))}))}}},Fu=function(t){return{store:function(e,n){var r=t(n),o=(0,w.default)(r,3),c=o[0],l=o[1],d=void 0===l?{}:l,f=o[2],h=void 0===f?void 0:f,v=[],m={},y=function(t){return c(t,m)},$=function(t){(v.length||t.length)&&(v=t,x())},x=function(){var t=v.map(y);h&&t.sort(h),v=(0,P.default)(t),R(t)};Object.entries(d).map((function(t){var e=(0,w.default)(t,2),n=e[0];return e[1].subscribe((function(t){m[n]=t,t&&x()}))}));var k=Ru(e||[]),S=k.subscribe,R=k.set;return{set:$,update:function(t){return $(t(v))},subscribe:S}}}},zu=function(t){var e={},n={};return t.forEach((function(t){var r=(0,l.default)(t),o=r[0],c=r.slice(1),d=Mu(c),f=e[o]=function(t,e,n){var r,o=n.store,c=void 0===o?function(t){return Ru(t)}:o,l=n.defaultValue,d=void 0===l?N:l,f=n.updateValue,h=void 0===f?void 0:f,v=c(d(),e,t),m=v.subscribe,y=v.update,$=void 0===y?N:y,x=function(t){var e=!0;r&&r(),r=m((function(n){if(e)return e=!1;t(n),r(),r=void 0}))},w=h?h(t):zt;return v.set=function(t){return $((function(e){return w(t,e,x)}))},v.defaultValue=d,v}(n,e,d),h={get:function(){return Zo(f)},set:f.set};Object.defineProperty(n,o,h)})),{stores:e,accessors:n}},Ou=[["src",Au((function(){var t,e=Ru(),n=e.subscribe,r=e.set,o=function(e){t!==e&&r(t=e)};return{set:o,subscribe:n,update:function(e){return o(e(t))}}}))],["imageReader"],["imageWriter"],["imageScrambler"],["images",Iu((function(){return[]}))],["shapePreprocessor"],["willRequestResource"],["willRequest"]],Bu=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Du=function(object,t){Object.keys(t).forEach((function(e){var n=vt(t[e])?{value:t[e],writable:!1}:t[e];Object.defineProperty(object,e,n)}))},_u=function(t,e){var i,a,b,n,r,o=e.length;for(i=0;i<o;i++)if(a=e[i],b=e[i+1>o-1?0:i+1],n=a.x-t.x,r=a.y-t.y,(n-(b.x-t.x))*r-(r-(b.y-t.y))*n<-1e-5)return!1;return!0},Uu=1e4,Nu=function(rect,t){var e=xn(t),n=Qt();fn(rect).forEach((function(r){de(r,n),_u(r,t)||e.forEach((function(line){var a=Math.atan2(line.start.y-line.end.y,line.start.x-line.end.x),t=Math.sin(Math.PI-a)*Uu,e=Math.cos(Math.PI-a)*Uu,o=te(r.x+t,r.y+e),c=De(Be(line),Uu),l=gn(Oe(r,o),c);l&&de(n,fe(re(l),r))}))}));var r=Ne(rect);return de(r,n),!!fn(r).every((function(e){return _u(e,t)}))&&(on(rect,r),!0)},Wu=function(rect,t){var e=fn(rect),n=wn(t,5),r=qe(rect),o=[];e.forEach((function(t){var e=function(line,t){if(0===t)return line;var e=te(line.start.x-line.end.x,line.start.y-line.end.y),n=ue(e),r=he(n,t);return line.end.x+=r.x,line.end.y+=r.y,line}(Oe(re(r),re(t)),1e6),c=!1;n.map(Be).forEach((function(line){var t=gn(e,line);t&&!c&&(o.push(t),c=!0)}))}));var c=be(o[0],o[2])<be(o[1],o[3])?[o[0],o[2]]:[o[1],o[3]],l=Ge(c);return l.width<rect.width&&(on(rect,l),!0)},ju=function(image,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},n=je(image),r=qe(n),o=hn(n,e,r).map((function(e){return oe(e,t,r)})),c=Ge(o);return o.map((function(t){return fe(t,c)}))},Vu=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nn(t);if(0!==r){var c,l=Math.atan2(1,o),d=Math.sign(r)*r,f=d%Math.PI,h=d%Bt;c=f>Dt&&f<Bt+Dt?h>Dt?d:Bt-h:h>Dt?Bt-h:d;var v=Math.min(Math.abs(t.height/Math.sin(l+c)),Math.abs(t.width/Math.cos(l-c)));n=(e=Math.cos(l)*v)/o}else(n=(e=t.width)/o)>t.height&&(e=(n=t.height)*o);return Te(e,n)},Gu=function(t,e,n,r,o,c,l,d){var f=ke(l),h=ke(d),v=Yt(Math.max(e.width/h.width,e.height/h.height)),m=Yt(Math.min(e.width/f.width,e.height/f.height)),y=Ne(e);if(m<1||v>1){var $=qe(t),x=qe(e),w=m<1?m:v,P=(x.x+$.x)/2,k=(x.y+$.y)/2,S=y.width/w,R=y.height/w;rn(y,P-.5*S,k-.5*R,S,R)}return c?(function(rect,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qt(),r=arguments.length>4?arguments[4]:void 0;if(kr(e)&&0!==e||n.x||n.y){var o=nn(rect),c=ju(t,e,n),l=Vu(t,e,o);if(!(rect.width<l.width&&rect.height<l.height)){var d=.5*rect.width-.5*l.width,f=.5*rect.height-.5*l.height;rect.width>l.width&&(rect.width=l.width,rect.x+=d),rect.height>l.height&&(rect.height=l.height,rect.y+=f)}Nu(rect,c),Wu(rect,c)&&Nu(rect,c)}else{var h=nn(rect);rect.width=Math.min(rect.width,t.width),rect.height=Math.min(rect.height,t.height),rect.x=Math.max(rect.x,0),rect.x+rect.width>t.width&&(rect.x-=rect.x+rect.width-t.width),rect.y=Math.max(rect.y,0),rect.y+rect.height>t.height&&(rect.y-=rect.y+rect.height-t.height);var v=qe(rect),m=sn(rect,h);m.width=Math.max(r.width,m.width),m.height=Math.max(r.height,m.height),m.x=v.x-.5*m.width,m.y=v.y-.5*m.height,on(rect,m)}}(y,n,r,o,f),{crop:y}):{crop:y}},Hu=function(t,e,n){var r=je(t),o=qe(r),c=an(r,n,o),l=qe(vn(Ge(c))),d=qe(e),f=oe(d,-n,l),h=fe(f,l),v=se(de(o,h),Yt);return Xe(v.x-.5*e.width,v.y-.5*e.height,e.width,e.height)},Zu=function(t,e,n){return Math.max(e,Math.min(t,n))},Xu=["cropLimitToImage","cropMinSize","cropMaxSize","cropAspectRatio","flipX","flipY","rotation","crop","colorMatrix","convolutionMatrix","gamma","vignette","redaction","annotation","decoration","frame","backgroundColor","backgroundImage","targetSize","metadata","trim","volume"],qu=function t(e){return Cr(e)?e.map(t):Yn(e)||Rn(e)?e:st(e)?z({},e):e},Yu=function(t){return t.map((function(t){return Object.entries(t).reduce((function(t,e){var n=(0,w.default)(e,2),r=n[0],o=n[1];return r.startsWith("_")||(t[r]=o),t}),{})}))},Ku=function(a,b){if(a.length!==b.length)return!1;for(var i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0},Ju=function(t,e,n){var r=se(qe(t),(function(t){return Yt(t,8)})),o=je(e),c=qe(o),l=an(o,n,c),d=se(Ee(Ge(l)),(function(t){return Yt(t,8)})),f=Math.abs(d.x-r.x),h=Math.abs(d.y-r.y);return f<1&&h<1},Qu=function(t,e,n,r,o){if(!o)return[-1/0,1/0];var c,l=Math.max(n.width/r.width,n.height/r.height),d=Te(r.width*l,r.height*l),f=(c=d,Math.sqrt(c.width*c.width+c.height*c.height));if(f<Math.min(t.width,t.height))return[-1/0,1/0];var h=e?t.height:t.width,v=e?t.width:t.height,a=Math.acos(d.height/f),m=a-Math.acos(v/f),y=Math.asin(h/f)-a;if(Number.isNaN(m)&&Number.isNaN(y))return[-1/0,1/0];var $=Number.isNaN(m)?y:Number.isNaN(y)?m:Math.min(m,y);return[-$,$]},tc=function(t,e){var n=e.context,r=e.props;return t._isFormatted||((t=Ji(t))._isFormatted=!0,Object.assign(t,r)),t._isDraft||!zi(t)||t._context&&en(n,t._context)||(po(t,n),t._context=z({},n)),t},ec=[["file"],["size"],["loadState"],["processState"],["aspectRatio",Eu((function(t){return[t.size,function(t){return t?nn(t):void 0}]}))],["perspectiveX",Iu((function(){return 0}))],["perspectiveY",Iu((function(){return 0}))],["perspective",Eu((function(t){return[[t.perspectiveX,t.perspectiveY],function(t){var e=(0,w.default)(t,2);return{x:e[0],y:e[1]}}]}))],["rotation",Iu((function(){return 0})),Tu((function(t){return function(e,n,r){if(e===n)return e;var o=t.loadState,c=t.size,l=t.rotationRange,d=t.cropMinSize,f=t.cropMaxSize,h=t.crop,v=t.perspective,m=t.cropLimitToImage,y=t.cropOrigin;if(!h||!o||!o.beforeComplete)return e;var $,x,w=m&&(x=Vu(c,n,nn($=h)),Ie(ze(x,Math.round),ze(ke($),Math.round))),P=m&&Ju(h,c,n),k=function(t,e,n,r,o,c,l,d,f,h){var v=ke(f),m=ke(h);l&&(m.width=Math.min(h.width,o.width),m.height=Math.min(h.height,o.height));var y=!1,$=Math.sign(e)*Math.round(Math.abs(e)/Bt)*Bt,x=Zu(e,$+n[0],$+n[1]);return function e(n,f){var h=Hu(o,r,n),$=je(o),x=qe($),w=hn($,c,x),P=fe(re(x),mn(w)),k=oe(qe(h),f,x),S=fe(re(x),k);w.forEach((function(t){return oe(t,f,x)}));var R=Ge(w),C=mn(w),M=de(fe(fe(C,S),R),P),T=Xe(M.x-.5*h.width,M.y-.5*h.height,h.width,h.height);if(d&&Ke(T,d.width/T.width),l){var I=ju(o,f,c);Wu(T,I)}var A=Yt(Math.min(T.width/v.width,T.height/v.height),8),E=Yt(Math.max(T.width/m.width,T.height/m.height),8);return(A<1||E>1)&&Yt(Math.abs(f-n))===Yt(Math.PI/2)&&!y?(y=!0,e(t,t+Math.sign(f-n)*Math.PI)):{rotation:f,crop:pn(T,(function(t){return Yt(t,8)}))}}(t,x)}(n,e,l,h,c,v,m,y,d,f);if(w&&P){var rect=Vu(c,e,nn(k.crop));k.crop.x+=.5*k.crop.width,k.crop.y+=.5*k.crop.height,k.crop.x-=.5*rect.width,k.crop.y-=.5*rect.height,k.crop.width=rect.width,k.crop.height=rect.height}return r((function(){t.crop=pn(k.crop,(function(t){return Yt(t,8)}))})),k.rotation}}))],["flipX",Iu((function(){return!1}))],["flipY",Iu((function(){return!1}))],["flip",Eu((function(t){return[[t.flipX,t.flipY],function(t){var e=(0,w.default)(t,2);return{x:e[0],y:e[1]}}]}))],["isRotatedSideways",Lu((function(t){return[[t.rotation],function(t,e){var n=(0,w.default)(t,1)[0];return e(_t(n))},function(t,e){return t!==e}]}))],["crop",Tu((function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=t.loadState,o=t.size,c=t.cropMinSize,l=t.cropMaxSize,d=t.cropLimitToImage,f=t.cropAspectRatio,h=t.rotation,v=t.perspective;if(!e&&!n||!r||!r.beforeComplete)return e;e||(e=je(Vu(o,h,f||nn(o))));var m=Gu(n,e,o,h,v,d,c,l),y=pn(m.crop,(function(t){return Yt(t,8)}));return en(n,y)?n:y}}))],["cropAspectRatio",Tu((function(t){return function(e,n){var r=t.loadState,o=t.crop,c=t.size,l=t.rotation,d=t.cropLimitToImage,f=function(t){if(t){if(/:/.test(t)){var e=t.split(":"),n=(0,w.default)(e,2);return n[0]/n[1]}return parseFloat(t)}}(e);if(f){if(!o||!r||!r.beforeComplete)return f;var h=n?Math.abs(e-n):1;if(Ju(o,c,l)&&d&&h>=.1){var v=function(t,e){var n=t.width,r=t.height;return _t(e)&&(t.width=r,t.height=n),t}(ke(c),l);t.crop=pn(sn(je(v),e),Yt)}else{var m={width:o.height*f,height:o.height},y=.5*(o.width-m.width),$=.5*(o.height-m.height);t.crop=pn(Xe(o.x+y,o.y+$,m.width,m.height),Yt)}return f}}}))],["cropOrigin"],["cropMinSize",Iu((function(){return{width:1,height:1}}))],["cropMaxSize",Iu((function(){return{width:32768,height:32768}}))],["cropLimitToImage",Iu((function(){return!0})),Tu((function(t){return function(e,n,r){return t.crop?(!n&&e&&r((function(){return t.crop=Ne(t.crop)})),e):e}}))],["cropSize",Lu((function(t){return[[t.crop],function(t,e){var n=(0,w.default)(t,1)[0];n&&e(Te(n.width,n.height))},function(t,e){return Ie(t,e)}]}))],["cropRectAspectRatio",Eu((function(t){return[[t.cropSize],function(t,e){var n=(0,w.default)(t,1)[0];n&&e(Yt(nn(n),5))}]}))],["cropRange",Lu((function(t){return[[t.size,t.rotation,t.cropRectAspectRatio,t.cropMinSize,t.cropMaxSize,t.cropLimitToImage],function(t,e){var n=(0,w.default)(t,6),r=n[0],o=n[1],c=n[2],l=n[3],d=n[4],f=n[5];if(r){var h=function(t,e,n,r,o,c){var l=ke(r),d=ke(o);return c?[l,ze(Vu(t,e,n),Math.round)]:[l,d]}(r,o,c,l,d,f);e(h)}},function(t,e){return Ku(t,e)}]}))],["rotationRange",Lu((function(t){return[[t.size,t.isRotatedSideways,t.cropMinSize,t.cropSize,t.cropLimitToImage],function(t,e){var n=(0,w.default)(t,5),r=n[0],o=n[1],c=n[2],l=n[3],d=n[4];r&&l&&e(Qu(r,o,c,l,d))},function(t,e){return Ku(t,e)}]}))],["backgroundColor",Tu((function(){return function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 4===t.length?t:[].concat((0,P.default)(t),[e])}(t)}}))],["backgroundImage"],["targetSize"],["colorMatrix"],["convolutionMatrix"],["gamma"],["noise"],["vignette"],["duration"],["trim"],["volume"],["redaction",Fu((function(t){var e=t.size;return[tc,{context:e}]}))],["annotation",Fu((function(t){var e=t.size;return[tc,{context:e}]}))],["decoration",Fu((function(t){var e=t.crop;return[tc,{context:e}]}))],["frame",Tu((function(){return function(t){if(t){var e={frameStyle:void 0,x:0,y:0,width:"100%",height:"100%",disableStyle:["backgroundColor","strokeColor","strokeWidth"]};return ht(t)?e.frameStyle=t:Object.assign(e,t),e}}}))],["metadata"],["state",Au((function(t,e,n){var r=Xu.map((function(t){return e[t]})),o=!1,c=Ru({}),l=Cu([].concat((0,P.default)(r),[c]),(function(t,e){if(!o){var n=Xu.reduce((function(e,n,i){return e[n]=qu(t[i]),e}),{});n.crop&&pn(n.crop,Math.round),n.redaction=n.redaction&&Yu(n.redaction),n.annotation=n.annotation&&Yu(n.annotation),n.decoration=n.decoration&&Yu(n.decoration),e(n)}})).subscribe,d=function(t){t&&(o=!0,n.cropOrigin=void 0,Xu.filter((function(e){return Rr(t,e)})).forEach((function(e){var r=t[e];n[e]=null===r?void 0:qu(r)})),o=!1,c.set({}))};return{set:d,update:function(t){return d(t(null))},subscribe:l}}))]],nc=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,d,f,h,v,m,y,$,P,k=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=k.length>2&&void 0!==k[2]?k[2]:{},c=(o=k.length>3?k[3]:void 0).ontaskstart,l=o.ontaskprogress,d=o.ontaskend,f=o.token,h=!1,v={cancel:N},f.cancel=function(){h=!0,v.cancel()},m=A(n.entries()),t.prev=7,$=regeneratorRuntime.mark((function t(){var n,o,f,m,$,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,w.default)(y.value,2),o=n[0],f=n[1],!h){t.next=3;break}return t.abrupt("return",{v:void 0});case 3:return m=(0,w.default)(f,2),$=m[0],x=m[1],c(o,x),t.prev=5,t.next=8,$(e,z(z({},r),{},{taskCancelToken:v}),(function(t){return l(o,x,t)}));case 8:e=t.sent,t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(5),h=!0,t.t0;case 15:d(o,x);case 16:case"end":return t.stop()}}),t,null,[[5,11]])})),m.s();case 10:if((y=m.n()).done){t.next=17;break}return t.delegateYield($(),"t0",12);case 12:if(P=t.t0,"object"!==(0,x.default)(P)){t.next=15;break}return t.abrupt("return",P.v);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(7),m.e(t.t1);case 22:return t.prev=22,m.f(),t.finish(22);case 25:return t.abrupt("return",e);case 26:case"end":return t.stop()}}),t,null,[[7,19,22,25]])})));return function(e,n){return t.apply(this,arguments)}}(),rc=["loadstart","loadabort","loaderror","loadprogress","load","processstart","processabort","processerror","processprogress","process"],ic=["flip","cropOrigin","isRotatedSideways","perspective","perspectiveX","perspectiveY","cropRange"],oc=["images"],ac=ec.map((function(t){return(0,w.default)(t,1)[0]})).filter((function(t){return!ic.includes(t)})),uc=function(t){return"image".concat(Bu(t))},cc=function(t){return ht(t)||Lr(t)||Sn(t)},lc=function(t){return Rr(t,"crop")},sc=function(){var t=zu(Ou),e=t.stores,n=t.accessors,r=jr(),sub=r.sub,o=r.pub,c=function(){return n.images?n.images[0]:{}},l={},d={};ac.forEach((function(t){Object.defineProperty(n,uc(t),{get:function(){var image=c();if(image)return image.accessors[t]},set:function(e){l[uc(t)]=e,d[uc(t)]=e;var image=c();image&&(image.accessors[t]=e)}})}));var f,h,v=function(){return n.images&&n.images[0]},m=e.src.subscribe((function(t){if(!t)return n.images=[];n.imageReader&&(n.images.length&&(l={}),$(t))})),y=e.imageReader.subscribe((function(t){t&&(n.images.length||n.src&&$(n.src))})),$=function(t){Promise.resolve().then((function(){return x(t,l)})).catch((function(){}))},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,c){var image=v(),h=!(!1===e.cropLimitToImage||!1===e.imageCropLimitToImage||!1===d.imageCropLmitedToImage),m=e.cropMinSize||e.imageCropMinSize||d.imageCropMinSize,y=h?m:image&&image.accessors.cropMinSize;image&&w(),image=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).minSize,e=void 0===t?{width:1,height:1}:t,n=zu(ec),r=n.stores,o=n.accessors,c=jr(),l=c.pub,sub=c.sub,d=function(t,e){var n=function(){return o[t]||{}},r=function(e){o[t]=z(z(z({},n()),e),{},{timeStamp:Date.now()})},c=function(){return n().error},d=function(t){c()||(r({error:t}),l("".concat(e,"error"),z({},n())))};return{start:function(){l("".concat(e,"start"))},onabort:function(){r({abort:!0}),l("".concat(e,"abort"),z({},n()))},ontaskstart:function(t,o){c()||(r({index:t,task:o,taskProgress:void 0,taskLengthComputable:void 0}),l("".concat(e,"taskstart"),z({},n())))},ontaskprogress:function(t,o,d){c()||(r({index:t,task:o,taskProgress:d.loaded/d.total,taskLengthComputable:d.lengthComputable}),l("".concat(e,"taskprogress"),z({},n())),l("".concat(e,"progress"),z({},n())))},ontaskend:function(t,o){c()||(r({index:t,task:o}),l("".concat(e,"taskend"),z({},n())))},ontaskerror:function(t){d(t)},error:function(t){d(t)},beforeComplete:function(data){c()||(r({beforeComplete:!0}),l("before".concat(e),data))},complete:function(data){c()||(r({complete:!0}),l(e,data))}}};return Du(o,{read:function(t,n){var r=n.reader,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r){Object.assign(o,{file:void 0,size:void 0,loadState:void 0});var l={cancel:N},f=!1,h=d("loadState","load"),v=z({token:l},h),m={src:t,size:void 0,dest:void 0,duration:void 0};return Promise.resolve().then((0,k.default)(regeneratorRuntime.mark((function t(){var output,n,d,y,$;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,h.start(),!f){t.next=4;break}return t.abrupt("return",h.onabort());case 4:return t.next=6,nc(m,r,c,v);case 6:if(output=t.sent,!f){t.next=9;break}return t.abrupt("return",h.onabort());case 9:if(d=(n=output||{}).size,y=n.duration,$=n.dest,d&&d.width&&d.height){t.next=12;break}throw new Zn("Image size missing","IMAGE_SIZE_MISSING",output);case 12:if(!(d.width<e.width||d.height<e.height)){t.next=14;break}throw new Zn("Image too small","IMAGE_TOO_SMALL",z(z({},output),{},{minWidth:e.width,minHeight:e.height}));case 14:Object.assign(o,{file:$,size:d,duration:y}),h.beforeComplete(output),h.complete(output),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),h.error(t.t0);case 22:return t.prev=22,l=void 0,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[0,19,22,25]])})))),function(){f=!0,l&&l.cancel(),h.onabort()}}},write:function(t,e){if(o.loadState.complete){o.processState=void 0;var n=d("processState","process"),r={src:o.file,imageState:o.state,dest:void 0};if(vt(t)&&(t=t(o.file,o.state)),!t)return n.start(),void n.complete(r);var c={cancel:N},l=!1,f=e,h=z({token:c},n);return Promise.resolve().then((0,k.default)(regeneratorRuntime.mark((function e(){var output;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.start(),!l){e.next=4;break}return e.abrupt("return",n.onabort());case 4:return e.next=6,nc(r,t,f,h);case 6:if(output=e.sent,!l){e.next=9;break}return e.abrupt("return",n.onabort());case 9:n.complete(output),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n.error(e.t0);case 15:return e.prev=15,c=void 0,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))),function(){l=!0,c&&c.cancel()}}},on:sub}),{accessors:o,stores:r}}({minSize:y}),rc.map((function(t){return image.accessors.on(t,(e=t,function(t){return o(e,t)}));var e}));var $=function(){l={},x.forEach((function(t){return t()}))},x=[];x.push(image.accessors.on("loaderror",(function(t){$(),c(t)}))),x.push(image.accessors.on("loadabort",(function(){$(),c({name:"AbortError"})}))),x.push(image.accessors.on("load",(function(output){f=void 0,$(),r(output)}))),x.push(image.accessors.on("beforeload",(function(){return function(image,t){if(lc(t))n.imageState=t;else{if(!t.imageCrop){var e=image.accessors.size,r=t.imageRotation||0,o=Le(ke(e),r),c=je(o);c.width=Yt(Math.abs(c.width),6),c.height=Yt(Math.abs(c.height),6);var l,d=t.imageCropAspectRatio||(t.imageCropLimitToImage?nn(e):nn(c));t.imageCropLimitToImage?l=sn(c,d):((l=ln(c,d)).x=(e.width-l.width)/2,l.y=(e.height-l.height)/2),t.imageCrop=l}var f=["imageCropLimitToImage","imageCrop","imageCropAspectRatio","imageRotation"];f.filter((function(e){return Rr(t,e)})).forEach((function(e){n[e]=t[e],delete t[e]}));var h=Object.keys(t).filter((function(t){return!f.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),{});Object.assign(n,h)}}(image,e)}))),n.images=[image],e.imageReader&&(n.imageReader=e.imageReader),e.imageWriter&&(n.imageWriter=e.imageWriter),f=image.accessors.read(t,{reader:n.imageReader},{willRequest:n.willRequest})}))},w=function(){var image=v();image&&(f&&f(),image.accessors.loadState=void 0,n.images=[])};return Object.defineProperty(n,"stores",{get:function(){return e}}),Du(n,{on:sub,loadImage:x,abortLoadImage:function(){f&&f(),n.images=[]},editImage:function(t,e){return new Promise((function(r,o){x(t,e).then((function(){var image=n.images[0],t=function(){e(),c()},e=image.accessors.on("processerror",(function(e){t(),o(e)})),c=image.accessors.on("process",(function(output){t(),r(output)}))})).catch(o)}))},removeImage:w,processImage:function(t,e){return new Promise((function(r,o){try{var c=[],l=function(){h=void 0,c.forEach((function(t){return t()}))};(0,k.default)(regeneratorRuntime.mark((function d(){var image;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(!cc(t)){d.next=11;break}return d.prev=1,d.next=4,x(t,e);case 4:d.next=9;break;case 6:d.prev=6,d.t0=d.catch(1),o(d.t0);case 9:d.next=12;break;case 11:t&&(lc(t)?n.imageState=t:Object.assign(n,t));case 12:if(image=v()){d.next=15;break}return d.abrupt("return",o("no image"));case 15:c.push(image.accessors.on("processerror",(function(t){l(),o(t)}))),c.push(image.accessors.on("processabort",(function(){l(),o({name:"AbortError"})}))),c.push(image.accessors.on("process",(function(output){l(),r(output)}))),h=image.accessors.write(n.imageWriter,{shapePreprocessor:n.shapePreprocessor||zt,imageScrambler:n.imageScrambler,willRequest:n.willRequest,willRequestResource:n.willRequestResource});case 19:case"end":return d.stop()}}),d,null,[[1,6]])})))()}catch(t){o(t)}}))},abortProcessImage:function(){var image=v();image&&(h&&h(),image.accessors.processState=void 0)},destroy:function(){m&&m(),y&&y()}}),n},dc=function(t,e){var n=sc().processImage;return n(t,e)};e.processImage=dc;var fc=function(){if(!Ln())return 1/0;var t=/15_/.test(navigator.userAgent);return rr()?t?14745600:16777216:t?16777216:1/0},pc=function(t,e){return Object.keys(t).filter((function(t){return!e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),{})},hc=function(video){return new Promise((function(t){if(video.duration===1/0)return video.ontimeupdate=function(){video.ontimeupdate=void 0,t(video)},void(video.currentTime=Number.MAX_SAFE_INTEGER);t(video)}))},vc=function(element){return new Promise((function(t,e){var n=function(){hc(element).then((function(){t(element.duration)}))};if(element.readyState>=1)return n();element.onloadedmetadata=n,element.onerror=e}))},mc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.imageDataResizer,n=t.canvasMemoryLimit;return function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(r,image,o,c){var l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.width=Math.max(o.width,1),o.height=Math.max(o.height,1),c.width=Math.max(c.width,1),c.height=Math.max(c.height,1),t.next=6,dc(image,{imageReader:Gc(),imageWriter:Zc({format:"canvas",targetSize:z(z({},c),{},{upscale:!0}),imageDataResizer:e,canvasMemoryLimit:n}),imageCrop:o});case 6:l=t.sent,d=l.dest,r.drawImage(d,c.x,c.y,c.width,c.height),et(d);case 10:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}()},gc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},n=arguments.length>2?arguments[2]:void 0;return function(){var r=(0,k.default)(regeneratorRuntime.mark((function r(o,c,l){var d,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l(Wn(0,!1)),d=!1,r.next=4,t.apply(void 0,(0,P.default)(e(o,c,(function(t){d=!0,l(t)}))));case 4:return f=r.sent,n&&n(o,f),d||l(Wn(1,!1)),r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})));return function(t,e,n){return r.apply(this,arguments)}}()},bc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.willRequest,n=void 0===e?void 0:e,r=t.srcProp,o=void 0===r?"src":r,c=t.destProp,l=void 0===c?"dest":c;return[gc(Jn,(function(t,e,r){return[t[o],r,z(z({},e),{},{willRequest:n})]}),(function(t,e){return t[l]=e})),"any-to-file"]},yc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcProp,n=void 0===e?"dest":e,r=t.destProp,o=void 0===r?"dest":r;return[gc(function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/octet-stream/.test(e.type)){t.next=9;break}return console.warn("Pintura: Media has unknown mime type this can affect output quality",e),n="image",t.next=5,Bn(e);case 5:return r=t.sent,/video/i.test(r.nodeName)&&(n="video"),o={type:n+"/unknown"},t.abrupt("return",Rn(e)?new File([e],e.name,z(z({},o),{},{lastModified:e.lastModified})):new Blob([e],o));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return[t[n]]}),(function(t,e){return t[o]=e})),"any-to-file"]},$c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcProp,n=void 0===e?"src":e,r=t.destProp,o=void 0===r?"size":r;return[gc(_n,(function(t){return[t[n]]}),(function(t,e){return t[o]=e})),"read-image-size"]},xc=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bn(e);case 2:if(n=t.sent,!Dn(n)){t.next=7;break}return t.next=6,vc(n);case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),wc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcProp,n=void 0===e?"src":e,r=t.destProp,o=void 0===r?"duration":r;return[gc(xc,(function(t){return[t[n]]}),(function(t,e){return t[o]=e})),"read-image-size"]},Pc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcSize,n=void 0===e?"size":e,r=t.srcOrientation,o=void 0===r?"orientation":r,c=t.destSize,l=void 0===c?"size":c;return[gc(ir,(function(t){return[t[n],t[o]]}),(function(t,e){return t[l]=e})),"image-size-match-orientation"]},kc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcProp,n=void 0===e?"src":e,r=t.destProp,o=void 0===r?"head":r;return[gc((function(t,e){return or(t)?V(t,e):void 0}),(function(t){return[t[n],[0,262144],onprogress]}),(function(t,head){return t[o]=head})),"read-image-head"]},Sc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcProp,n=void 0===e?"head":e,r=t.destProp,o=void 0===r?"orientation":r;return[gc(D,(function(t){return[t[n],274]}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t[o]=e})),"read-exif-orientation-tag"]},Rc=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).srcProp,e=void 0===t?"head":t;return[gc(D,(function(t){return[t[e],274,1]})),"clear-exif-orientation-tag"]},Cc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageSize,n=void 0===e?"size":e,r=t.srcCanvasSize,o=void 0===r?"imageData":r,c=t.srcImageState,l=void 0===c?"imageState":c,d=t.destImageSize,f=void 0===d?"size":d,h=t.destScalar,v=void 0===h?"scalar":h;return[gc((function(t,e){return[Math.min(e.width/t.width,e.height/t.height),Se(e)]}),(function(t){return[t[n],t[o],t[l]]}),(function(t,e){var n=(0,w.default)(e,2),r=n[0],o=n[1];t[v]=r,t[f]=o})),"calculate-canvas-scalar"]},Mc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcProp,n=void 0===e?"src":e,r=t.destProp,o=void 0===r?"imageData":r,c=t.canvasMemoryLimit,l=void 0===c?void 0:c;return[gc(Pt,(function(t){return[t[n],l]}),(function(t,e){return t[o]=e})),"blob-to-image-data"]},Tc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcOrientation,o=void 0===r?"orientation":r;return[gc(lt,(function(t){return[t[n],t[o]]}),(function(t,e){return t.imageData=e})),"image-data-match-orientation"]},Ic=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcImageState,o=void 0===r?"imageState":r;return[gc(zo,(function(t){return[t[n],{backgroundColor:t[o].backgroundColor,backgroundImage:t[o].backgroundImage}]}),(function(t,e){return t.imageData=e})),"image-data-fill"]},Ac=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcImageState,o=void 0===r?"imageState":r,c=t.destScalar,l=void 0===c?"scalar":c;return[gc(dr,(function(t){var e=t[l],r=t[o].crop;return r&&1!==e&&(r=Ke(Ne(r),e,Qt())),[t[n],{crop:r,rotation:t[o].rotation,flipX:t[o].flipX,flipY:t[o].flipY}]}),(function(t,e){return t.imageData=e})),"image-data-crop"]},Ec=function(t){var e=t.targetSize,n=void 0===e?{width:void 0,height:void 0,fit:void 0,upscale:void 0}:e,r=t.imageDataResizer,o=void 0===r?void 0:r,c=t.srcProp,l=void 0===c?"imageData":c,d=t.srcImageState,f=void 0===d?"imageState":d,h=t.destImageScaledSize,v=void 0===h?"imageScaledSize":h;return[gc(vr,(function(t){var e,r=Math.min(n.width||Number.MAX_SAFE_INTEGER,t[f].targetSize&&t[f].targetSize.width||Number.MAX_SAFE_INTEGER),c=Math.min(n.height||Number.MAX_SAFE_INTEGER,t[f].targetSize&&t[f].targetSize.height||Number.MAX_SAFE_INTEGER);return[t[l],{width:r,height:c,fit:n.fit||"contain",upscale:(e=t[f],!!(e.targetSize&&e.targetSize.width||e.targetSize&&e.targetSize.height)||(n.upscale||!1))},o]}),(function(t,e){Ie(t.imageData,e)||(t[v]=Se(e)),t.imageData=e})),"image-data-resize"]},Lc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcImageState,o=void 0===r?"imageState":r,c=t.destImageData,l=void 0===c?"imageData":c;return[gc(Pr,(function(t){var e=t[o].colorMatrix,r=e&&Object.keys(e).map((function(t){return e[t]})).filter(Boolean);return[t[n],{colorMatrix:r&&Oo(r),convolutionMatrix:t[o].convolutionMatrix,gamma:t[o].gamma,noise:t[o].noise,vignette:t[o].vignette}]}),(function(t,e){return t[l]=e})),"image-data-filter"]},Fc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcImageState,o=void 0===r?"imageState":r,c=t.destImageData,l=void 0===c?"imageData":c,d=t.destScalar,f=void 0===d?"scalar":d;return[gc(function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r,o,c){var l,d,canvas,f,path,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",e);case 2:return t.prev=2,d={dataSizeScalar:Bo(e,o)},r&&r[3]>0&&(d.backgroundColor=(0,P.default)(r)),t.next=7,n(e,d);case 7:l=t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(2);case 12:return(canvas=J("canvas")).width=e.width,canvas.height=e.height,(f=canvas.getContext("2d",{willReadFrequently:!0})).putImageData(e,0,0),path=new Path2D,o.forEach((function(t){var rect=Xe(t.x,t.y,t.width,t.height);tn(rect,c);var e=an(Ne(rect),t.rotation),n=new Path2D;e.forEach((function(t,i){if(0===i)return n.moveTo(t.x,t.y);n.lineTo(t.x,t.y)})),path.addPath(n)})),f.clip(path,"nonzero"),f.imageSmoothingEnabled=!1,f.drawImage(l,0,0,canvas.width,canvas.height),et(l),h=f.getImageData(0,0,canvas.width,canvas.height),et(canvas),t.abrupt("return",h);case 26:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,r,o,c){return t.apply(this,arguments)}}(),(function(t,e){var r=e.imageScrambler;return[t[n],r,t[o].backgroundColor,t[o].redaction,t[f]]}),(function(t,e){return t[l]=e})),"image-data-redact"]},zc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcSize,o=void 0===r?"size":r,c=t.srcImageState,l=void 0===c?"imageState":c,d=t.destImageData,f=void 0===d?"imageData":d,h=t.destImageScaledSize,v=void 0===h?"imageScaledSize":h,m=t.destScalar,y=void 0===m?"scalar":m,$=t.imageDataResizer,x=void 0===$?void 0:$,w=t.canvasMemoryLimit,P=void 0===w?void 0:w;return[gc(Fo,(function(t,e){var r=e.shapePreprocessor,c=e.willRequestResource,d=e.willRequest,f=t[l].annotation;if(!f.length)return[t[n]];var h=t[y],m=t[l].crop,$=t[o],w=h,k=t[v];k&&(w=Math.min(k.width/m.width,k.height/m.height));var S={width:$.width/h,height:$.height/h};return[t[n],{shapes:f,computeShape:function(t){return t=oo(t,S),t=pc(t,["left","right","top","bottom"]),t=ho(t,w)},transform:function(e){var n=t[o],r=t[l],c=r.rotation,d=void 0===c?0:c,f=r.flipX,h=r.flipY,m=r.cropLimitToImage,$=t[y],x=t[l].crop,w=void 0===x?je(n):x,P=t[v],k=P?Math.min(P.width/w.width,P.height/w.height):1,S={width:n.width/$*k,height:n.height/$*k},R=kn(S,d),C=R.width,M=R.height,T=.5*S.width-.5*C,I=.5*S.height-.5*M,A=Ee(S);e.translate(-T,-I),e.translate(-w.x*k,-w.y*k),e.translate(A.x,A.y),e.rotate(d),e.translate(-A.x,-A.y),e.scale(f?-1:1,h?-1:1),e.translate(f?-S.width:0,h?-S.height:0),m&&(e.rect(0,0,S.width,S.height),e.clip())},drawImage:mc({imageDataResizer:x,canvasMemoryLimit:P}),preprocessShape:function(e){return r(e,z({isPreview:!1},t[l]))},canvasMemoryLimit:P,willRequest:d||c}]}),(function(t,e){return t[f]=e})),"image-data-annotate"]},Oc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcImageState,o=void 0===r?"imageState":r,c=t.destImageData,l=void 0===c?"imageData":c,d=t.destImageScaledSize,f=void 0===d?"imageScaledSize":d,h=t.imageDataResizer,v=void 0===h?void 0:h,m=t.canvasMemoryLimit,y=void 0===m?void 0:m,$=t.destScalar,x=void 0===$?"scalar":$;return[gc(Fo,(function(t,e){var r=e.shapePreprocessor,c=e.willRequestResource,l=e.willRequest,d=t[o].decoration;if(!d.length)return[t[n]];var h=t[x],m=t[o].crop,$=t[f];if($){var w=Math.min($.width/m.width,$.height/m.height);h=w}return[t[n],{shapes:d,drawImage:mc({imageDataResizer:v,canvasMemoryLimit:y}),computeShape:function(t){return t=oo(t,m),t=pc(t,["left","right","top","bottom"]),t=ho(t,h)},preprocessShape:function(e){return r(e,z({isPreview:!1},t[o]))},canvasMemoryLimit:y,willRequest:l||c}]}),(function(t,e){return t[l]=e})),"image-data-decorate"]},Bc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcImageState,o=void 0===r?"imageState":r,c=t.destImageData,l=void 0===c?"imageData":c,d=t.destImageScaledSize,f=void 0===d?"imageScaledSize":d,h=t.imageDataResizer,v=void 0===h?void 0:h,m=t.canvasMemoryLimit,y=void 0===m?void 0:m,$=t.destScalar,x=void 0===$?"scalar":$;return[gc(Fo,(function(t,e){var r=e.shapePreprocessor,c=e.willRequestResource,l=e.willRequest,d=t[o].frame;if(!d)return[t[n]];var h=t[x],m=t[o].crop;m&&1!==h&&(m=Ke(Ne(m),h,Qt()));var $=z({},m),w=so(fo(d,$,r),$);$.x=Math.abs(w.left),$.y=Math.abs(w.top),$.width+=Math.abs(w.left)+Math.abs(w.right),$.height+=Math.abs(w.top)+Math.abs(w.bottom);var P=t[f],k=P?Math.min(P.width/m.width,P.height/m.height):1;return tn($,k),$.x=Math.floor($.x),$.y=Math.floor($.y),$.width=Math.floor($.width),$.height=Math.floor($.height),[t[n],{shapes:[d],contextBounds:$,computeShape:function(e){return oo(e,t[n])},transform:function(t){t.translate($.x,$.y)},drawImage:mc({imageDataResizer:v,canvasMemoryLimit:y}),preprocessShape:function(e){return r(e,z({isPreview:!1},t[o]))},canvasMemoryLimit:y,willRequest:l||c}]}),(function(t,e){return t[l]=e})),"image-data-frame"]},Dc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mimeType,n=void 0===e?void 0:e,r=t.quality,o=void 0===r?void 0:r,c=t.srcImageData,l=void 0===c?"imageData":c,d=t.srcFile,f=void 0===d?"src":d,h=t.destBlob,v=void 0===h?"blob":h;return[gc(St,(function(t){return[t[l],n||At(t[f].name)||t[f].type,o]}),(function(t,e){return t[v]=e})),"image-data-to-blob"]},_c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.srcImageData,n=void 0===e?"imageData":e,r=t.srcOrientation,o=void 0===r?"orientation":r,c=t.destCanvas,l=void 0===c?"dest":c;return[gc(ct,(function(t){return[t[n],t[o]]}),(function(t,canvas){return t[l]=canvas})),"image-data-to-canvas"]},Uc=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,head){var view,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(or(e)&&head){t.next=2;break}return t.abrupt("return",e);case 2:if(view=new DataView(head),(n=B(view))&&n.exif){t.next=6;break}return t.abrupt("return",e);case 6:return r=["exif","mpf","xmp"].reduce((function(t,e){return n[e]?Math.max(t,n[e].offset+n[e].size):t}),0),o=head.slice(0,r+2),t.abrupt("return",Rt(e,o,[20]));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Nc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"blob",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"head",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blob";return[gc(Uc,(function(n){return[n[t],n[e]]}),(function(t,e){return t[n]=e})),"blob-write-image-head"]},Wc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.renameFile,n=void 0===e?void 0:e,r=t.srcBlob,o=void 0===r?"blob":r,c=t.srcFile,l=void 0===c?"src":c,d=t.destFile,f=void 0===d?"dest":d,h=t.defaultFilename,v=void 0===h?void 0:h;return[gc(Et,(function(t){return[t[o],n?n(t[l]):t[l].name||"".concat(v,".").concat(Mt(t[o].type))]}),(function(t,e){return t[f]=e})),"blob-to-file"]},jc=function(t){var e=t.url,n=void 0===e?"./":e,r=t.dataset,o=void 0===r?function(t){return[["dest",t.dest,t.dest.name],["imageState",t.imageState]]}:r,c=t.destStore,l=void 0===c?"store":c,d=t.credentials,f=t.headers,h=void 0===f?{}:f;return[gc(function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ur(n,e,{onprogress:r,beforeSend:function(t){return Xn(t,{headers:h,credentials:d})}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),(function(t,e,n){return[o(t),n]}),(function(t,e){return t[l]=e})),"store"]},Vc=function(t){return[gc((function(e){return t&&t.length?(Object.keys(e).forEach((function(n){t.includes(n)||delete e[n]})),e):e})),"prop-filter"]},Gc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.orientImage,n=void 0===e||e,r=t.outputProps,o=void 0===r?["src","dest","size","duration"]:r,c=t.preprocessImageFile,l=t.request,d=void 0===l?{}:l;return[bc({willRequest:function(){return d}}),yc(),c&&[gc(c,(function(t,e,n){return[t.dest,e,n]}),(function(t,e){return t.dest=e})),"preprocess-image-file"],$c({srcProp:"dest"}),wc({srcProp:"dest"}),n&&kc({srcProp:"dest"}),n&&Sc(),n&&Pc(),Vc(o)].filter(Boolean)},Hc=function(t){return t&&(ht(t)?jc({url:t}):vt(t)?[t,"store"]:jc(t))},Zc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(On(e)){var o=z(z({},t),r),c=o.canvasMemoryLimit,l=void 0===c?fc():c,d=o.orientImage,f=void 0===d||d,h=o.copyImageHead,v=void 0===h||h,m=o.mimeType,y=void 0===m?void 0:m,$=o.quality,x=void 0===$?void 0:$,w=o.renameFile,P=void 0===w?void 0:w,k=o.targetSize,S=void 0===k?void 0:k,R=o.imageDataResizer,C=void 0===R?void 0:R,M=o.store,T=void 0===M?void 0:M,I=o.format,A=void 0===I?"file":I,E=o.outputProps,L=void 0===E?["src","dest","imageState","store"]:E,F=o.preprocessImageSource,O=void 0===F?void 0:F,B=o.preprocessImageState,D=void 0===B?void 0:B,_=o.postprocessImageData,U=void 0===_?void 0:_,N=o.postprocessImageBlob,W=void 0===N?void 0:N;return[O&&[gc(O,(function(t,e,n){return[t.src,e,n,t.imageState]}),(function(t,e){return t.src=e})),"preprocess-image-source"],(f||v)&&kc(),f&&Sc(),$c(),D&&[gc(D,(function(t,e,n,r){return[t.imageState,e,n,{size:t.size,orientation:t.orientation}]}),(function(t,e){return t.imageState=e})),"preprocess-image-state"],Mc({canvasMemoryLimit:l}),f&&Pc(),f&&Tc(),Cc(),Fc(),Ac(),Ec({imageDataResizer:C,targetSize:S}),Lc(),Ic(),zc({imageDataResizer:C,canvasMemoryLimit:l}),Oc({imageDataResizer:C,canvasMemoryLimit:l}),Bc({imageDataResizer:C,canvasMemoryLimit:l}),U&&[gc(U,(function(t,e,n){return[t.imageData,e,n]}),(function(t,e){return t.imageData=e})),"postprocess-image-data"],"file"===A?Dc({mimeType:y,quality:x}):"canvas"===A?_c():[function(t){return t.dest=t.imageData,t}],"file"===A&&f&&Rc(),"file"===A&&v&&Nc(),W&&[gc(W,(function(t,e,n){return[{blob:t.blob,imageData:t.imageData,src:t.src},e,n]}),(function(t,e){return t.blob=e})),"postprocess-image-file"],"file"===A&&Wc({defaultFilename:"image",renameFile:P}),"file"===A?Hc(T):vt(T)&&[T,"store"],Vc(L)].filter(Boolean)}}},Xc=function(t,e,n,r,o,c,l,d,f,h,v){if(t&&e&&n&&r&&d){d*=c;var m=vn(Ne(e)),y=qe(m),$=qe(t),x=je(n),w=qe(x),P=Hu(n,r,f),k=qe(P),S=fe(re(w),k),R=fe(re($),y);S.x+=R.x,S.y+=R.y;var C=ie(re(S));C.x+=R.x,C.y+=R.y;var M=qe(Ye(Ye(Ne(o),l),t)),T=fe(M,$);return de(S,T),{origin:C,translation:S,rotation:{x:v?Math.PI:0,y:h?Math.PI:0,z:f},scale:d}}},qc=null,Yc=function(){if(null===qc)if("WebGL2RenderingContext"in window){var canvas;try{canvas=J("canvas"),qc=!!canvas.getContext("webgl2")}catch(t){qc=!1}canvas&&et(canvas),canvas=void 0}else qc=!1;return qc},Kc=function(t){return 0==(t&t-1)},Jc=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object.keys(e).filter((function(t){return!st(e[t])})).reduce((function(t,o){return t.replace(new RegExp(n+o+r),e[o])}),t)},Qc={head:"#version 300 es\n\nin vec4 aPosition;uniform mat4 uMatrix;",text:"\nin vec2 aTexCoord;out vec2 vTexCoord;",matrix:"\ngl_Position=uMatrix*vec4(aPosition.x,aPosition.y,0,1);"},tl={head:"#version 300 es\nprecision highp float;\n\nout vec4 fragColor;",mask:"\nuniform float uMaskFeather[8];uniform float uMaskBounds[4];uniform float uMaskOpacity;float mask(float x,float y,float bounds[4],float opacity){return 1.0-(1.0-(smoothstep(bounds[3],bounds[3]+1.0,x)*(1.0-smoothstep(bounds[1]-1.0,bounds[1],x))*(1.0-step(bounds[0],y))*step(bounds[2],y)))*(1.0-opacity);}",init:"\nfloat a=1.0;vec4 fillColor=uColor;vec4 textureColor=texture(uTexture,vTexCoord);textureColor*=(1.0-step(1.0,vTexCoord.y))*step(0.0,vTexCoord.y)*(1.0-step(1.0,vTexCoord.x))*step(0.0,vTexCoord.x);",colorize:"\nif(uTextureColor.a!=0.0&&textureColor.a>0.0){vec3 colorFlattened=textureColor.rgb/textureColor.a;if(colorFlattened.r>=.9999&&colorFlattened.g==0.0&&colorFlattened.b>=.9999){textureColor.rgb=uTextureColor.rgb*textureColor.a;}textureColor*=uTextureColor.a;}",maskapply:"\nfloat m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);",maskfeatherapply:"\nfloat leftFeatherOpacity=step(uMaskFeather[1],gl_FragCoord.x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],gl_FragCoord.x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],gl_FragCoord.x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],gl_FragCoord.x));a*=leftFeatherOpacity*rightFeatherOpacity;",edgeaa:"\nvec2 scaledPoint=vec2(vRectCoord.x*uSize.x,vRectCoord.y*uSize.y);a*=smoothstep(0.0,1.0,uSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);",cornerradius:"\nvec2 s=(uSize-2.0)*.5;vec2 r=(vRectCoord*uSize);vec2 p=r-(uSize*.5);float cornerRadius=uCornerRadius[0];bool left=r.x<s.x;bool top=r.y<s.x;if(!left&&top){cornerRadius=uCornerRadius[1];}if(!left&&!top){cornerRadius=uCornerRadius[3];}if(left&&!top){cornerRadius=uCornerRadius[2];}a*=1.0-clamp(length(max(abs(p)-(s-cornerRadius),0.0))-cornerRadius,0.0,1.0);",fragcolor:"\nif(m<=0.0)discard;fillColor.a*=a;fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);textureColor*=uTextureOpacity;textureColor.a*=a;textureColor.rgb*=m*a;textureColor.rgb+=(1.0-m)*(uCanvasColor.rgb*textureColor.a);fragColor=textureColor+(fillColor*(1.0-textureColor.a));"},el=function(t,e,n){var r=t.createShader(n),o=function(t,e,n){return e=Jc(e,n===t.VERTEX_SHADER?Qc:tl,"##").trim(),Yc()?e:(e=(e=e.replace(/#version.+/gm,"").trim()).replace(/^\/\/\#/gm,"#"),n===t.VERTEX_SHADER&&(e=e.replace(/in /gm,"attribute ").replace(/out /g,"varying ")),n===t.FRAGMENT_SHADER&&(e=e.replace(/in /gm,"varying ").replace(/out.*?;/gm,"").replace(/texture\(/g,"texture2D(").replace(/fragColor/g,"gl_FragColor")),"".concat(e))}(t,e,n);return t.shaderSource(r,o),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)||console.error(t.getShaderInfoLog(r)),r},nl=function(t,e,n,r,o){var c=el(t,e,t.VERTEX_SHADER),l=el(t,n,t.FRAGMENT_SHADER),d=t.createProgram();t.attachShader(d,c),t.attachShader(d,l),t.linkProgram(d);var f={};return r.forEach((function(e){f[e]=t.getAttribLocation(d,e)})),o.forEach((function(e){f[e]=t.getUniformLocation(d,e)})),{program:d,locations:f,destroy:function(){t.detachShader(d,c),t.detachShader(d,l),t.deleteShader(c),t.deleteShader(l),t.deleteProgram(d)}}},rl=function(source){return"VIDEO"!==source.nodeName&&(!!Yc()||Kc(source.width)&&Kc(source.height))},il=function(t,e,source,n){return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,source),function(t,source,e){t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,rl(source)?t.LINEAR_MIPMAP_LINEAR:t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.filter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),rl(source)&&t.generateMipmap(t.TEXTURE_2D)}(t,source,n),t.bindTexture(t.TEXTURE_2D,null),e},al=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t?[t[0],t[1],t[2],kr(t[3])?e*t[3]:e]:[0,0,0,0]},cl=function(){var t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},ll=function(t,e,n,r,o,c,l){var d=1/(e-n),f=1/(r-o),h=1/(c-l);t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*d,t[13]=(o+r)*f,t[14]=(l+c)*h,t[15]=1},sl=function(t,e,n,r){t[12]=t[0]*e+t[4]*n+t[8]*r+t[12],t[13]=t[1]*e+t[5]*n+t[9]*r+t[13],t[14]=t[2]*e+t[6]*n+t[10]*r+t[14],t[15]=t[3]*e+t[7]*n+t[11]*r+t[15]},fl=function(t,s){t[0]*=s,t[1]*=s,t[2]*=s,t[3]*=s,t[4]*=s,t[5]*=s,t[6]*=s,t[7]*=s,t[8]*=s,t[9]*=s,t[10]*=s,t[11]*=s},pl=function(t,e){var s=Math.sin(e),n=Math.cos(e),r=t[4],o=t[5],c=t[6],l=t[7],d=t[8],f=t[9],h=t[10],v=t[11];t[4]=r*n+d*s,t[5]=o*n+f*s,t[6]=c*n+h*s,t[7]=l*n+v*s,t[8]=d*n-r*s,t[9]=f*n-o*s,t[10]=h*n-c*s,t[11]=v*n-l*s},hl=function(t,e){var s=Math.sin(e),n=Math.cos(e),r=t[0],o=t[1],c=t[2],l=t[3],d=t[8],f=t[9],h=t[10],v=t[11];t[0]=r*n-d*s,t[1]=o*n-f*s,t[2]=c*n-h*s,t[3]=l*n-v*s,t[8]=r*s+d*n,t[9]=o*s+f*n,t[10]=c*s+h*n,t[11]=l*s+v*n},vl=function(t,e){var s=Math.sin(e),n=Math.cos(e),r=t[0],o=t[1],c=t[2],l=t[3],d=t[4],f=t[5],h=t[6],v=t[7];t[0]=r*n+d*s,t[1]=o*n+f*s,t[2]=c*n+h*s,t[3]=l*n+v*s,t[4]=d*n-r*s,t[5]=f*n-o*s,t[6]=h*n-c*s,t[7]=v*n-l*s},ml=function(t){return t*Math.PI/180};e.degToRad=ml;var gl=function(canvas,t){return Yc()?canvas.getContext("webgl2",t):canvas.getContext("webgl",t)||canvas.getContext("experimental-webgl",t)},bl=function(t,e){var n=t.length;return e>=n?t[e%n]:e<0?t[e%n+n]:t[e]},yl=function(p,a,b,t){var e=te(b.x-a.x,b.y-a.y),n=te(t.x-b.x,t.y-b.y),r=te(a.x-t.x,a.y-t.y),o=te(p.x-a.x,p.y-a.y),c=te(p.x-b.x,p.y-b.y),l=te(p.x-t.x,p.y-t.y),d=me(e,o),f=me(n,c),h=me(r,l);return d<=0&&f<=0&&h<=0},$l=function(t){if(t.length<3)return[];if(function(t){for(var e=t.length,i=0;i<e;i++){var line=Oe(t[i],bl(t,i+1));if(yn(line,t,{ignoreIdenticalLines:!0,breakOnIntersection:!0}))return!0}return!1}(t))return[];(function(t){var i,e,n,area=0,r=t.length;for(i=0;i<r;i++)e=t[i],area+=((n=t[(i+1)%r]).x-e.x)*((n.y+e.y)/2);return area})(t)<0&&t.reverse();for(var i,e,a,b,n,r,o,c,l,d,f,p,h=t.length,v=(0,P.default)(Array(h).keys()),m=[],y=128;v.length>3;){if(y<=0)return[];for(y--,i=0;i<v.length;i++)if(a=v[i],b=bl(v,i-1),n=bl(v,i+1),r=t[a],o=t[b],c=t[n],l=te(o.x-r.x,o.y-r.y),d=te(c.x-r.x,c.y-r.y),!(me(l,d)<0)){for(f=!0,e=0;e<h;e++)if(e!==a&&e!==b&&e!==n&&(p=t[e],yl(p,o,r,c))){f=!1;break}if(f){m.push([o,r,c]),v.splice(i,1);break}}}return m.push([t[v[0]],t[v[1]],t[v[2]]]),m},xl=function(t,e,a,b,n){var r=ue(te(b.x-a.x,b.y-a.y)),o=ue(te(n.x-b.x,n.y-b.y)),c=ue(te(r.x+o.x,r.y+o.y)),l=te(-c.y,c.x),d=te(-r.y,r.x),f=Math.min(1/ve(l,d),5);t[e]=b.x,t[e+1]=b.y,t[e+2]=l.x*f,t[e+3]=l.y*f,t[e+4]=-1,t[e+5]=b.x,t[e+6]=b.y,t[e+7]=l.x*f,t[e+8]=l.y*f,t[e+9]=1},wl=function(t){var e=new Float32Array(8);return e[0]=t[3].x,e[1]=t[3].y,e[2]=t[0].x,e[3]=t[0].y,e[4]=t[2].x,e[5]=t[2].y,e[6]=t[1].x,e[7]=t[1].y,e},Pl=function(rect){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=fn(rect),o=rect.x+.5*rect.width,c=rect.y+.5*rect.height;return(e||n)&&xe(r,e,n,o,c),0!==t&&we(r,t,o,c),r},kl=function(t,e,n,r,o){for(var c=Math.min(20,Math.max(4,Math.round(r/2))),s=0,l=0,d=0,i=0;i<c;i++)s=o*Bt+i/c*Bt,l=r*Math.cos(s),d=r*Math.sin(s),t.push(te(e+l,n+d))},Sl=null,Rl=function(){if(null!==Sl)return Sl;var canvas=J("canvas"),t=gl(canvas);return Sl=t?t.getParameter(t.MAX_TEXTURE_SIZE):void 0,et(canvas),canvas=void 0,Sl},Cl=null,Ml=function(){return null===Cl&&(Cl=it(/Firefox/)),Cl},Tl=new Float32Array([0,1,0,0,1,1,1,0]),Il=new Float32Array([1,0,0,0,1,1,0,1]),Al=Z()&&Ml(),El=[0,0,0,0,1,0,0,0,0],Ll=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Fl=[0,0,0,0],zl=[0,0,0,0],Ol=function(t,e,n,r,o){if(!n||!r)return Tl;var c=r.x/n.width,l=r.y/n.height,d=t/n.width/o,f=e/n.height/o;return d-=c,f-=l,new Float32Array([-c,f,-c,-l,d,f,d,-l])},Bl=function(canvas){var t,e,n,r,o,c,l,d,f,h,v,m,y=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).alpha,$=void 0!==y&&y,x={width:0,height:0},P={width:0,height:0},k=Rl()||1024,S=cl(),R=cl(),C=0,M=0,T=0,I=1,A=new Map([]),E=function(){z.stencilOp(z.KEEP,z.KEEP,z.KEEP),z.stencilFunc(z.ALWAYS,1,255),z.stencilMask(255)},L=ml(30),F=Math.tan(L/2),z=gl(canvas,{alpha:$,antialias:!1,premultipliedAlpha:!0,stencil:!0});if(z){z.getExtension("OES_standard_derivatives"),z.disable(z.DEPTH_TEST),z.enable(z.STENCIL_TEST),z.enable(z.BLEND),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!(!$&&Ml())),E();var O=z.createTexture();z.bindTexture(z.TEXTURE_2D,O),z.texImage2D(z.TEXTURE_2D,0,z.RGBA,1,1,0,z.RGBA,z.UNSIGNED_BYTE,new Uint8Array(Fl)),A.set(0,O);var B=z.createTexture();A.set(2,B);var D=z.createFramebuffer(),_=z.createTexture();A.set(1,_);var U=z.createFramebuffer(),N=nl(z,"\n##head\n##text\nvoid main(){vTexCoord=aTexCoord;gl_Position=uMatrix*aPosition;}","\n##head\nin vec2 vTexCoord;uniform sampler2D uTexture;uniform sampler2D uTextureOverlay;uniform sampler2D uTextureBlend;uniform vec2 uTextureSize;uniform float uOpacity;uniform int uAntialias;uniform vec4 uOverlayColor;uniform mat4 uColorMatrix;uniform vec4 uColorOffset;uniform float uClarityKernel[9];uniform float uClarityKernelWeight;uniform float uColorGamma;uniform float uColorVignette;uniform float uMaskClip;uniform float uMaskOpacity;uniform float uMaskBounds[4];uniform float uMaskCornerRadius[4];uniform float uMaskFeather[8];vec4 applyGamma(vec4 c,float g){c.r=pow(c.r,g);c.g=pow(c.g,g);c.b=pow(c.b,g);return c;}vec4 applyColorMatrix(vec4 c,mat4 m,vec4 o){return(c*m)+(o*c.a);}vec4 applyConvolutionMatrix(vec4 c,float k0,float k1,float k2,float k3,float k4,float k5,float k6,float k7,float k8,float w){vec2 pixel=vec2(1)/uTextureSize;vec4 colorSum=texture(uTexture,vTexCoord-pixel)*k0+texture(uTexture,vTexCoord+pixel*vec2(0.0,-1.0))*k1+texture(uTexture,vTexCoord+pixel*vec2(1.0,-1.0))*k2+texture(uTexture,vTexCoord+pixel*vec2(-1.0,0.0))*k3+texture(uTexture,vTexCoord)*k4+texture(uTexture,vTexCoord+pixel*vec2(1.0,0.0))*k5+texture(uTexture,vTexCoord+pixel*vec2(-1.0,1.0))*k6+texture(uTexture,vTexCoord+pixel*vec2(0.0,1.0))*k7+texture(uTexture,vTexCoord+pixel)*k8;vec4 color=vec4(clamp((colorSum/w),0.0,1.0).rgb,c.a);return color;}vec4 applyVignette(vec4 c,vec2 pos,vec2 center,float v){float d=distance(pos,center)/length(center);float f=1.0-(d*abs(v));if(v>0.0){c.rgb*=f;}else if(v<0.0){c.rgb+=(1.0-f)*(1.0-c.rgb);}return c;}vec4 blendPremultipliedAlpha(vec4 back,vec4 front){return front+(back*(1.0-front.a));}void main(){float x=gl_FragCoord.x;float y=gl_FragCoord.y;float a=1.0;float maskTop=uMaskBounds[0];float maskRight=uMaskBounds[1];float maskBottom=uMaskBounds[2];float maskLeft=uMaskBounds[3];float leftFeatherOpacity=step(uMaskFeather[1],x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],x));a*=leftFeatherOpacity*rightFeatherOpacity;float overlayColorAlpha=(smoothstep(maskLeft,maskLeft+1.0,x)*(1.0-smoothstep(maskRight-1.0,maskRight,x))*(1.0-step(maskTop,y))*step(maskBottom,y));if(uOverlayColor.a==0.0){a*=overlayColorAlpha;}vec2 offset=vec2(maskLeft,maskBottom);vec2 size=vec2(maskRight-maskLeft,maskTop-maskBottom)*.5;vec2 center=offset.xy+size.xy;int pixelX=int(step(center.x,x));int pixelY=int(step(y,center.y));float cornerRadius=0.0;if(pixelX==0&&pixelY==0)cornerRadius=uMaskCornerRadius[0];if(pixelX==1&&pixelY==0)cornerRadius=uMaskCornerRadius[1];if(pixelX==0&&pixelY==1)cornerRadius=uMaskCornerRadius[2];if(pixelX==1&&pixelY==1)cornerRadius=uMaskCornerRadius[3];float cornerOffset=sign(cornerRadius)*length(max(abs(gl_FragCoord.xy-size-offset)-size+cornerRadius,0.0))-cornerRadius;float cornerOpacity=1.0-smoothstep(0.0,1.0,cornerOffset);a*=cornerOpacity;if(uAntialias==1){vec2 scaledPoint=vec2(vTexCoord.x*uTextureSize.x,vTexCoord.y*uTextureSize.y);a*=smoothstep(0.0,1.0,uTextureSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uTextureSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);}vec4 color=texture(uTexture,vTexCoord);if(uClarityKernelWeight!=-1.0){color=applyConvolutionMatrix(color,uClarityKernel[0],uClarityKernel[1],uClarityKernel[2],uClarityKernel[3],uClarityKernel[4],uClarityKernel[5],uClarityKernel[6],uClarityKernel[7],uClarityKernel[8],uClarityKernelWeight);}color=blendPremultipliedAlpha(color,texture(uTextureBlend,vTexCoord));color=applyGamma(color,uColorGamma);color=applyColorMatrix(color,uColorMatrix,uColorOffset);color*=a;if(uColorVignette!=0.0){vec2 pos=gl_FragCoord.xy-offset;color=applyVignette(color,pos,center-offset,uColorVignette);}color=blendPremultipliedAlpha(color,texture(uTextureOverlay,vTexCoord));if(overlayColorAlpha<=0.0){color*=1.0-uOverlayColor.a;}color*=uOpacity;fragColor=color;}",["aPosition","aTexCoord"],["uMatrix","uTexture","uTextureBlend","uTextureOverlay","uTextureSize","uColorGamma","uColorVignette","uColorOffset","uColorMatrix","uClarityKernel","uClarityKernelWeight","uOpacity","uMaskOpacity","uMaskBounds","uMaskCornerRadius","uMaskFeather","uOverlayColor","uAntialias"]),W=z.createBuffer(),j=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,j),z.bufferData(z.ARRAY_BUFFER,Tl,z.STATIC_DRAW);var V=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,V),z.bufferData(z.ARRAY_BUFFER,Il,z.STATIC_DRAW);var G=nl(z,"#version 300 es\n\nin vec4 aPosition;in vec2 aNormal;in float aMiter;out vec2 vNormal;out float vMiter;out float vWidth;uniform float uWidth;uniform float uSharpness;uniform mat4 uMatrix;void main(){vMiter=aMiter;vNormal=aNormal;vWidth=(uWidth*.5)+uSharpness;gl_Position=uMatrix*vec4(aPosition.x+(aNormal.x*vWidth*aMiter),aPosition.y+(aNormal.y*vWidth*aMiter),0,1);}","\n##head\n##mask\nin vec2 vNormal;in float vMiter;in float vWidth;uniform float uWidth;uniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;float m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);if(m<=0.0)discard;fillColor.a*=clamp(smoothstep(vWidth-.5,vWidth-1.0,abs(vMiter)*vWidth),0.0,1.0);fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition","aNormal","aMiter"],["uColor","uCanvasColor","uMatrix","uWidth","uSharpness","uMaskBounds","uMaskOpacity"]),H=z.createBuffer(),Z=function(t,e,o){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=G.program,d=G.locations;z.useProgram(l),z.enableVertexAttribArray(d.aPosition),z.enableVertexAttribArray(d.aNormal),z.enableVertexAttribArray(d.aMiter);var v=function(t,e){var a,b,n,i=0,r=t.length,o=new Float32Array(10*(e?r+1:r)),c=t[0],l=t[r-1];for(i=0;i<r;i++)a=t[i-1],b=t[i],n=t[i+1],a||(a=e?l:te(b.x+(b.x-n.x),b.y+(b.y-n.y))),n||(n=e?c:te(b.x+(b.x-a.x),b.y+(b.y-a.y))),xl(o,10*i,a,b,n);return e&&xl(o,10*r,l,c,t[1]),o}(t,c),m=5*Float32Array.BYTES_PER_ELEMENT,y=2*Float32Array.BYTES_PER_ELEMENT,$=4*Float32Array.BYTES_PER_ELEMENT;z.uniform1f(d.uWidth,e),z.uniform1f(d.uSharpness,n),z.uniform4fv(d.uColor,o),z.uniformMatrix4fv(d.uMatrix,!1,r),z.uniform4f(d.uCanvasColor,C,M,T,I),z.uniform1fv(d.uMaskBounds,h),z.uniform1f(d.uMaskOpacity,f),z.bindBuffer(z.ARRAY_BUFFER,H),z.bufferData(z.ARRAY_BUFFER,v,z.STATIC_DRAW),z.vertexAttribPointer(d.aPosition,2,z.FLOAT,!1,m,0),z.vertexAttribPointer(d.aNormal,2,z.FLOAT,!1,m,y),z.vertexAttribPointer(d.aMiter,1,z.FLOAT,!1,m,$),z.drawArrays(z.TRIANGLE_STRIP,0,v.length/5),z.disableVertexAttribArray(d.aPosition),z.disableVertexAttribArray(d.aNormal),z.disableVertexAttribArray(d.aMiter)},X=nl(z,"\n##head\nvoid main(){\n##matrix\n}","\n##head\n##mask\nuniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;\n##maskapply\nfillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition"],["uColor","uCanvasColor","uMatrix","uMaskBounds","uMaskOpacity"]),Y=z.createBuffer(),K=nl(z,"\n##head\n##text\nin vec2 aRectCoord;out vec2 vRectCoord;void main(){vTexCoord=aTexCoord;vRectCoord=aRectCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vRectCoord;uniform sampler2D uTexture;uniform vec4 uTextureColor;uniform float uTextureOpacity;uniform vec4 uColor;uniform float uCornerRadius[4];uniform vec2 uSize;uniform vec2 uPosition;uniform vec4 uCanvasColor;uniform int uInverted;void main(){\n##init\n##colorize\n##edgeaa\n##cornerradius\n##maskfeatherapply\nif(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord","aRectCoord"],["uTexture","uColor","uMatrix","uCanvasColor","uTextureColor","uTextureOpacity","uPosition","uSize","uMaskBounds","uMaskOpacity","uMaskFeather","uCornerRadius","uInverted"]),J=z.createBuffer(),Q=z.createBuffer(),tt=z.createBuffer(),nt=nl(z,"\n##head\n##text\nout vec2 vTexCoordDouble;void main(){vTexCoordDouble=vec2(aTexCoord.x*2.0-1.0,aTexCoord.y*2.0-1.0);vTexCoord=aTexCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vTexCoordDouble;uniform sampler2D uTexture;uniform float uTextureOpacity;uniform vec2 uRadius;uniform vec4 uColor;uniform int uInverted;uniform vec4 uCanvasColor;void main(){\n##init\nfloat ar=uRadius.x/uRadius.y;vec2 rAA=vec2(uRadius.x-1.0,uRadius.y-(1.0/ar));vec2 scaledPointSq=vec2((vTexCoordDouble.x*uRadius.x)*(vTexCoordDouble.x*uRadius.x),(vTexCoordDouble.y*uRadius.y)*(vTexCoordDouble.y*uRadius.y));float p=(scaledPointSq.x/(uRadius.x*uRadius.x))+(scaledPointSq.y/(uRadius.y*uRadius.y));float pAA=(scaledPointSq.x/(rAA.x*rAA.x))+(scaledPointSq.y/(rAA.y*rAA.y));a=smoothstep(1.0,p/pAA,p);if(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord"],["uTexture","uTextureOpacity","uColor","uCanvasColor","uMatrix","uRadius","uInverted","uMaskBounds","uMaskOpacity"]),it=z.createBuffer(),ot=z.createBuffer(),at=new Map,ut={2:{width:0,height:0},1:{width:0,height:0}},ct=function(t,n,o){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=Math.min(Math.min(4096,k)/o.width,Math.min(4096,k)/o.height,c),d=Math.floor(l*o.width),f=Math.floor(l*o.height);Ie(o,ut[t])?z.bindFramebuffer(z.FRAMEBUFFER,n):(z.bindTexture(z.TEXTURE_2D,A.get(t)),z.texImage2D(z.TEXTURE_2D,0,z.RGBA,d,f,0,z.RGBA,z.UNSIGNED_BYTE,null),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.LINEAR),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE),z.bindFramebuffer(z.FRAMEBUFFER,n),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,A.get(t),0),ut[t]=o);var h,s,v=o.width*e,y=o.height*e;ll(R,0,v,y,0,-1,1),sl(R,0,y,0),s=1,(h=R)[0]*=s,h[1]*=s,h[2]*=s,h[3]*=s,function(t,s){t[4]*=s,t[5]*=s,t[6]*=s,t[7]*=s}(R,-1),r=R,z.viewport(0,0,d,f),z.colorMask(!0,!0,!0,!0),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),m=[1,0,1,0,1,Math.max(x.width,o.width),1,Math.max(x.width,o.width)]},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=at.get(t).src;n instanceof HTMLCanvasElement&&(e||n.dataset.retain||et(n)),at.delete(t),z.deleteTexture(t)},st=function(t){return at.get(t).isRotatedVideo};return{drawPath:function(t){var n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0;if(!(t.length<2)){var v=t.map((function(p){return{x:p.x*e,y:p.y*e}})),m=n*e;if(m>0&&Z(v,m,al(o,d),c),!(v.length<3)&&l&&0!==l[3]&&c){var y=$l(v),$=new Float32Array(6*y.length);y.forEach((function(t,i){var e=(0,w.default)(t,3),a=e[0],b=e[1],n=e[2],r=6*i;$[r+0]=a.x,$[r+1]=a.y,$[r+2]=b.x,$[r+3]=b.y,$[r+4]=n.x,$[r+5]=n.y})),function(t,e){var n=X.program,o=X.locations;z.useProgram(n),z.enableVertexAttribArray(o.aPosition),z.uniform4fv(o.uColor,e),z.uniformMatrix4fv(o.uMatrix,!1,r),z.uniform1fv(o.uMaskBounds,h),z.uniform1f(o.uMaskOpacity,f),z.uniform4f(o.uCanvasColor,C,M,T,I),z.bindBuffer(z.ARRAY_BUFFER,Y),z.bufferData(z.ARRAY_BUFFER,t,z.STATIC_DRAW),z.vertexAttribPointer(o.aPosition,2,z.FLOAT,!1,0,0),z.drawArrays(z.TRIANGLES,0,t.length/2),z.disableVertexAttribArray(o.aPosition)}($,al(l,d))}}},drawRect:function(rect){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,$=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,x=arguments.length>10?arguments[10]:void 0,P=arguments.length>11?arguments[11]:void 0,k=arguments.length>12?arguments[12]:void 0,S=arguments.length>13&&void 0!==arguments[13]?arguments[13]:void 0,R=arguments.length>14?arguments[14]:void 0,A=arguments.length>15?arguments[15]:void 0,E=tn(Ne(rect),e),L=c.map((function(t){return function(t,e){return Math.floor(Zu(t,0,Math.min(.5*(e.width-1),.5*(e.height-1))))}(t||0,rect)})).map((function(t){return t*e}));if(l||d){var F=Ne(E);F.x-=.5,F.y-=.5,F.width+=1,F.height+=1;var B,D=Pl(F,t,n,o),_=wl(D);R&&0===(B=al(R))[3]&&(B[3]=.001),function(t,n,o,c,l){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:O,v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Fl,$=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Tl,x=arguments.length>9&&void 0!==arguments[9]?arguments[9]:m,w=arguments.length>10?arguments[10]:void 0,P=K.program,k=K.locations;z.useProgram(P),z.enableVertexAttribArray(k.aPosition),z.enableVertexAttribArray(k.aTexCoord),z.enableVertexAttribArray(k.aRectCoord),z.uniform4fv(k.uColor,l),z.uniform2fv(k.uSize,[n,o]),z.uniform2fv(k.uPosition,[t[2],t[3]]),z.uniform1i(k.uInverted,w?1:0),z.uniform1fv(k.uCornerRadius,c),z.uniform4f(k.uCanvasColor,C,M,T,I),z.uniform1fv(k.uMaskFeather,x.map((function(t,i){return i%2==0?t:t*e}))),z.uniform1fv(k.uMaskBounds,h),z.uniform1f(k.uMaskOpacity,f),z.uniformMatrix4fv(k.uMatrix,!1,r),z.uniform1i(k.uTexture,4),z.uniform4fv(k.uTextureColor,y),z.uniform1f(k.uTextureOpacity,v),z.activeTexture(z.TEXTURE0+4),z.bindTexture(z.TEXTURE_2D,d),z.bindBuffer(z.ARRAY_BUFFER,Q),z.bufferData(z.ARRAY_BUFFER,$,z.STATIC_DRAW),z.vertexAttribPointer(k.aTexCoord,2,z.FLOAT,!1,0,0),z.bindBuffer(z.ARRAY_BUFFER,tt),z.bufferData(z.ARRAY_BUFFER,Tl,z.STATIC_DRAW),z.vertexAttribPointer(k.aRectCoord,2,z.FLOAT,!1,0,0),z.bindBuffer(z.ARRAY_BUFFER,J),z.bufferData(z.ARRAY_BUFFER,t,z.STATIC_DRAW),z.vertexAttribPointer(k.aPosition,2,z.FLOAT,!1,0,0),z.drawArrays(z.TRIANGLE_STRIP,0,t.length/2),z.disableVertexAttribArray(k.aPosition),z.disableVertexAttribArray(k.aTexCoord),z.disableVertexAttribArray(k.aRectCoord)}(_,F.width,F.height,L,al(l,k),d,k,B,$?new Float32Array($):Ol(F.width,F.height,v,y,e),S,A)}x&&(x=Math.min(x,E.width,E.height),Z(function(t,e,n,r,o,c,l,d){var f=[];if(c.every((function(t){return 0===t})))f.push(te(t,e),te(t+n,e),te(t+n,e+r),te(t,e+r));else{var h=(0,w.default)(c,4),v=h[0],tr=h[1],m=h[2],br=h[3],y=t,$=t+n,x=e,b=e+r;f.push(te(y+v,x)),kl(f,$-tr,x+tr,tr,-1),f.push(te($,x+tr)),kl(f,$-br,b-br,br,0),f.push(te($-br,b)),kl(f,y+m,b-m,m,1),f.push(te(y,b-m)),kl(f,y+v,x+v,v,2)}return(l||d)&&xe(f,l,d,t+.5*n,e+.5*r),o&&we(f,o,t+.5*n,e+.5*r),f}(E.x,E.y,E.width,E.height,t,L,n,o),x*e,al(P,k),!0))},drawEllipse:function(t,n,o,c,l,d,v,m){var y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,$=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,x=arguments.length>10&&void 0!==arguments[10]?arguments[10]:void 0,w=arguments.length>11?arguments[11]:void 0,P=arguments.length>12?arguments[12]:void 0,k=arguments.length>13?arguments[13]:void 0,S=arguments.length>14?arguments[14]:void 0,R=tn(Xe(t.x-n,t.y-o,2*n,2*o),e);if(v||m){var A=Ne(R);A.x-=.5,A.y-=.5,A.width+=1,A.height+=1;var E=Pl(A,c,l,d);!function(t,e,n,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tl,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,v=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=nt.program,y=nt.locations;z.useProgram(m),z.enableVertexAttribArray(y.aPosition),z.enableVertexAttribArray(y.aTexCoord),z.uniformMatrix4fv(y.uMatrix,!1,r),z.uniform2fv(y.uRadius,[.5*e,.5*n]),z.uniform1i(y.uInverted,v?1:0),z.uniform4fv(y.uColor,o),z.uniform4f(y.uCanvasColor,C,M,T,I),z.uniform1fv(y.uMaskBounds,h),z.uniform1f(y.uMaskOpacity,f),z.uniform1i(y.uTexture,4),z.uniform1f(y.uTextureOpacity,d),z.activeTexture(z.TEXTURE0+4),z.bindTexture(z.TEXTURE_2D,c),z.bindBuffer(z.ARRAY_BUFFER,ot),z.bufferData(z.ARRAY_BUFFER,l,z.STATIC_DRAW),z.vertexAttribPointer(y.aTexCoord,2,z.FLOAT,!1,0,0),z.bindBuffer(z.ARRAY_BUFFER,it),z.bufferData(z.ARRAY_BUFFER,t,z.STATIC_DRAW),z.vertexAttribPointer(y.aPosition,2,z.FLOAT,!1,0,0),z.drawArrays(z.TRIANGLE_STRIP,0,t.length/2),z.disableVertexAttribArray(y.aPosition),z.disableVertexAttribArray(y.aTexCoord)}(wl(E),A.width,A.height,al(v,k),m,x?new Float32Array(x):Ol(A.width,A.height,y,$,e),k,S)}w&&Z(function(t,e,n,r,o,c,l){var d=.5*Math.abs(n),f=.5*Math.abs(r),h=Math.abs(n)+Math.abs(r),v=Math.max(20,Math.round(h/6));return Pn(te(t+d,e+f),d,f,o,c,l,v)}(R.x,R.y,R.width,R.height,c,l,d),w*e,al(P,k),!0)},drawImage:function(n,r,o,c,l,d,m,y,$,w){var P=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Ll,k=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,S=arguments.length>12?arguments[12]:void 0,R=arguments.length>13&&void 0!==arguments[13]?arguments[13]:1,C=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,M=arguments.length>15&&void 0!==arguments[15]?arguments[15]:v,T=arguments.length>16&&void 0!==arguments[16]?arguments[16]:zl,I=arguments.length>17&&void 0!==arguments[17]?arguments[17]:Fl,E=arguments.length>18&&void 0!==arguments[18]&&arguments[18],O=arguments.length>19&&void 0!==arguments[19]&&arguments[19],B=!(arguments.length>20&&void 0!==arguments[20])||arguments[20],D=r.width*e,_=r.height*e,U=-.5*D,G=.5*_,H=.5*D,b=-.5*_,Z=new Float32Array([U,b,0,U,G,0,H,b,0,H,G,0]);z.bindBuffer(z.ARRAY_BUFFER,W),z.bufferData(z.ARRAY_BUFFER,Z,z.STATIC_DRAW);var X=r.height/2/F*(x.height/r.height)*-1;l*=e,d*=e,o*=e,c*=e;var Y,K,J,Q,tt,et,nt,it=N.program,ot=N.locations,at=cl();Y=at,K=L,J=t,Q=1,tt=2*-X,et=1/Math.tan(K/2),nt=1/(Q-tt),Y[0]=et/J,Y[1]=0,Y[2]=0,Y[3]=0,Y[4]=0,Y[5]=et,Y[6]=0,Y[7]=0,Y[8]=0,Y[9]=0,Y[10]=(tt+Q)*nt,Y[11]=-1,Y[12]=0,Y[13]=0,Y[14]=2*tt*Q*nt,Y[15]=0,sl(at,l,-d,X),sl(at,o,-c,0),vl(at,-$),fl(at,w),sl(at,-o,c,0),hl(at,y),pl(at,m),z.useProgram(it),z.enableVertexAttribArray(ot.aPosition),z.enableVertexAttribArray(ot.aTexCoord),z.uniform1i(ot.uTexture,3),z.uniform2f(ot.uTextureSize,r.width,r.height),z.activeTexture(z.TEXTURE0+3),z.bindTexture(z.TEXTURE_2D,n);var ut=O?1:0,ct=A.get(ut);z.uniform1i(ot.uTextureBlend,ut),z.activeTexture(z.TEXTURE0+ut),z.bindTexture(z.TEXTURE_2D,ct);var lt=E?2:0,ft=A.get(lt);z.uniform1i(ot.uTextureOverlay,lt),z.activeTexture(z.TEXTURE0+lt),z.bindTexture(z.TEXTURE_2D,ft),z.bindBuffer(z.ARRAY_BUFFER,W),z.vertexAttribPointer(ot.aPosition,3,z.FLOAT,!1,0,0);var pt,ht=Al&&st(n);z.bindBuffer(z.ARRAY_BUFFER,ht?V:j),z.vertexAttribPointer(ot.aTexCoord,2,z.FLOAT,!1,0,0),z.uniformMatrix4fv(ot.uMatrix,!1,at),z.uniform4fv(ot.uOverlayColor,I),!S||Ku(S,El)?(S=El,pt=-1):pt=(pt=S.reduce((function(t,e){return t+e}),0))<=0?1:pt,z.uniform1fv(ot.uClarityKernel,S),z.uniform1f(ot.uClarityKernelWeight,pt),z.uniform1f(ot.uColorGamma,1/R),z.uniform1f(ot.uColorVignette,C),z.uniform1i(ot.uAntialias,B?1:0),z.uniform4f(ot.uColorOffset,P[4],P[9],P[14],P[19]),z.uniformMatrix4fv(ot.uColorMatrix,!1,[P[0],P[1],P[2],P[3],P[5],P[6],P[7],P[8],P[10],P[11],P[12],P[13],P[15],P[16],P[17],P[18]]),z.uniform1f(ot.uOpacity,k),z.uniform1f(ot.uMaskOpacity,f),z.uniform1fv(ot.uMaskBounds,h),z.uniform1fv(ot.uMaskCornerRadius,T.map((function(t){return t*e}))),z.uniform1fv(ot.uMaskFeather,M.map((function(t,i){return i%2==0?t:t*e}))),z.drawArrays(z.TRIANGLE_STRIP,0,4),z.disableVertexAttribArray(ot.aPosition),z.disableVertexAttribArray(ot.aTexCoord)},textureFilterNearest:z.NEAREST,textureFilterLinear:z.LINEAR,textureCreate:function(){return z.createTexture()},textureUpdate:function(t,source,e){return at.set(t,{src:source,options:e,isRotatedVideo:"VIDEO"===source.nodeName&&(source.dataset&&90==source.dataset.rotation||270==source.dataset.rotation)}),il(z,t,source,e)},textureGetSize:function(t){var e=at.get(t),n=e.src,r=e.options,o=Se(n);return r.scalar?ze(o,(function(t){return t/r.scalar})):o},textureDelete:lt,enablePreviewStencil:function(){z.stencilOp(z.KEEP,z.KEEP,z.REPLACE),z.stencilFunc(z.ALWAYS,1,255),z.stencilMask(255)},applyPreviewStencil:function(){z.stencilFunc(z.EQUAL,1,255),z.stencilMask(0)},disablePreviewStencil:E,setCanvasColor:function(t){C=t[0],M=t[1],T=t[2],I=$?t[3]:1,z.clear(z.COLOR_BUFFER_BIT)},resetCanvasMatrix:function(){ll(S,0,x.width,x.height,0,-1,1)},updateCanvasMatrix:function(t,n,r,o,c){var l=t.width,d=t.height,f=x.width*(.5/e),h=x.height*(.5/e),v={x:f+(r.x+n.x),y:h+(r.y+n.y)},m={x:v.x-n.x,y:v.y-n.y},y=.5*l,$=.5*d;oe(m,c.z,v),ye(m,o,v),sl(S,(m.x-y)*e,(m.y-$)*e,0),sl(S,y*e,$*e,0),vl(S,c.z);var w=c.x>Math.PI/2;pl(S,w?Math.PI:0);var P=c.y>Math.PI/2;hl(S,P?Math.PI:0),fl(S,o),sl(S,-y*e,-$*e,0)},drawToCanvas:function(){z.bindFramebuffer(z.FRAMEBUFFER,null),r=S,z.viewport(0,0,z.drawingBufferWidth,z.drawingBufferHeight),z.colorMask(!0,!0,!0,!0),z.clearColor(C,M,T,I),z.clear(z.COLOR_BUFFER_BIT),m=[1,0,1,0,1,x.width,1,x.width]},drawToImageBlendBuffer:function(t,e){ct(1,U,t,e)},drawToImageOverlayBuffer:function(t,e){ct(2,D,t,e)},enableMask:function(rect,t){var n=rect.x*e,r=rect.y*e,v=rect.width*e,m=rect.height*e;c=(d=n)+v,o=x.height-r,l=x.height-(r+m),f=1-t,h=[o,c,l,d]},disableMask:function(){d=0,c=x.width,o=x.height,f=1,h=[o,c,l=0,d]},resize:function(r,o,c){n=1===(e=c)?.75:1,P.width=r,P.height=o,x.width=r*e,x.height=o*e,t=Ft(x.width,x.height),canvas.width=x.width,canvas.height=x.height,ll(S,0,x.width,x.height,0,-1,1),v=[1,0,1,0,1,P.width,1,P.width]},release:function(){Array.from(at.keys()).forEach((function(t){return lt(t,!0)})),at.clear(),A.forEach((function(t){z.deleteTexture(t)})),A.clear(),N.destroy(),G.destroy(),X.destroy(),K.destroy(),nt.destroy(),canvas.width=1,canvas.height=1,canvas=void 0}}}},Dl=function(t){return t%2==0?t:t+1};e.imageStateToCanvas=function(t,e,n){var r=n||{},o=r.targetCanvas,c=r.targetSize,l=r.disableDraw,d=void 0!==l&&l,f=r.shapePreprocessor,canvas=o||document.createElement("canvas"),h=e.crop,v=e.colorMatrix,m=e.convolutionMatrix,y=Dn(t),$={width:y?t.videoWidth:t.width,height:y?t.videoHeight:t.height},x=c||{},w=x.upscale,P=void 0!==w&&w,S=x.fit,R=void 0===S?"contain":S,C=x.width,M=x.height,T=1;"contain"===R?T=Math.min((C||Number.MAX_SAFE_INTEGER)/h.width,(M||Number.MAX_SAFE_INTEGER)/h.height):"cover"===R&&(T=Math.max((C||h.width)/h.width,(M||h.height)/h.height)),P||(T=Math.min(T,1));var I=Math.floor(h.width*T),A=Math.floor(h.height*T),E=y?Dl(I):I,L=y?Dl(A):A,F=Bl(canvas,{alpha:!0});F.resize(E,L,1);var O,B=F.textureCreate();F.setCanvasColor([0,0,0,0]),F.drawToCanvas(),F.disableMask(),F.disablePreviewStencil();var D=Object.values(v||{}).filter(Boolean);D.length&&(O=Oo(D));var _={x:0,y:0,width:E,height:L},U=Xc(_,_,$,h,{x:0,y:0,width:E,height:L},T,{x:0,y:0},1,e.rotation,e.flipX,e.flipY),N=U.origin,W=U.translation,j=U.rotation,V=U.scale,G=[$,N.x,N.y,W.x,W.y,j.x,j.y,j.z,V,O,1,m&&m.clarity,kr(e.gamma)?e.gamma:1,e.vignette||0,[1,0,1,0,1,L,1,E],void 0,void 0,void 0,void 0,!1],H=!1,Z=e.decoration.length||e.annotation.length,X=Z&&F.textureCreate(),Y=function(){F.textureUpdate(B,t,{filter:F.textureFilterLinear})},K=function(){Y(),F.drawImage.apply(F,[B].concat(G)),Z&&H&&F.drawRect(_,0,!1,!1,[0,0,0,0],void 0,X)},Q=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Z){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,dc(J("canvas",$),{shapePreprocessor:f,imageReader:[[function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n,r){var o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.src,c=parseInt(o.width,10),l=parseInt(o.height,10),t.next=5,kt(o);case 5:return d=t.sent,t.abrupt("return",z(z({},e),{},{dest:d,size:{width:c,height:l}}));case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),"read-canvas"]],imageWriter:Zc({format:"canvas"}),imageState:z(z({},e),{},{redaction:[],frame:void 0,gamma:void 0,convolutionMatrix:void 0,colorMatrix:void 0,backgroundColor:[0,0,0,0],backgroundImage:void 0,trim:void 0,vignette:void 0,volume:void 0})});case 4:n=t.sent,r=n.dest,F.textureUpdate(X,r,{filter:F.textureFilterLinear}),H=!0,!d&&K();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Y(),!d&&K(),{canvas:canvas,prepare:Q,redraw:K}};var _l=function(t,e){var n,r,o,c,l,d=t.imageData,f=t.amount,h=void 0===f?1:f,v=Math.round(2*Math.max(1,h)),m=Math.round(.5*v),y=d.width,$=d.height,x=new Uint8ClampedArray(y*$*4),w=d.data,i=0,P=0,k=0,S=y*$*4-4;for(o=0;o<$;o++)for(n=crypto.getRandomValues(new Uint8ClampedArray($)),r=0;r<y;r++)P=0,k=0,(c=n[o]/255)<.5&&(P=4*(-m+Math.round(Math.random()*v))),c>.5&&(k=(-m+Math.round(Math.random()*v))*(4*y)),l=Math.min(Math.max(0,i+P+k),S),x[i]=w[l],x[i+1]=w[l+1],x[i+2]=w[l+2],x[i+3]=w[l+3],i+=4;e(null,{data:x,width:d.width,height:d.height})},Ul=[.0625,.125,.0625,.125,.25,.125,.0625,.125,.0625],Nl=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,f,h,v,m,y,$,x,w,P,k,S,R,C,M,T,I,A,E,i,L,F,z,O,B=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=B.length>1&&void 0!==B[1]?B[1]:{},e){t.next=3;break}return t.abrupt("return");case 3:if(r=e.width,o=e.height,c=n.dataSize,l=void 0===c?96:c,d=n.dataSizeScalar,f=void 0===d?1:d,h=n.scrambleAmount,v=void 0===h?4:h,m=n.blurAmount,y=void 0===m?6:m,$=n.outputFormat,x=void 0===$?"canvas":$,w=n.backgroundColor,P=void 0===w?[0,0,0]:w,k=Math.round(l*f),S=Math.min(k/r,k/o),R=Math.floor(r*S),C=Math.floor(o*S),M=J("canvas",{width:R,height:C}),T=M.getContext("2d",{willReadFrequently:!0}),P.length=3,T.fillStyle=zr(P),T.fillRect(0,0,R,C),nt(e)?((I=J("canvas",{width:r,height:o})).getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),T.drawImage(I,0,0,R,C),et(I)):T.drawImage(e,0,0,R,C),A=T.getImageData(0,0,R,C),E=[],v>0&&E.push([_l,{amount:v}]),y>0)for(i=0;i<y;i++)E.push([gr,{matrix:Ul}]);if(!E.length){t.next=28;break}return F=function t(e,i){return"(err, imageData) => {\n                (".concat(e[i][0].toString(),")(Object.assign({ imageData: imageData }, filterInstructions[").concat(i,"]), \n                    ").concat(e[i+1]?t(e,i+1):"done",")\n            }")},z="function (options, done) {\n            const filterInstructions = options.filterInstructions;\n            const imageData = options.imageData;\n            (".concat(F(E,0),")(null, imageData)\n        }"),t.next=24,wt(z,[{imageData:A,filterInstructions:E.map((function(t){return t[1]}))}],[A.data.buffer]);case 24:O=t.sent,L=pr(O),t.next=29;break;case 28:L=A;case 29:if("canvas"!==x){t.next=32;break}return T.putImageData(L,0,0),t.abrupt("return",M);case 32:return t.abrupt("return",L);case 33:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function Wl(t){return Math.sqrt(1- --t*t)}function jl(t){return"[object Date]"===Object.prototype.toString.call(t)}function Vl(a,b){if(a===b||a!=a)return function(){return a};var t=(0,x.default)(a);if(t!==(0,x.default)(b)||Array.isArray(a)!==Array.isArray(b))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){var e=b.map((function(t,i){return Vl(a[i],t)}));return function(t){return e.map((function(e){return e(t)}))}}if("object"===t){if(!a||!b)throw new Error("Object cannot be null");if(jl(a)&&jl(b)){a=a.getTime();var n=(b=b.getTime())-a;return function(t){return new Date(a+t*n)}}var r=Object.keys(b),o={};return r.forEach((function(t){o[t]=Vl(a[t],b[t])})),function(t){var e={};return r.forEach((function(n){e[n]=o[n](t)})),e}}if("number"===t){var c=b-a;return function(t){return a+t*c}}throw new Error("Cannot interpolate ".concat(t," values"))}function Gl(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ru(t),o=t;function c(c,l){if(null==t)return r.set(t=c),Promise.resolve();o=c;var d=e,f=!1,h=Uo(Uo({},n),l),v=h.delay,m=void 0===v?0:v,y=h.duration,$=void 0===y?400:y,x=h.easing,w=void 0===x?_o:x,P=h.interpolate,k=void 0===P?Vl:P;if(0===$)return d&&(d.abort(),d=null),r.set(t=o),Promise.resolve();var S,R=oa()+m;return e=la((function(e){if(e<R)return!0;f||(S=k(t,c),"function"==typeof $&&($=$(t,c)),f=!0),d&&(d.abort(),d=null);var n=e-R;return n>$?(r.set(t=c),!1):(r.set(t=S(w(n/$))),!0)})),e.promise}return{set:c,update:function(e,n){return c(e(o,t),n)},subscribe:r.subscribe}}function Hl(t,e,n,r){if("number"==typeof n){var o=r-n,c=(n-e)/(t.dt||1/60),l=(c+(t.opts.stiffness*o-t.opts.damping*c)*t.inv_mass)*t.dt;return Math.abs(l)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,n+l)}if(Cr(n))return n.map((function(o,i){return Hl(t,e[i],n[i],r[i])}));if("object"===(0,x.default)(n)){var d={};for(var f in n)d[f]=Hl(t,e[f],n[f],r[f]);return d}throw new Error("Cannot spring ".concat((0,x.default)(n)," values"))}function Zl(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Ru(t),l=o.stiffness,d=void 0===l?.15:l,f=o.damping,h=void 0===f?.8:f,v=o.precision,m=void 0===v?.01:v,y=t,$=t,x=1,w=0,P=!1;function k(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$=o;var d=r={};if(null==t||l.hard||S.stiffness>=1&&S.damping>=1)return P=!0,e=null,y=o,c.set(t=$),Promise.resolve();if(l.soft){var f=!0===l.soft?.5:+l.soft;w=1/(60*f),x=0}if(!n){e=null,P=!1;var h={inv_mass:void 0,opts:S,settled:!0,dt:void 0};n=la((function(r){if(null===e&&(e=r),P)return P=!1,n=null,!1;x=Math.min(x+w,1),h.inv_mass=x,h.opts=S,h.settled=!0,h.dt=60*(r-e)/1e3;var o=Hl(h,y,t,$);return e=r,y=t,c.set(t=o),h.settled&&(n=null),!h.settled}))}return new Promise((function(t){n.promise.then((function(){d===r&&t()}))}))}var S={set:k,update:function(e,n){return k(e($,t),n)},subscribe:c.subscribe,stiffness:d,damping:h,precision:m};return S}var Xl,ql=Su(!1,(function(t){var e=window.matchMedia("(prefers-reduced-motion:reduce)"),n=function(){return t(e.matches)};return n(),e.addListener(n),function(){return e.removeListener(n)}})),Yl=We(),Kl=function(t,e,n,r,o){t.rect||(t.rect=We());var rect=t.rect;rn(Yl,e,n,r,o),en(rect,Yl)||(on(rect,Yl),t.dispatchEvent(new CustomEvent("measure",{detail:rect})))},Jl=Math.round,Ql=function(t){var e=t.getBoundingClientRect();Kl(t,Jl(e.x),Jl(e.y),Jl(e.width),Jl(e.height))},ts=function(t){return Kl(t,t.offsetLeft,t.offsetTop,t.offsetWidth,t.offsetHeight)},es=[],ns=null;function rs(){es.length?(es.forEach((function(t){return t.measure(t)})),ns=requestAnimationFrame(rs)):ns=null}var is=0,os=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.observePosition,r=void 0!==n&&n,o=e.observeViewRect,c=void 0!==o&&o,l=e.once,d=void 0!==l&&l,f=e.disabled;if(!(void 0!==f&&f))return!("ResizeObserver"in window)||r||c?(t.measure=c?Ql:ts,es.push(t),ns||(ns=requestAnimationFrame(rs)),t.measure(t),{destroy:function(){var e=es.indexOf(t);es.splice(e,1),delete t.measure}}):(Xl||(Xl=new ResizeObserver((function(t){t.forEach((function(t){return ts(t.target)}))}))),Xl.observe(t),ts(t),d?Xl.unobserve(t):is++,{destroy:function(){d||(Xl.unobserve(t),0===--is&&(Xl.disconnect(),Xl=void 0))}})},as=function(element){var t=!1,map={pointerdown:function(){t=!1},keydown:function(){t=!0},keyup:function(){t=!1},focus:function(e){t&&(e.target.dataset.focusVisible="")},blur:function(t){delete t.target.dataset.focusVisible}};return Object.keys(map).forEach((function(t){return element.addEventListener(t,map[t],!0)})),{destroy:function(){Object.keys(map).forEach((function(t){return element.removeEventListener(t,map[t],!0)}))}}},us=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){if("file"===e.kind)return t(e.getAsFile());e.getAsString(t)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),cs=function(t){return new Promise((function(e,n){var r=t.dataTransfer.items;if(!r)return e([]);Promise.all(Array.from(r).map(us)).then((function(t){e(t.filter((function(t){return Lr(t)&&On(t)||/^http/.test(t)})))})).catch(n)}))},ls=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(t){t.preventDefault()},r=function(){var n=(0,k.default)(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),r.stopPropagation(),n.prev=2,n.next=5,cs(r);case 5:o=n.sent,t.dispatchEvent(new CustomEvent("dropfiles",z({detail:{event:r,resources:o}},e))),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(t){return n.apply(this,arguments)}}();return t.addEventListener("drop",r),t.addEventListener("dragover",n),{destroy:function(){t.removeEventListener("drop",r),t.removeEventListener("dragover",n)}}},ss=null,ds=function(){if(null===ss)if(Z()){var canvas=J("canvas");ss=!gl(canvas,{failIfMajorPerformanceCaveat:!0}),et(canvas)}else ss=!1;return ss};function fs(t){var div,e,n,r;return{c:function(){div=element("div"),e=element("canvas"),xa(div,"class","PinturaCanvas")},m:function(o,c){pa(o,div,c),sa(div,e),t[31](e),n||(r=[ba(e,"measure",t[32]),ra(os.call(null,e))],n=!0)},p:Do,i:Do,o:Do,d:function(e){e&&ha(div),t[31](null),n=!1,jo(r)}}}function ps(t,e,n){var r,o,c,l,d,f,h,canvas,v=Da(),m=e.isAnimated,y=e.isTransparent,$=e.maskRect,x=e.maskOpacity,k=void 0===x?1:x,S=e.maskFrameOpacity,R=void 0===S?.95:S,C=e.maskMarkupOpacity,M=void 0===C?1:C,T=e.clipAnnotationsToImage,I=void 0===T||T,A=e.pixelRatio,E=void 0===A?1:A,L=e.textPixelRatio,F=void 0===L?E:L,O=e.backgroundColor,B=e.willRender,D=void 0===B?zt:B,_=e.didRender,U=void 0===_?zt:_,W=e.willRequest,j=void 0===W?void 0:W,V=e.loadImageData,G=void 0===V?zt:V,H=e.images,Z=void 0===H?[]:H,X=e.interfaceImages,Y=void 0===X?[]:X,K=null,Q=null,tt=null,et=function(t,e){return t.set(e,{hard:!m})},it={precision:1e-4*.01},ot=0,at=Gl(void 0,{duration:0});Xo(t,at,(function(t){return n(29,l=t)}));var ut=Zl(1,it);Xo(t,ut,(function(t){return n(30,f=t)}));var ct=Zl(1,it);Xo(t,ct,(function(t){return n(40,c=t)}));var mask=Ru();Xo(t,mask,(function(t){return n(42,h=t)}));var lt=Ru();Xo(t,lt,(function(t){return n(41,d=t)}));var st=function(){return requestAnimationFrame((function(){wt=!0,Tt=0,o()}))},ft=new Map([]),pt=new Map([]),vt=function(image,t){if(ft.has(image)){if(Dn(image)){var e=ft.get(image),n="pixelated"===t?K.textureFilterNearest:K.textureFilterLinear;K.textureUpdate(e,image,{filter:n})}}else{ft.set(image,image);var filter="pixelated"===t?K.textureFilterNearest:K.textureFilterLinear;if(!ht(image)&&(Kn(image)||nt(image)||mo(image)||Dn(image))){var r=K.textureCreate();K.textureUpdate(r,image,{filter:filter}),ft.set(image,r)}else G(image).then((function(data){if(K&&data){var t=K.textureCreate();K.textureUpdate(t,data,{filter:filter}),ft.set(image,t),st()}})).catch((function(t){console.error(t)}))}return ft.get(image)},mt=function(t){if(t.text.length){var text=t.text,e=t.textAlign,n=t.fontFamily,r=t.fontSize,o=void 0===r?16:r,c=t.fontWeight,l=t.fontVariant,d=t.fontStyle,f=t.lineHeight,h=void 0===f?o:f,v=t.width,m=t.height,y=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,e=t.width,n=void 0===e?0:e,r=t.height,o=void 0===r?"auto":r,c=t.fontSize,l=t.fontFamily,d=t.lineHeight,f=t.fontWeight,h=t.fontStyle,v=t.fontVariant,m=Or({text:text,fontFamily:l,fontWeight:f,fontStyle:h,fontVariant:v,fontSize:c,lineHeight:d,width:n,height:o}),y=Zr.get(m);if(y)return y;var $=J("span"),element=An(J("pre",{contenteditable:"true",spellcheck:"false",style:"pointer-events:none;visibility:hidden;position:absolute;left:0;top:0;".concat(Gr({fontFamily:l,fontWeight:f,fontStyle:h,fontVariant:v,fontSize:c,lineHeight:d}),";").concat(Hr(text,t),'"'),innerHTML:text},[$])),x=element.getBoundingClientRect(),w=$.getBoundingClientRect();return y={textSize:ze(Se(x),Math.ceil),lastCharPosition:se(ee(w),Math.round)},Zr.set(m,y),element.remove(),y}(text,t),$=y.lastCharPosition,x=y.textSize,w=Or({text:text,textAlign:e,fontFamily:n,fontSize:o,fontWeight:c,fontVariant:l,fontStyle:d,lineHeight:h,height:m&&h?Math.min($.y,Math.ceil(m/h)*h):"auto",xOffset:$.x,yOffset:$.y});if(!ft.has(w)){ft.set(w,text);var P=v&&Math.ceil(v),k=m&&Math.ceil(m),S=Math.ceil(x.width),R=Math.ceil(x.height/h)*h;if(0===S||0===R)return;var C=Rl(),M=Math.min(1,(C-Vr*F*2)/(S*F),C/(R*F));pi(text,{fontSize:o,fontFamily:n,fontWeight:c,fontVariant:l,fontStyle:d,textAlign:e,lineHeight:h,width:P,height:k,imageWidth:S,imageHeight:R,pixelRatio:F*M,willRequest:j,color:[1,0,1]}).then((function(image){if(K){var e=K.textureCreate();K.textureUpdate(e,image,{filter:K.textureFilterLinear,scalar:M}),ft.set(w,e),pt.set(t.id,e),st()}})).catch(console.error)}var T=ft.get(w);return gt(T)?T:pt.get(t.id)}pt.delete(t.id)},gt=function(t){return t instanceof WebGLTexture},bt=function(t){var data=t.data,e=t.size,n=t.origin,r=t.translation,o=t.rotation,c=t.scale,l=t.colorMatrix,d=t.opacity,f=t.convolutionMatrix,h=t.gamma,v=t.vignette,m=t.maskFeather,y=t.maskCornerRadius,$=t.overlayColor,x=t.enableOverlay,w=t.enableBlend,P=t.enableAntialiasing,k=vt(data),S=0,R=0;if(1===E){var C=Math.abs(1-c)<Number.EPSILON;S=C&&Q%2!=0?.5:0,R=C&&tt%2!=0?.5:0}return K.drawImage(k,e,n.x,n.y,r.x+S,r.y+R,o.x,o.y,o.z,c,l,Zu(d,0,1),f,h,v,m,y,$,x,w,P),k},yt=function(t){var e=(0,w.default)(t,4),n=e[0],tr=e[1],br=e[2],r=e[3];return[r.x,r.y,n.x,n.y,br.x,br.y,tr.x,tr.y]},$t=Qt(),xt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){var e=!t._isLoading&&function(t){var e;if(t.backgroundImage)e=vt(t.backgroundImage,t.backgroundImageRendering);else if(ht(t.text)){if(t.width&&t.width<1||t.height&&t.height<1)return;e=mt(t)}return e}(t),n=gt(e)?e:void 0,r=t._scale||1,o=t._translate||$t,c=t.strokeWidth&&t.strokeWidth*r;if(Cr(t.points)){var l=t.points.map((function(t){return te(t.x*r+o.x,t.y*r+o.y)}));K.drawPath(l,t.rotation,t.flipX,t.flipY,c,t.strokeColor,t.pathClose,t.backgroundColor,t.opacity)}else if(kr(t.rx)&&kr(t.ry)){var d=t.x,f=t.y;d*=r,f*=r,d+=o.x,f+=o.y,K.drawEllipse(te(d,f),t.rx*r,t.ry*r,t.rotation,t.flipX,t.flipY,t.backgroundColor,n,void 0,void 0,t.backgroundCorners&&yt(t.backgroundCorners),c,t.strokeColor,t.opacity,t.inverted)}else if(ht(t.text)&&n||t.width){var h,v,m,y=n&&K.textureGetSize(n),$=void 0,x=t.backgroundColor,w=t.strokeColor,P=[t.cornerRadius,t.cornerRadius,t.cornerRadius,t.cornerRadius].map((function(t){return t*r}));if(h=t.width?Ve(t):z({x:t.x,y:t.y},y),r&&o&&(h.x*=r,h.y*=r,h.x+=o.x,h.y+=o.y,h.width*=r,h.height*=r),y)if(t.backgroundImage&&(t.backgroundSize||t.backgroundPosition)){var k=Ft(y.width,y.height);if("contain"===t.backgroundSize){var rect=sn(h,k,h);v=Re(rect),m=t.backgroundPosition?t.backgroundPosition:te(.5*(h.width-v.width),.5*(h.height-v.height))}else if("cover"===t.backgroundSize){var S=ln(h,k,h);v=Re(S),t.backgroundPosition?m=t.backgroundPosition:(m=te(S.x,S.y),m=te(.5*(h.width-v.width),.5*(h.height-v.height)))}else t.backgroundSize?(v=t.backgroundSize,m=t.backgroundPosition):t.backgroundPosition&&(v=z({},y),m=t.backgroundPosition)}else if(t.text){var R={width:y.width/F,height:y.height/F};if(m=te(0,0),v={width:R.width*r,height:R.height*r},t.backgroundColor||t.strokeColor){x=void 0,w=void 0;var C=(t.width||R.width-64)*r,M=(t.height||R.height)*r;K.drawRect(z(z({},h),{},{width:C,height:M}),t.rotation,t.flipX,t.flipY,P,t.backgroundColor,void 0,void 0,void 0,void 0,c,t.strokeColor,t.opacity,void 0,void 0,t.inverted)}h.x-=Vr*r,$=t.color||[0,0,0],t.width?(h.height=h.height||R.height*r,h.width+=64*r,"center"===t.textAlign?m.x=.5*(h.width-v.width):"right"===t.textAlign&&(m.x=h.width-v.width)):(h.width=R.width*r,h.height=R.height*r),t._prerender&&($[3]=0)}K.drawRect(h,t.rotation,t.flipX,t.flipY,P,x,n,v,m,t.backgroundCorners&&yt(t.backgroundCorners),c,w,t.opacity,void 0,$,t.inverted)}return e})).filter(Boolean)},wt=!1,Pt=!0,kt=!1,St=[],Rt=[],Ct=[],Mt=function(){Ct.length=0;var t=Z[0],e=D({opacity:t.opacity,rotation:t.rotation,scale:t.scale,images:Z,size:Te(Q,tt),backgroundColor:(0,P.default)(l),selectionRect:h}),n=e.blendShapes,r=e.blendShapesDirty,o=e.annotationShapes,v=e.annotationShapesDirty,m=e.interfaceShapes,x=e.decorationShapes,k=e.frameShapes,S=(0,P.default)(l),R=h,C=Zu(f,0,1),T=d,A=Math.abs(t.rotation.x/Math.PI*2-1),E=Math.abs(t.rotation.y/Math.PI*2-1),L=A<.99||E<.99,O=z({},t.size),B=t.backgroundColor,_=t.backgroundImage,N=n.length>0,W=o.length>0,j=B[3]>0,V=!!I&&M>=1;if(C<1&&j){var G=S[0],H=S[1],X=S[2],J=1-C,et=B[0]*J,nt=B[1]*J,it=B[2]*J,ot=1-J;S[0]=et+G*ot,S[1]=nt+H*ot,S[2]=it+X*ot,S[3]=1}if(K.setCanvasColor(y?[0,0,0,0]:S),N&&r?(K.disableMask(),K.drawToImageBlendBuffer(O),St.length=0,St.push.apply(St,(0,P.default)(xt(n)))):N||(St.length=0),Ct.push.apply(Ct,St),Pt&&(K.drawToImageOverlayBuffer(O,F),Pt=!1),L?(W&&(v||wt)||!kt?(K.disableMask(),K.drawToImageOverlayBuffer(O,F),Rt.length=0,Rt.push.apply(Rt,(0,P.default)(xt(o)))):W||(Rt.length=0),kt=!0):kt=!1,K.drawToCanvas(),K.enableMask(R,C),j&&K.drawRect(R,0,!1,!1,[0,0,0,0],function(t,e){var n=(0,w.default)(t,3),r=n[0],o=n[1],c=n[2],l=(0,w.default)(e,4),d=l[0],f=l[1],h=l[2],v=l[3];return[d*v+r*(1-v),f*v+o*(1-v),h*v+c*(1-v),1]}(l,B)),_){K.enableMask(R,1);var at=Math.max($.width/_.width,$.height/_.height),ut=_.width*at,ct=_.height*at,rect={x:$.x+.5*$.width-.5*ut,y:$.y+.5*$.height-.5*ct,width:ut,height:ct};K.drawRect(rect,0,!1,!1,[0,0,0,0],[0,0,0,0],vt(_,"linear")),K.enableMask(R,C)}if(V&&K.enablePreviewStencil(),Ct.push.apply(Ct,(0,P.default)((0,P.default)(Z).reverse().map((function(image){return bt(z(z({},image),{},{enableOverlay:L&&W,enableBlend:N,enableAntialiasing:!0,mask:R,maskOpacity:C,overlayColor:T}))})))),K.enableMask(R,M),L||(V&&K.applyPreviewStencil(),K.resetCanvasMatrix(),K.updateCanvasMatrix(O,t.origin,t.translation,t.scale,t.rotation),Rt.length=0,Rt.push.apply(Rt,(0,P.default)(xt(o))),V&&K.disablePreviewStencil()),Ct.push.apply(Ct,Rt),K.resetCanvasMatrix(),K.enableMask(R,M),Ct.push.apply(Ct,(0,P.default)(xt(x))),k.length){K.enableMask(R,1);var lt=k.filter((function(t){return!t.expandsCanvas})),st=k.filter((function(t){return t.expandsCanvas}));lt.length&&Ct.push.apply(Ct,(0,P.default)(xt(lt))),st.length&&(K.enableMask({x:R.x+.5,y:R.y+.5,width:R.width-1,height:R.height-1},c),Ct.push.apply(Ct,(0,P.default)(xt(st))))}K.disableMask(),Ct.push.apply(Ct,(0,P.default)(xt(m))),Y.forEach((function(image){if(K.enableMask(image.mask,image.maskOpacity),image.backgroundColor){var t=_&&ln(z({},image.mask),_.width/_.height),e=_&&vt(_,"linear");K.drawRect(image.mask,0,!1,!1,image.maskCornerRadius,image.backgroundColor,e,t,t,void 0,void 0,void 0,image.opacity,image.maskFeather)}bt(z(z({},image),{},{enableAntialiasing:!1,translation:{x:image.translation.x+image.offset.x-.5*Q,y:image.translation.y+image.offset.y-.5*tt}}))})),K.disableMask(),function(t){ft.forEach((function(e,n){!t.find((function(t){return t===e}))&&gt(e)&&(Array.from(pt.values()).includes(e)||(ft.delete(n),K.textureDelete(e)))}))}(Ct),U(),wt=!1},Tt=0,It=function(){var t=Date.now();t-Tt<48||(Tt=t,Mt())};Oa((function(){return o()})),za((function(){return n(25,K=Bl(canvas,{alpha:y}))})),Ba((function(){K&&(K.release(),n(25,K=void 0),n(0,canvas=void 0))}));return t.$$set=function(t){"isAnimated"in t&&n(9,m=t.isAnimated),"isTransparent"in t&&n(10,y=t.isTransparent),"maskRect"in t&&n(11,$=t.maskRect),"maskOpacity"in t&&n(12,k=t.maskOpacity),"maskFrameOpacity"in t&&n(13,R=t.maskFrameOpacity),"maskMarkupOpacity"in t&&n(14,M=t.maskMarkupOpacity),"clipAnnotationsToImage"in t&&n(15,I=t.clipAnnotationsToImage),"pixelRatio"in t&&n(16,E=t.pixelRatio),"textPixelRatio"in t&&n(17,F=t.textPixelRatio),"backgroundColor"in t&&n(18,O=t.backgroundColor),"willRender"in t&&n(19,D=t.willRender),"didRender"in t&&n(20,U=t.didRender),"willRequest"in t&&n(21,j=t.willRequest),"loadImageData"in t&&n(22,G=t.loadImageData),"images"in t&&n(23,Z=t.images),"interfaceImages"in t&&n(24,Y=t.interfaceImages)},t.$$.update=function(){if(1&t.$$.dirty[0]&&canvas){var e=getComputedStyle(canvas).getPropertyValue("--color-transition-duration");n(26,(c=e,d=parseFloat(c),ot=/^[0-9]+s$/.test(c)?1e3*d:d))}var c,d;67371520&t.$$.dirty[0]&&O&&at.set(O,{duration:m?ot:0}),4096&t.$$.dirty[0]&&et(ut,kr(k)?k:1),8192&t.$$.dirty[0]&&et(ct,kr(R)?R:1),2048&t.$$.dirty[0]&&$&&mask.set($),1610612736&t.$$.dirty[0]&&l&&lt.set([l[0],l[1],l[2],Zu(f,0,1)]),41943046&t.$$.dirty[0]&&n(28,r=!!(K&&Q&&tt&&Z.length)),33619974&t.$$.dirty[0]&&Q&&tt&&K&&(Tt=0,K.resize(Q,tt,E)),268435456&t.$$.dirty[0]&&n(27,o=r?ds()?It:Mt:N),402653184&t.$$.dirty[0]&&r&&o&&o()},[canvas,Q,tt,v,at,ut,ct,mask,lt,m,y,$,k,R,M,I,E,F,O,D,U,j,G,Z,Y,K,ot,o,r,l,f,function(t){ja[t?"unshift":"push"]((function(){n(0,canvas=t)}))},function(t){n(1,Q=t.detail.width),n(2,tt=t.detail.height),v("measure",{width:Q,height:tt})}]}var hs=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ps,fs,Go,{isAnimated:9,isTransparent:10,maskRect:11,maskOpacity:12,maskFrameOpacity:13,maskMarkupOpacity:14,clipAnnotationsToImage:15,pixelRatio:16,textPixelRatio:17,backgroundColor:18,willRender:19,didRender:20,willRequest:21,loadImageData:22,images:23,interfaceImages:24},null,[-1,-1,-1]),r}return(0,d.default)(n)}(Pu),vs=function(t){var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return t.filter(filter).join(e)};function ms(t,e,i){var n=t.slice();return n[17]=e[i],n}var gs=function(t){return{tab:4&t}},bs=function(t){return{tab:t[17]}};function ys(t){for(var ul,e,n,r=[],o=new Map,c=t[2],l=function(t){return t[17].id},i=0;i<c.length;i+=1){var d=ms(t,c,i),f=l(d);o.set(f,r[i]=$s(f,d))}return{c:function(){ul=element("ul");for(var n=0;n<r.length;n+=1)r[n].c();xa(ul,"class",e=vs(["PinturaTabList",t[0]])),xa(ul,"role","tablist"),xa(ul,"data-layout",t[1])},m:function(e,o){pa(e,ul,o);for(var c=0;c<r.length;c+=1)r[c].m(ul,null);t[14](ul),n=!0},p:function(t,d){1124&d&&(c=t[2],au(),r=vu(r,d,l,1,t,c,o,ul,hu,$s,null,ms),uu()),(!n||1&d&&e!==(e=vs(["PinturaTabList",t[0]])))&&xa(ul,"class",e),(!n||2&d)&&xa(ul,"data-layout",t[1])},i:function(t){if(!n){for(var e=0;e<c.length;e+=1)cu(r[e]);n=!0}},o:function(t){for(var e=0;e<r.length;e+=1)lu(r[e]);n=!1},d:function(e){e&&ha(ul);for(var n=0;n<r.length;n+=1)r[n].d();t[14](null)}}}function $s(t,e){var li,button,n,r,o,c,l,d,f,h,v=e[11].default,m=qo(v,e,e[10],bs);function y(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e)[12].apply(t,[e[17]].concat(r))}function $(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e)[13].apply(t,[e[17]].concat(r))}return{key:t,first:null,c:function(){li=element("li"),button=element("button"),m&&m.c(),r=ma(),xa(button,"type","button"),button.disabled=n=e[17].disabled,xa(li,"role","tab"),xa(li,"aria-controls",o=e[17].href.substr(1)),xa(li,"id",c=e[17].tabId),xa(li,"aria-selected",l=e[17].selected),this.first=li},m:function(t,e){pa(t,li,e),sa(li,button),m&&m.m(button,null),sa(li,r),d=!0,f||(h=[ba(button,"keydown",y),ba(button,"click",$)],f=!0)},p:function(t,r){e=t,m&&m.p&&(!d||1028&r)&&Jo(m,v,e,e[10],d?Ko(v,e[10],r,gs):Qo(e[10]),bs),(!d||4&r&&n!==(n=e[17].disabled))&&(button.disabled=n),(!d||4&r&&o!==(o=e[17].href.substr(1)))&&xa(li,"aria-controls",o),(!d||4&r&&c!==(c=e[17].tabId))&&xa(li,"id",c),(!d||4&r&&l!==(l=e[17].selected))&&xa(li,"aria-selected",l)},i:function(t){d||(cu(m,t),d=!0)},o:function(t){lu(m,t),d=!1},d:function(t){t&&ha(li),m&&m.d(t),f=!1,jo(h)}}}function xs(t){var e,n,r=t[4]&&ys(t);return{c:function(){r&&r.c(),e=ga()},m:function(t,o){r&&r.m(t,o),pa(t,e,o),n=!0},p:function(t,n){var o=(0,w.default)(n,1)[0];t[4]?r?(r.p(t,o),16&o&&cu(r,1)):((r=ys(t)).c(),cu(r,1),r.m(e.parentNode,e)):r&&(au(),lu(r,1,1,(function(){r=null})),uu())},i:function(t){n||(cu(r),n=!0)},o:function(t){lu(r),n=!1},d:function(t){r&&r.d(t),t&&ha(e)}}}function ws(t,e,n){var r,o,c,l=e.$$slots,d=void 0===l?{}:l,f=e.$$scope,h=e.class,v=void 0===h?void 0:h,m=e.name,y=e.selected,$=e.tabs,x=void 0===$?[]:$,w=e.layout,P=void 0===w?void 0:w,k=Da(),S=function(t){var e=c.querySelectorAll('[role="tab"] button')[t];e&&e.focus()},R=function(t,e){t.preventDefault(),t.stopPropagation(),k("select",e)},C=function(t,e){var n=t.key;if(/arrow/i.test(n)){var r=x.findIndex((function(t){return t.id===e}));return/right|down/i.test(n)?S(r<x.length-1?r+1:0):/left|up/i.test(n)?S(r>0?r-1:x.length-1):void 0}};return t.$$set=function(t){"class"in t&&n(0,v=t.class),"name"in t&&n(7,m=t.name),"selected"in t&&n(8,y=t.selected),"tabs"in t&&n(9,x=t.tabs),"layout"in t&&n(1,P=t.layout),"$$scope"in t&&n(10,f=t.$$scope)},t.$$.update=function(){896&t.$$.dirty&&n(2,r=x.map((function(t){var e=t.id===y;return z(z({},t),{},{tabId:"tab-".concat(m,"-").concat(t.id),href:"#panel-".concat(m,"-").concat(t.id),selected:e})}))),4&t.$$.dirty&&n(4,o=r.length>1)},[v,P,r,c,o,R,C,m,y,x,f,d,function(t,e){return C(e,t.id)},function(t,e){return R(e,t.id)},function(t){ja[t?"unshift":"push"]((function(){n(3,c=t)}))}]}var Ps=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ws,xs,Go,{class:0,name:7,selected:8,tabs:9,layout:1}),r}return(0,d.default)(n)}(Pu),ks=function(t){return{panel:16&t}},Ss=function(t){return{panel:t[4][0].id,panelIsActive:!0}};function Rs(t,e,i){var n=t.slice();return n[14]=e[i].id,n[15]=e[i].shouldDraw,n[16]=e[i].panelId,n[17]=e[i].tabindex,n[18]=e[i].labelledBy,n[19]=e[i].isActive,n[20]=e[i].hidden,n[3]=e[i].visible,n}var Cs=function(t){return{panel:16&t,panelIsActive:16&t}},Ms=function(t){return{panel:t[14],panelIsActive:t[19]}};function Ts(t){var e,n,r,o,c,l,d=t[11].default,f=qo(d,t,t[10],Ss);return{c:function(){e=element("div"),n=element("div"),f&&f.c(),xa(n,"class",r=vs([t[1]])),xa(e,"class",t[0]),xa(e,"style",t[2])},m:function(r,d){pa(r,e,d),sa(e,n),f&&f.m(n,null),o=!0,c||(l=[ba(e,"measure",t[13]),ra(os.call(null,e))],c=!0)},p:function(t,c){f&&f.p&&(!o||1040&c)&&Jo(f,d,t,t[10],o?Ko(d,t[10],c,ks):Qo(t[10]),Ss),(!o||2&c&&r!==(r=vs([t[1]])))&&xa(n,"class",r),(!o||1&c)&&xa(e,"class",t[0]),(!o||4&c)&&xa(e,"style",t[2])},i:function(t){o||(cu(f,t),o=!0)},o:function(t){lu(f,t),o=!1},d:function(t){t&&ha(e),f&&f.d(t),c=!1,jo(l)}}}function Is(t){for(var div,e,n,r,o,c=[],l=new Map,d=t[4],f=function(t){return t[14]},i=0;i<d.length;i+=1){var h=Rs(t,d,i),v=f(h);l.set(v,c[i]=Es(v,h))}return{c:function(){div=element("div");for(var n=0;n<c.length;n+=1)c[n].c();xa(div,"class",e=vs(["PinturaTabPanels",t[0]])),xa(div,"style",t[2])},m:function(e,l){pa(e,div,l);for(var d=0;d<c.length;d+=1)c[d].m(div,null);n=!0,r||(o=[ba(div,"measure",t[12]),ra(os.call(null,div,{observePosition:!0}))],r=!0)},p:function(t,r){1042&r&&(d=t[4],au(),c=vu(c,r,f,1,t,d,l,div,hu,Es,null,Rs),uu()),(!n||1&r&&e!==(e=vs(["PinturaTabPanels",t[0]])))&&xa(div,"class",e),(!n||4&r)&&xa(div,"style",t[2])},i:function(t){if(!n){for(var e=0;e<d.length;e+=1)cu(c[e]);n=!0}},o:function(t){for(var e=0;e<c.length;e+=1)lu(c[e]);n=!1},d:function(t){t&&ha(div);for(var e=0;e<c.length;e+=1)c[e].d();r=!1,jo(o)}}}function As(t){var e,n=t[11].default,r=qo(n,t,t[10],Ms);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,o){r&&r.p&&(!e||1040&o)&&Jo(r,n,t,t[10],e?Ko(n,t[10],o,Cs):Qo(t[10]),Ms)},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){r&&r.d(t)}}}function Es(t,e){var div,n,r,o,c,l,d,f,h,v=e[15]&&As(e);return{key:t,first:null,c:function(){div=element("div"),v&&v.c(),n=ma(),xa(div,"class",r=vs(["PinturaTabPanel",e[1]])),div.hidden=o=e[20],xa(div,"id",c=e[16]),xa(div,"tabindex",l=e[17]),xa(div,"aria-labelledby",d=e[18]),xa(div,"data-inert",f=!e[3]),this.first=div},m:function(t,e){pa(t,div,e),v&&v.m(div,null),sa(div,n),h=!0},p:function(t,m){(e=t)[15]?v?(v.p(e,m),16&m&&cu(v,1)):((v=As(e)).c(),cu(v,1),v.m(div,n)):v&&(au(),lu(v,1,1,(function(){v=null})),uu()),(!h||2&m&&r!==(r=vs(["PinturaTabPanel",e[1]])))&&xa(div,"class",r),(!h||16&m&&o!==(o=e[20]))&&(div.hidden=o),(!h||16&m&&c!==(c=e[16]))&&xa(div,"id",c),(!h||16&m&&l!==(l=e[17]))&&xa(div,"tabindex",l),(!h||16&m&&d!==(d=e[18]))&&xa(div,"aria-labelledby",d),(!h||16&m&&f!==(f=!e[3]))&&xa(div,"data-inert",f)},i:function(t){h||(cu(v),h=!0)},o:function(t){lu(v),h=!1},d:function(t){t&&ha(div),v&&v.d()}}}function Ls(t){var e,n,r,o,c=[Is,Ts],l=[];function d(t,e){return t[5]?0:1}return e=d(t),n=l[e]=c[e](t),{c:function(){n.c(),r=ga()},m:function(t,n){l[e].m(t,n),pa(t,r,n),o=!0},p:function(t,o){var f=(0,w.default)(o,1)[0],h=e;(e=d(t))===h?l[e].p(t,f):(au(),lu(l[h],1,1,(function(){l[h]=null})),uu(),(n=l[e])?n.p(t,f):(n=l[e]=c[e](t)).c(),cu(n,1),n.m(r.parentNode,r))},i:function(t){o||(cu(n),o=!0)},o:function(t){lu(n),o=!1},d:function(t){l[e].d(t),t&&ha(r)}}}function Fs(t,e,n){var r,o,c=e.$$slots,l=void 0===c?{}:c,d=e.$$scope,f=e.class,h=void 0===f?void 0:f,v=e.name,m=e.selected,y=e.panelClass,$=void 0===y?void 0:y,x=e.panels,w=void 0===x?[]:x,P=e.visible,k=void 0===P?void 0:P,S=e.style,style=void 0===S?void 0:S,R={};return t.$$set=function(t){"class"in t&&n(0,h=t.class),"name"in t&&n(6,v=t.name),"selected"in t&&n(7,m=t.selected),"panelClass"in t&&n(1,$=t.panelClass),"panels"in t&&n(8,w=t.panels),"visible"in t&&n(3,k=t.visible),"style"in t&&n(2,style=t.style),"$$scope"in t&&n(10,d=t.$$scope)},t.$$.update=function(){968&t.$$.dirty&&n(4,r=w.map((function(t){var e=t===m;e&&n(9,R[t]=!0,R);var r=k?-1!==k.indexOf(t):e;return{id:t,panelId:"panel-".concat(v,"-").concat(t),labelledBy:"tab-".concat(v,"-").concat(t),isActive:e,hidden:!e,visible:r,tabindex:e?0:-1,shouldDraw:e||R[t]}}))),16&t.$$.dirty&&n(5,o=r.length>1)},[h,$,style,k,r,o,v,m,w,R,d,l,function(e){Na.call(this,t,e)},function(e){Na.call(this,t,e)}]}var zs=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Fs,Ls,Go,{class:0,name:6,selected:7,panelClass:1,panels:8,visible:3,style:2}),r}return(0,d.default)(n)}(Pu),Os=function(t){var e=Object.getOwnPropertyDescriptors(t.prototype);return Object.keys(e).filter((function(t){return!!e[t].get}))};function Bs(t){var svg,e,n,r=t[5].default,o=qo(r,t,t[4],null);return{c:function(){svg=va("svg"),o&&o.c(),xa(svg,"class",t[3]),xa(svg,"style",t[2]),xa(svg,"width",t[0]),xa(svg,"height",t[1]),xa(svg,"viewBox",e="0 0 "+t[0]+"\n    "+t[1]),xa(svg,"xmlns","http://www.w3.org/2000/svg"),xa(svg,"aria-hidden","true"),xa(svg,"focusable","false"),xa(svg,"stroke-linecap","round"),xa(svg,"stroke-linejoin","round")},m:function(t,e){pa(t,svg,e),o&&o.m(svg,null),n=!0},p:function(t,c){var l=(0,w.default)(c,1)[0];o&&o.p&&(!n||16&l)&&Jo(o,r,t,t[4],n?Ko(r,t[4],l,null):Qo(t[4]),null),(!n||8&l)&&xa(svg,"class",t[3]),(!n||4&l)&&xa(svg,"style",t[2]),(!n||1&l)&&xa(svg,"width",t[0]),(!n||2&l)&&xa(svg,"height",t[1]),(!n||3&l&&e!==(e="0 0 "+t[0]+"\n    "+t[1]))&&xa(svg,"viewBox",e)},i:function(t){n||(cu(o,t),n=!0)},o:function(t){lu(o,t),n=!1},d:function(t){t&&ha(svg),o&&o.d(t)}}}function Ds(t,e,n){var r=e.$$slots,o=void 0===r?{}:r,c=e.$$scope,l=e.width,d=void 0===l?24:l,f=e.height,h=void 0===f?24:f,v=e.style,style=void 0===v?void 0:v,m=e.class,y=void 0===m?void 0:m;return t.$$set=function(t){"width"in t&&n(0,d=t.width),"height"in t&&n(1,h=t.height),"style"in t&&n(2,style=t.style),"class"in t&&n(3,y=t.class),"$$scope"in t&&n(4,c=t.$$scope)},[d,h,style,y,c,o]}var _s=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Ds,Bs,Go,{width:0,height:1,style:2,class:3}),r}return(0,d.default)(n)}(Pu),Us=function(element){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.direction,n=void 0===e?void 0:e,r=t.shiftMultiplier,o=void 0===r?10:r,c=t.bubbles,l=void 0!==c&&c,d=t.preventDefault,f=void 0!==d&&d,h=t.stopKeydownPropagation,v=void 0===h||h,m="horizontal"===n,y="vertical"===n,$=function(t){var e=t.key,n=t.shiftKey,r=/up|down/i.test(e),c=/left|right/i.test(e);if((c||r)&&!(m&&r||y&&c)){var d=n?o:1;v&&t.stopPropagation(),f&&t.preventDefault(),element.dispatchEvent(new CustomEvent("nudge",{bubbles:l,detail:te((/left/i.test(e)?-1:/right/i.test(e)?1:0)*d,(/up/i.test(e)?-1:/down/i.test(e)?1:0)*d)}))}};return element.addEventListener("keydown",$),{destroy:function(){element.removeEventListener("keydown",$)}}},Ns=function(t,e,n){return(t-e)/(n-e)},Ws=function(t){return{}},js=function(t){return{}};function Vs(t){var e,n,r,o,c,l,d,f;return n=new _s({props:{$$slots:{default:[Gs]},$$scope:{ctx:t}}}),c=new _s({props:{$$slots:{default:[Hs]},$$scope:{ctx:t}}}),{c:function(){e=element("button"),yu(n.$$.fragment),r=ma(),o=element("button"),yu(c.$$.fragment),xa(e,"type","button"),xa(e,"aria-label","Increase"),xa(o,"type","button"),xa(o,"aria-label","Decrease")},m:function(h,v){pa(h,e,v),$u(n,e,null),pa(h,r,v),pa(h,o,v),$u(c,o,null),l=!0,d||(f=[ba(e,"pointerdown",t[20](1)),ba(o,"pointerdown",t[20](-1))],d=!0)},p:function(t,e){var r={};128&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);var o={};128&e[1]&&(o.$$scope={dirty:e,ctx:t}),c.$set(o)},i:function(t){l||(cu(n.$$.fragment,t),cu(c.$$.fragment,t),l=!0)},o:function(t){lu(n.$$.fragment,t),lu(c.$$.fragment,t),l=!1},d:function(t){t&&ha(e),xu(n),t&&ha(r),t&&ha(o),xu(c),d=!1,jo(f)}}}function Gs(t){var path;return{c:function(){xa(path=va("path"),"d","M8 12 h8 M12 8 v8")},m:function(t,e){pa(t,path,e)},p:Do,d:function(t){t&&ha(path)}}}function Hs(t){var path;return{c:function(){xa(path=va("path"),"d","M9 12 h6")},m:function(t,e){pa(t,path,e)},p:Do,d:function(t){t&&ha(path)}}}function Zs(t){var e,n,r,o,c,l,d,f,h,v,m,y,$,x,w,P,k,S=t[36].default,R=qo(S,t,t[38],null),C=t[36].knob,M=qo(C,t,t[38],js),T=t[9]&&Vs(t);return{c:function(){e=element("div"),n=element("div"),r=element("input"),c=ma(),l=element("div"),R&&R.c(),f=ma(),h=element("div"),v=element("div"),M&&M.c(),$=ma(),T&&T.c(),xa(r,"type","range"),xa(r,"id",t[3]),xa(r,"min",t[0]),xa(r,"max",t[1]),xa(r,"step",t[2]),r.value=t[14],xa(r,"style",o=t[10]?"pointer-events:none":""),xa(l,"class",d=vs(["PinturaSliderTrack",t[5]])),xa(l,"style",t[4]),xa(v,"class",m=vs(["PinturaSliderKnob",t[7]])),xa(v,"style",t[6]),xa(h,"class","PinturaSliderKnobController"),xa(h,"style",t[17]),xa(n,"class","PinturaSliderControl"),xa(n,"style",y="--slider-position:".concat(Math.round(t[15]))),xa(e,"class",x=vs(["PinturaSlider",t[12]])),xa(e,"data-direction",t[8])},m:function(o,d){pa(o,e,d),sa(e,n),sa(n,r),t[37](r),sa(n,c),sa(n,l),R&&R.m(l,null),sa(n,f),sa(n,h),sa(h,v),M&&M.m(v,null),sa(e,$),T&&T.m(e,null),w=!0,P||(k=[ba(r,"input",t[18]),ba(r,"nudge",t[19]),ra(Us.call(null,r)),ba(n,"pointerdown",(function(){Vo(t[11]&&t[13])&&(t[11]&&t[13]).apply(this,arguments)}))],P=!0)},p:function(c,f){t=c,(!w||8&f[0])&&xa(r,"id",t[3]),(!w||1&f[0])&&xa(r,"min",t[0]),(!w||2&f[0])&&xa(r,"max",t[1]),(!w||4&f[0])&&xa(r,"step",t[2]),(!w||16384&f[0])&&(r.value=t[14]),(!w||1024&f[0]&&o!==(o=t[10]?"pointer-events:none":""))&&xa(r,"style",o),R&&R.p&&(!w||128&f[1])&&Jo(R,S,t,t[38],w?Ko(S,t[38],f,null):Qo(t[38]),null),(!w||32&f[0]&&d!==(d=vs(["PinturaSliderTrack",t[5]])))&&xa(l,"class",d),(!w||16&f[0])&&xa(l,"style",t[4]),M&&M.p&&(!w||128&f[1])&&Jo(M,C,t,t[38],w?Ko(C,t[38],f,Ws):Qo(t[38]),js),(!w||128&f[0]&&m!==(m=vs(["PinturaSliderKnob",t[7]])))&&xa(v,"class",m),(!w||64&f[0])&&xa(v,"style",t[6]),(!w||131072&f[0])&&xa(h,"style",t[17]),(!w||32768&f[0]&&y!==(y="--slider-position:".concat(Math.round(t[15]))))&&xa(n,"style",y),t[9]?T?(T.p(t,f),512&f[0]&&cu(T,1)):((T=Vs(t)).c(),cu(T,1),T.m(e,null)):T&&(au(),lu(T,1,1,(function(){T=null})),uu()),(!w||4096&f[0]&&x!==(x=vs(["PinturaSlider",t[12]])))&&xa(e,"class",x),(!w||256&f[0])&&xa(e,"data-direction",t[8])},i:function(t){w||(cu(R,t),cu(M,t),cu(T),w=!0)},o:function(t){lu(R,t),lu(M,t),lu(T),w=!1},d:function(n){n&&ha(e),t[37](null),R&&R.d(n),M&&M.d(n),T&&T.d(),P=!1,jo(k)}}}function Xs(t,e,n){var r,o,c,l,d,f,h,v,m,input,y,$,x,w,P,k,S,R=e.$$slots,C=void 0===R?{}:R,M=e.$$scope,T=e.min,I=void 0===T?0:T,A=e.max,E=void 0===A?100:A,L=e.step,F=void 0===L?1:L,z=e.id,O=void 0===z?void 0:z,B=e.value,D=void 0===B?0:B,_=e.valueMin,U=void 0===_?void 0:_,W=e.valueMax,j=void 0===W?void 0:W,V=e.trackStyle,G=void 0===V?void 0:V,H=e.trackClass,Z=void 0===H?void 0:H,X=e.knobStyle,Y=void 0===X?void 0:X,K=e.knobClass,J=void 0===K?void 0:K,Q=e.ongrab,tt=void 0===Q?N:Q,et=e.onchange,nt=void 0===et?N:et,it=e.onrelease,ot=void 0===it?N:it,at=e.onexceed,ut=void 0===at?N:at,ct=e.direction,lt=void 0===ct?"x":ct,st=e.getValue,ft=void 0===st?zt:st,pt=e.setValue,vt=void 0===pt?zt:pt,mt=e.enableSpinButtons,gt=void 0===mt||mt,bt=e.enableForceUseKnob,yt=void 0!==bt&&bt,$t=e.enableStopPropagation,xt=void 0===$t||$t,wt=e.enablePointerdownListener,Pt=void 0===wt||wt,kt=e.maxInteractionDistance,St=void 0===kt?6:kt,Rt=e.class,Ct=void 0===Rt?void 0:Rt,Mt=function(t){return vt(function(t,e){return e=1/e,Math.round(t*e)/e}(Zu(t,I,E),F))},Tt=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=r.grabbed,l=void 0!==c&&c,d=r.released,f=void 0!==d&&d,h=Mt(I+t/e*o),v=U||I,m=j||E;n(21,D=ht(h)?h:Zu(h,v,m)),P!==h&&(P=h,!ht(h)&&(h<v||h>m)&&ut(D,h),D!==w&&(w=D,l&&tt(D),nt(D),f&&ot(D)))},It=function(t){var e=t[v]-x;Tt($+e,y)},At=function t(e){y=void 0,document.documentElement.removeEventListener("pointermove",It),document.documentElement.removeEventListener("pointerup",t),nt(D),ot(D)},Et=function(){n(21,D=Mt(r+Lt*F)),nt(D)},Lt=1,Ft=!1,Ot=function t(e){clearTimeout(S),Ft||Et(),ot(D),document.removeEventListener("pointerup",t)};return t.$$set=function(t){"min"in t&&n(0,I=t.min),"max"in t&&n(1,E=t.max),"step"in t&&n(2,F=t.step),"id"in t&&n(3,O=t.id),"value"in t&&n(21,D=t.value),"valueMin"in t&&n(22,U=t.valueMin),"valueMax"in t&&n(23,j=t.valueMax),"trackStyle"in t&&n(4,G=t.trackStyle),"trackClass"in t&&n(5,Z=t.trackClass),"knobStyle"in t&&n(6,Y=t.knobStyle),"knobClass"in t&&n(7,J=t.knobClass),"ongrab"in t&&n(24,tt=t.ongrab),"onchange"in t&&n(25,nt=t.onchange),"onrelease"in t&&n(26,ot=t.onrelease),"onexceed"in t&&n(27,ut=t.onexceed),"direction"in t&&n(8,lt=t.direction),"getValue"in t&&n(28,ft=t.getValue),"setValue"in t&&n(29,vt=t.setValue),"enableSpinButtons"in t&&n(9,gt=t.enableSpinButtons),"enableForceUseKnob"in t&&n(10,yt=t.enableForceUseKnob),"enableStopPropagation"in t&&n(30,xt=t.enableStopPropagation),"enablePointerdownListener"in t&&n(11,Pt=t.enablePointerdownListener),"maxInteractionDistance"in t&&n(31,St=t.maxInteractionDistance),"class"in t&&n(12,Ct=t.class),"$$scope"in t&&n(38,M=t.$$scope)},t.$$.update=function(){270532608&t.$$.dirty[0]&&n(14,r=void 0!==D?ft(D):0),3&t.$$.dirty[0]&&(o=E-I),16387&t.$$.dirty[0]&&n(33,c=Ns(r,I,E)),4&t.$$.dirty[1]&&n(15,l=100*c),256&t.$$.dirty[0]&&n(34,d=lt.toUpperCase()),256&t.$$.dirty[0]&&n(35,f="x"===lt?"Width":"Height"),16&t.$$.dirty[1]&&(h="offset".concat(f)),t.$$.dirty[1],8&t.$$.dirty[1]&&(v="page".concat(d)),32768&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(17,m="transform: translate".concat(d,"(").concat(l,"%)"))},[I,E,F,O,G,Z,Y,J,lt,gt,yt,Pt,Ct,function(t){var e=!1;xt&&t.stopPropagation(),clearTimeout(k);var n=input.getBoundingClientRect();if(y=input[h],x=t[v],$=x-n[lt],yt){if(Math.abs($-c*y)>St)return;e=!0,t.stopPropagation()}return document.activeElement!==input&&input.focus(),Tt($,y,{grabbed:!0}),document.documentElement.addEventListener("pointermove",It),document.documentElement.addEventListener("pointerup",At),e},r,l,input,m,function(t){y||(n(21,D=vt(parseFloat(t.target.value))),D!==w&&(w=D,nt(D)))},function(t){var e=input[h];Tt(r/o*e+t.detail[lt],e),clearTimeout(k),k=setTimeout((function(){ot(D)}),250)},function(t){return function(e){clearTimeout(k),Lt=t,Ft=!1,S=setInterval((function(){Ft=!0,Et()}),100),document.addEventListener("pointercancel",Ot),document.addEventListener("pointerup",Ot)}},D,U,j,tt,nt,ot,ut,ft,vt,xt,St,function(t){var e=input.getBoundingClientRect(),n=t[v]-e[lt],r=input[h];return Math.abs(n-c*r)},c,d,f,C,function(t){ja[t?"unshift":"push"]((function(){n(16,input=t)}))},M]}var qs=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Xs,Zs,Go,{min:0,max:1,step:2,id:3,value:21,valueMin:22,valueMax:23,trackStyle:4,trackClass:5,knobStyle:6,knobClass:7,ongrab:24,onchange:25,onrelease:26,onexceed:27,direction:8,getValue:28,setValue:29,enableSpinButtons:9,enableForceUseKnob:10,enableStopPropagation:30,enablePointerdownListener:11,maxInteractionDistance:31,class:12,eventDistanceToKnob:32,handlePointerDown:13},null,[-1,-1]),r}return(0,d.default)(n,[{key:"eventDistanceToKnob",get:function(){return this.$$.ctx[32]}},{key:"handlePointerDown",get:function(){return this.$$.ctx[13]}}]),n}(Pu),Ys=function(t,element){return element===t.target||element.contains(t.target)};function Ks(t){var e,n;return e=new _s({props:{class:"PinturaButtonIcon",$$slots:{default:[Js]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};134217730&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Js(t){var g;return{c:function(){g=va("g")},m:function(e,n){pa(e,g,n),g.innerHTML=t[1]},p:function(t,e){2&e&&(g.innerHTML=t[1])},d:function(t){t&&ha(g)}}}function Qs(t){var span,e;return{c:function(){span=element("span"),e=text(t[0]),xa(span,"class",t[9])},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,n){1&n&&Pa(e,t[0]),512&n&&xa(span,"class",t[9])},d:function(t){t&&ha(span)}}}function ed(t){var button,e,n,r,o=t[25].default,c=qo(o,t,t[27],null),l=c||function(t){var span,e,n,r=t[1]&&Ks(t),o=t[0]&&Qs(t);return{c:function(){span=element("span"),r&&r.c(),e=ma(),o&&o.c(),xa(span,"class",t[11])},m:function(t,c){pa(t,span,c),r&&r.m(span,null),sa(span,e),o&&o.m(span,null),n=!0},p:function(t,c){t[1]?r?(r.p(t,c),2&c&&cu(r,1)):((r=Ks(t)).c(),cu(r,1),r.m(span,e)):r&&(au(),lu(r,1,1,(function(){r=null})),uu()),t[0]?o?o.p(t,c):((o=Qs(t)).c(),o.m(span,null)):o&&(o.d(1),o=null),(!n||2048&c)&&xa(span,"class",t[11])},i:function(t){n||(cu(r),n=!0)},o:function(t){lu(r),n=!1},d:function(t){t&&ha(span),r&&r.d(),o&&o.d()}}}(t);return{c:function(){button=element("button"),l&&l.c(),xa(button,"type",t[4]),xa(button,"style",t[2]),button.disabled=t[3],xa(button,"class",t[10]),xa(button,"title",t[0])},m:function(o,c){pa(o,button,c),l&&l.m(button,null),t[26](button),e=!0,n||(r=[ba(button,"keydown",(function(){Vo(t[6])&&t[6].apply(this,arguments)})),ba(button,"click",(function(){Vo(t[5])&&t[5].apply(this,arguments)})),ba(button,"pointerdown",(function(){Vo(t[12])&&t[12].apply(this,arguments)})),ra(t[7].call(null,button))],n=!0)},p:function(n,r){var d=(0,w.default)(r,1)[0];t=n,c?c.p&&(!e||134217728&d)&&Jo(c,o,t,t[27],e?Ko(o,t[27],d,null):Qo(t[27]),null):l&&l.p&&(!e||2563&d)&&l.p(t,e?d:-1),(!e||16&d)&&xa(button,"type",t[4]),(!e||4&d)&&xa(button,"style",t[2]),(!e||8&d)&&(button.disabled=t[3]),(!e||1024&d)&&xa(button,"class",t[10]),(!e||1&d)&&xa(button,"title",t[0])},i:function(t){e||(cu(l,t),e=!0)},o:function(t){lu(l,t),e=!1},d:function(e){e&&ha(button),l&&l.d(e),t[26](null),n=!1,jo(r)}}}function nd(t,e,n){var r,o,c,l,d,f,h,v=e.$$slots,m=void 0===v?{}:v,y=e.$$scope,$=e.class,x=void 0===$?void 0:$,w=e.label,label=void 0===w?void 0:w,P=e.labelClass,k=void 0===P?void 0:P,S=e.innerClass,R=void 0===S?void 0:S,C=e.hideLabel,M=void 0!==C&&C,T=e.icon,I=void 0===T?void 0:T,A=e.style,style=void 0===A?void 0:A,E=e.disabled,L=void 0===E?void 0:E,F=e.type,z=void 0===F?"button":F,O=e.onclick,B=void 0===O?void 0:O,D=e.onkeydown,_=void 0===D?void 0:D,U=e.onhold,N=void 0===U?void 0:U,W=e.action,j=void 0===W?function(){}:W,V=e.holdThreshold,G=void 0===V?500:V,H=e.holdSpeedUpFactor,Z=void 0===H?.5:H,X=e.holdSpeedMin,Y=void 0===X?20:X,K=function t(e){n(23,f=setTimeout((function(){N(),t(Math.max(e*Z,Y))}),e))};return t.$$set=function(t){"class"in t&&n(13,x=t.class),"label"in t&&n(0,label=t.label),"labelClass"in t&&n(14,k=t.labelClass),"innerClass"in t&&n(15,R=t.innerClass),"hideLabel"in t&&n(16,M=t.hideLabel),"icon"in t&&n(1,I=t.icon),"style"in t&&n(2,style=t.style),"disabled"in t&&n(3,L=t.disabled),"type"in t&&n(4,z=t.type),"onclick"in t&&n(5,B=t.onclick),"onkeydown"in t&&n(6,_=t.onkeydown),"onhold"in t&&n(17,N=t.onhold),"action"in t&&n(7,j=t.action),"holdThreshold"in t&&n(18,G=t.holdThreshold),"holdSpeedUpFactor"in t&&n(19,Z=t.holdSpeedUpFactor),"holdSpeedMin"in t&&n(20,Y=t.holdSpeedMin),"$$scope"in t&&n(27,y=t.$$scope)},t.$$.update=function(){25296896&t.$$.dirty&&n(24,o=N?function(){f&&(clearTimeout(f),n(23,f=void 0),document.documentElement.removeEventListener("pointerup",o))}:Do),17170432&t.$$.dirty&&n(12,r=N?function(){document.documentElement.addEventListener("pointerup",o),K(G)}:Do),32768&t.$$.dirty&&n(11,c=vs(["PinturaButtonInner",R])),73728&t.$$.dirty&&n(10,l=vs(["PinturaButton",M&&"PinturaButtonIconOnly",x])),81920&t.$$.dirty&&n(9,d=vs([M?"implicit":"PinturaButtonLabel",k]))},[label,I,style,L,z,B,_,j,h,d,l,c,r,x,k,R,M,N,G,Z,Y,function(t){return Ys(t,h)},function(){return h},f,o,m,function(t){ja[t?"unshift":"push"]((function(){n(8,h=t)}))},y]}var rd=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,nd,ed,Go,{class:13,label:0,labelClass:14,innerClass:15,hideLabel:16,icon:1,style:2,disabled:3,type:4,onclick:5,onkeydown:6,onhold:17,action:7,holdThreshold:18,holdSpeedUpFactor:19,holdSpeedMin:20,isEventTarget:21,getElement:22}),r}return(0,d.default)(n,[{key:"isEventTarget",get:function(){return this.$$.ctx[21]}},{key:"getElement",get:function(){return this.$$.ctx[22]}}]),n}(Pu);function id(t){var e,n,r,o,c=[t[4]];function l(e){t[22](e)}var d=t[10];function f(t){for(var e={},i=0;i<c.length;i+=1)e=Uo(e,c[i]);return void 0!==t[2]&&(e.name=t[2]),{props:e}}return d&&(e=Ca(d,f(t)),ja.push((function(){return bu(e,"name",l,t[2])})),t[23](e),e.$on("measure",t[11])),{c:function(){e&&yu(e.$$.fragment),r=ga()},m:function(t,n){e&&$u(e,t,n),pa(t,r,n),o=!0},p:function(t,o){var h=16&o?mu(c,[gu(t[4])]):{};if(!n&&4&o&&(n=!0,h.name=t[2],Ka((function(){return n=!1}))),d!==(d=t[10])){if(e){au();var v=e;lu(v.$$.fragment,1,0,(function(){xu(v,1)})),uu()}d?(e=Ca(d,f(t)),ja.push((function(){return bu(e,"name",l,t[2])})),t[23](e),e.$on("measure",t[11]),yu(e.$$.fragment),cu(e.$$.fragment,1),$u(e,r.parentNode,r)):e=null}else d&&e.$set(h)},i:function(t){o||(e&&cu(e.$$.fragment,t),o=!0)},o:function(t){e&&lu(e.$$.fragment,t),o=!1},d:function(n){t[23](null),n&&ha(r),e&&xu(e,n)}}}function od(t){var div,e,n,r=t[5]&&id(t);return{c:function(){div=element("div"),r&&r.c(),xa(div,"data-util",t[2]),xa(div,"class",e=vs(["PinturaUtilPanel",t[1]])),xa(div,"style",t[6])},m:function(e,o){pa(e,div,o),r&&r.m(div,null),t[24](div),n=!0},p:function(t,o){var c=(0,w.default)(o,1)[0];t[5]?r?(r.p(t,c),32&c&&cu(r,1)):((r=id(t)).c(),cu(r,1),r.m(div,null)):r&&(au(),lu(r,1,1,(function(){r=null})),uu()),(!n||4&c)&&xa(div,"data-util",t[2]),(!n||2&c&&e!==(e=vs(["PinturaUtilPanel",t[1]])))&&xa(div,"class",e),(!n||64&c)&&xa(div,"style",t[6])},i:function(t){n||(cu(r),n=!0)},o:function(t){lu(r),n=!1},d:function(e){e&&ha(div),r&&r.d(),t[24](null)}}}function ad(t,e,n){var style,r,o,c,l,d,rect,f=Da(),h=e.isActive,v=void 0===h||h,m=e.stores,content=e.content,component=e.component,y=e.locale,$=e.class,x=void 0===$?void 0:$,w=Ua("isAnimated");Xo(t,w,(function(t){return n(21,d=t)}));var P=Zl(0),S=Cu(P,(function(t){return Zu(t,0,1)}));Xo(t,S,(function(t){return n(20,l=t)}));var R=!v,C=Ru(v);Xo(t,C,(function(t){return n(25,c=t)}));var M,T,I={isActive:Cu(C,function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",n(e));case 2:return t.next=4,qa();case 4:n(e);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),isActiveFraction:Cu(S,(function(t){return t})),isVisible:Cu(S,(function(t){return t>0}))},A=content.view,E=Os(A),L=Object.keys(content.props||{}).reduce((function(t,e){return E.includes(e)?(t[e]=content.props[e],t):t}),{}),F=Object.keys(I).reduce((function(t,e){return E.includes(e)?(t[e]=I[e],t):t}),{}),O=function(t){n(17,rect=z({},t.detail)),B&&v&&f("measure",z({},rect))},B=!1;return za((function(){if(n(19,B=!0),!o){n(0,component=new A({target:T,props:z({},r)})),n(2,M=component.name);var t=component.$on("measure",O);return function(){t(),component.$destroy()}}})),t.$$set=function(t){"isActive"in t&&n(12,v=t.isActive),"stores"in t&&n(13,m=t.stores),"content"in t&&n(14,content=t.content),"component"in t&&n(0,component=t.component),"locale"in t&&n(15,y=t.locale),"class"in t&&n(1,x=t.class)},t.$$.update=function(){135169&t.$$.dirty&&rect&&v&&component&&f("measure",rect),2101248&t.$$.dirty&&P.set(v?1:0,{hard:!1===d}),1310720&t.$$.dirty&&(l<=0&&!R?n(18,R=!0):l>0&&R&&n(18,R=!1)),786432&t.$$.dirty&&B&&f(R?"hide":"show"),1048576&t.$$.dirty&&f("fade",l),1048576&t.$$.dirty&&n(6,style=l<1?"opacity: ".concat(l):void 0),4096&t.$$.dirty&&na(C,c=v,c),40960&t.$$.dirty&&n(4,r=z(z(z({},L),F),{},{stores:m,locale:y}))},n(5,o=!E.includes("external")),[component,x,M,T,r,o,style,w,S,C,A,O,v,m,content,y,P,rect,R,B,l,d,function(t){n(2,M=t)},function(t){ja[t?"unshift":"push"]((function(){n(0,component=t)}))},function(t){ja[t?"unshift":"push"]((function(){n(3,T=t)}))}]}var ud=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ad,od,Go,{isActive:12,stores:13,content:14,component:0,locale:15,class:1,opacity:16}),r}return(0,d.default)(n,[{key:"opacity",get:function(){return this.$$.ctx[16]}}]),n}(Pu),cd=function(t,e){var n=t.findIndex(e);if(n>=0)return t.splice(n,1)},ld=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.inertia,r=void 0!==n&&n,o=e.inertiaDurationMultiplier,c=void 0===o?80:o,l=e.shouldStartInteraction,d=void 0===l?function(){return!0}:l,f=e.pinch,h=void 0!==f&&f,v=e.multiTouch,m=void 0===v?void 0:v,y=e.getEventPosition,$=void 0===y?function(t){return te(t.clientX,t.clientY)}:y;function x(e,n){t.dispatchEvent(new CustomEvent(e,{detail:n}))}function w(){R&&R(),R=void 0}var P,k,S,R,C,M,T,I,A=[],E=function(t){return 0===t.timeStamp?Date.now():t.timeStamp},L=function(t){var e=cd(A,(function(e){return e.event.pointerId===t.pointerId}));if(e)return e[0]},F=function(){var t=re(A[0].position);if(A[1]){var e=.5*(A[1].position.x-t.x),n=.5*(A[1].position.y-t.y);t.x+=e,t.y+=n}return t},O=function(t){t.origin.x=t.position.x,t.origin.y=t.position.y,t.translation.x=0,t.translation.y=0},B=function(t){var e=D(t);if(e){var n=E(t),r=$(t),o=Math.max(1,n-e.timeStamp);e.velocity.x=(r.x-e.position.x)/o,e.velocity.y=(r.y-e.position.y)/o,e.velocityHistory.push(re(e.velocity)),e.velocityHistory=e.velocityHistory.slice(-3),e.velocityAverage=e.velocityHistory.reduce((function(t,e,n,r){return t.x+=e.x/r.length,t.y+=e.y/r.length,t}),Qt()),e.translation.x=r.x-e.origin.x,e.translation.y=r.y-e.origin.y,e.timeStamp=n,e.position.x=r.x,e.position.y=r.y,e.event=t}},D=function(t){var i=function(t){return A.findIndex((function(e){return e.event.pointerId===t.pointerId}))}(t);if(!(i<0))return A[i]},_=function(){return 1===A.length},U=function(){return 2===A.length},N=function(t){var e=$e(t.map((function(t){return t.position}))),n=function(t,e){return t.reduce((function(t,n){return t+be(e,n.position)}),0)/t.length}(t,e);return{center:e,distance:n,velocity:$e(t.map((function(t){return t.velocity}))),translation:$e(t.map((function(t){return t.translation})))}},W=0,j=void 0;function V(e){if(!U()&&!function(t){return kr(t.button)&&0!==t.button}(e)&&d(e,t))if(w(),function(t){var e=E(t),n={timeStamp:e,timeStampInitial:e,position:$(t),origin:$(t),velocity:Qt(),velocityHistory:[],velocityAverage:Qt(),translation:Qt(),interactionState:void 0,event:t};A.push(n),n.interactionState=N(A)}(e),_())document.documentElement.addEventListener("pointermove",H),document.documentElement.addEventListener("pointerup",Z),document.documentElement.addEventListener("pointercancel",Z),I=!1,T=1,M=Qt(),C=void 0,x("interactionstart",{origin:re(D(e).origin)});else if(h)I=!0,C=be(A[0].position,A[1].position),M.x+=A[0].translation.x,M.y+=A[0].translation.y,O(A[0]);else if(!1===m)return A.length=0,document.documentElement.removeEventListener("pointermove",H),document.documentElement.removeEventListener("pointerup",Z),document.documentElement.removeEventListener("pointercancel",Z),x("interactioncancel")}t.addEventListener("pointerdown",V);var G=Date.now();function H(t){t.preventDefault(),B(t);var e=re(A[0].translation),n=T;h&&U()&&(n*=be(A[0].position,A[1].position)/C,de(e,A[1].translation));de(e,M);var r=Date.now();r-G<16||(G=r,x("interactionupdate",{position:F(),translation:e,scalar:h?n:void 0,isMultiTouching:U()}))}function Z(t){if(D(t)){var e=F(),n=L(t);if(h&&_()){var o=be(A[0].position,n.position);T*=o/C,M.x+=A[0].translation.x+n.translation.x,M.y+=A[0].translation.y+n.translation.y,O(A[0])}var l=!1,d=!1;if(!I&&n){var f=performance.now(),v=f-n.timeStampInitial,m=ge(n.translation);l=m<64&&v<300,d=!!(j&&l&&f-W<700&&ge(j,n.position)<128),l&&(j=re(n.position),W=f)}if(!(A.length>0)){document.documentElement.removeEventListener("pointermove",H),document.documentElement.removeEventListener("pointerup",Z),document.documentElement.removeEventListener("pointercancel",Z);var y=re(n.translation),$=re(n.velocityAverage),w=!1;x("interactionrelease",{isTap:l,isDoubleTap:d,position:e,translation:y,scalar:T,preventInertia:function(){return w=!0}});var E=be($);if(w||!r||E<.25)return Y(y,{isTap:l,isDoubleTap:d});k=re(e),S=re(y),(P=Gl(re(y),{easing:Wl,duration:E*c})).set({x:y.x+50*$.x,y:y.y+50*$.y}).then((function(){R&&Y(Zo(P),{isTap:l,isDoubleTap:d})})),R=P.subscribe(X)}}}function X(t){t&&x("interactionupdate",{position:te(k.x+(t.x-S.x),k.y+(t.y-S.y)),translation:t,scalar:h?T:void 0})}function Y(t,e){w(),x("interactionend",z(z({},e),{},{translation:t,scalar:h?T:void 0}))}return{destroy:function(){w(),t.removeEventListener("pointerdown",V)}}};function sd(t,e){return e?e*Math.sign(t)*Math.log10(1+Math.abs(t)/e):t}var fd=function(a,b,t){if(!b||!t)return z({},a);var e=a.x+sd(b.x-a.x,t),n=a.x+a.width+sd(b.x+b.width-(a.x+a.width),t),r=a.y+sd(b.y-a.y,t);return{x:e,y:r,width:n-e,height:a.y+a.height+sd(b.y+b.height-(a.y+a.height),t)-r}},pd=function(a,b,t){return b&&t?te(a.x+sd(b.x-a.x,t),a.y+sd(b.y-a.y,t)):z({},a)},hd=function(t,element){if(t)return/em/.test(t)?16*parseInt(t,10):/px/.test(t)?parseInt(t,10):void 0},vd=function(t){var e=t.detail||0,n=t.deltaX,r=t.deltaY,o=t.wheelDelta,c=t.wheelDeltaX,l=t.wheelDeltaY;return kr(c)&&Math.abs(c)>Math.abs(l)?e=c/-120:kr(n)&&Math.abs(n)>Math.abs(r)?e=n/20:(o||l)&&(e=(o||l)/-120),e||(e=r/20),(Ml()||Ln())&&(e*=2),e};function md(t){var e,n,r,o,c,l,d,f=t[36].default,h=qo(f,t,t[35],null);return{c:function(){e=element("div"),n=element("div"),h&&h.c(),xa(n,"style",t[5]),xa(e,"class",r=vs(["PinturaScrollable",t[0]])),xa(e,"style",t[4]),xa(e,"data-direction",t[1]),xa(e,"data-state",t[6])},m:function(r,f){pa(r,e,f),sa(e,n),h&&h.m(n,null),t[38](e),c=!0,l||(d=[ba(n,"interactionstart",t[8]),ba(n,"interactionupdate",t[10]),ba(n,"interactionend",t[11]),ba(n,"interactionrelease",t[9]),ra(ld.call(null,n,{inertia:!0})),ba(n,"measure",t[37]),ra(os.call(null,n)),ba(e,"wheel",t[13],{passive:!1}),ba(e,"scroll",t[15]),ba(e,"focusin",t[14]),ba(e,"nudge",t[16]),ba(e,"measure",t[12]),ra(os.call(null,e,{observePosition:!0})),ra(o=Us.call(null,e,{direction:"x"===t[1]?"horizontal":"vertical",stopKeydownPropagation:!1}))],l=!0)},p:function(t,l){h&&h.p&&(!c||16&l[1])&&Jo(h,f,t,t[35],c?Ko(f,t[35],l,null):Qo(t[35]),null),(!c||32&l[0])&&xa(n,"style",t[5]),(!c||1&l[0]&&r!==(r=vs(["PinturaScrollable",t[0]])))&&xa(e,"class",r),(!c||16&l[0])&&xa(e,"style",t[4]),(!c||2&l[0])&&xa(e,"data-direction",t[1]),(!c||64&l[0])&&xa(e,"data-state",t[6]),o&&Vo(o.update)&&2&l[0]&&o.update.call(null,{direction:"x"===t[1]?"horizontal":"vertical",stopKeydownPropagation:!1})},i:function(t){c||(cu(h,t),c=!0)},o:function(t){lu(h,t),c=!1},d:function(n){n&&ha(e),h&&h.d(n),t[38](null),l=!1,jo(d)}}}function gd(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,w=e.$$slots,P=void 0===w?{}:w,k=e.$$scope,S=Da(),R="idle",C=Zl(0);Xo(t,C,(function(t){return n(34,v=t)}));var M,T,I,A,E=e.class,L=void 0===E?void 0:E,F=e.scrollBlockInteractionDist,z=void 0===F?5:F,O=e.scrollStep,B=void 0===O?10:O,D=e.scrollFocusMargin,_=void 0===D?64:D,U=e.scrollDirection,W=void 0===U?"x":U,j=e.scrollAutoCancel,V=void 0!==j&&j,G=e.elasticity,H=void 0===G?0:G,Z=e.onscroll,X=void 0===Z?N:Z,Y=e.maskFeatherSize,K=void 0===Y?void 0:Y,J=e.maskFeatherStartOpacity,Q=void 0===J?void 0:J,tt=e.maskFeatherEndOpacity,et=void 0===tt?void 0:tt,nt=e.scroll,it=void 0===nt?void 0:nt,ot="",at=!0,ut=C.subscribe((function(t){var e=Qt();e[W]=t,X(e)})),ct=function(t){return Math.max(Math.min(0,t),$[r]-y[r])},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.elastic,o=void 0!==r&&r,c=e.animate,animate=void 0!==c&&c,l=e.preventScrollState,d=void 0!==l&&l;Math.abs(t-m)>z&&"idle"===R&&!x&&!d&&n(27,R="scrolling");var f=ct(t),h=o&&H&&!x?f+sd(t-f,H):f,v=!0;animate?v=!1:at||(v=!x),at=!1,C.set(h,{hard:v}).then((function(t){x&&(at=!0)}))};Ba((function(){ut()}));return t.$$set=function(t){"class"in t&&n(0,L=t.class),"scrollBlockInteractionDist"in t&&n(20,z=t.scrollBlockInteractionDist),"scrollStep"in t&&n(21,B=t.scrollStep),"scrollFocusMargin"in t&&n(22,_=t.scrollFocusMargin),"scrollDirection"in t&&n(1,W=t.scrollDirection),"scrollAutoCancel"in t&&n(23,V=t.scrollAutoCancel),"elasticity"in t&&n(24,H=t.elasticity),"onscroll"in t&&n(25,X=t.onscroll),"maskFeatherSize"in t&&n(19,K=t.maskFeatherSize),"maskFeatherStartOpacity"in t&&n(17,Q=t.maskFeatherStartOpacity),"maskFeatherEndOpacity"in t&&n(18,et=t.maskFeatherEndOpacity),"scroll"in t&&n(26,it=t.scroll),"$$scope"in t&&n(35,k=t.$$scope)},t.$$.update=function(){if(2&t.$$.dirty[0]&&n(31,r="x"===W?"width":"height"),2&t.$$.dirty[0]&&n(29,o=W.toUpperCase()),8&t.$$.dirty[0]&&n(33,c=M&&getComputedStyle(M)),8&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(32,l=c&&hd(c.getPropertyValue("--scrollable-feather-size"))),268828676&t.$$.dirty[0]|11&t.$$.dirty[1]&&null!=v&&$&&null!=l&&y){var e=-1*v/l,m=-($[r]-y[r]-v)/l;n(17,Q=Zu(1-e,0,1)),n(18,et=Zu(1-m,0,1)),n(19,K=l),n(4,ot="--scrollable-feather-start-opacity: ".concat(Q,";--scrollable-feather-end-opacity: ").concat(et))}67108872&t.$$.dirty[0]&&M&&void 0!==it&&(kr(it)?lt(it):lt(it.scrollOffset,it)),268435460&t.$$.dirty[0]|1&t.$$.dirty[1]&&n(30,d=$&&y?y[r]>$[r]:void 0),1207959552&t.$$.dirty[0]&&n(6,f=vs([R,d?"overflows":void 0])),1610612736&t.$$.dirty[0]|8&t.$$.dirty[1]&&n(5,h=d?"transform: translate".concat(o,"(").concat(v,"px)"):void 0)},[L,W,y,M,ot,h,f,C,function(){d&&(I=!1,T=!0,A=te(0,0),x=!1,n(27,R="idle"),m=Zo(C))},function(t){t.detail;d&&(x=!0,n(27,R="idle"))},function(t){var e=t.detail;d&&(I||T&&(T=!1,ge(e.translation)<.1)||(!V||"x"!==W||function(t){var e=se(te(t.x-A.x,t.y-A.y),Math.abs);A=re(t);var n=ge(e),r=e.x-e.y;return!(n>1&&r<-.5)}(e.translation)?lt(m+e.translation[W],{elastic:!0}):I=!0))},function(t){var e=t.detail;if(d&&!I){var n=m+e.translation[W],r=ct(n);at=!1,C.set(r).then((function(t){x&&(at=!0)}))}},function(t){var e=t.detail;n(28,$=e),S("measure",{x:e.x,y:e.y,width:e.width,height:e.height})},function(t){if(d){t.preventDefault(),t.stopPropagation();var e=t.shiftKey,n=vd(t)*(e?-1:1),r=Zo(C);lt(r+n*B,{animate:!0})}},function(t){if(d&&x){var e=t.target;t.target.classList.contains("implicit")&&(e=e.parentNode);var n=e["x"===W?"offsetLeft":"offsetTop"],o=n+e["x"===W?"offsetWidth":"offsetHeight"],c=Zo(C),l=_+K;c+n<l?lt(-n+l):c+o>$[r]-l&&lt($[r]-o-l,{animate:!0})}},function(){n(3,M["x"===W?"scrollLeft":"scrollTop"]=0,M)},function(t){var e=t.detail;if(!M.querySelector("[data-focus-visible]")){var n=-2*e[W],r=Zo(C);lt(r+n*B,{animate:!0,preventScrollState:!0})}},Q,et,K,z,B,_,V,H,X,it,R,$,o,d,r,l,c,v,k,P,function(t){return n(2,y=t.detail)},function(t){ja[t?"unshift":"push"]((function(){n(3,M=t)}))}]}var bd=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,gd,md,Go,{class:0,scrollBlockInteractionDist:20,scrollStep:21,scrollFocusMargin:22,scrollDirection:1,scrollAutoCancel:23,elasticity:24,onscroll:25,maskFeatherSize:19,maskFeatherStartOpacity:17,maskFeatherEndOpacity:18,scroll:26},null,[-1,-1]),r}return(0,d.default)(n)}(Pu);function yd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.delay,r=void 0===n?0:n,o=e.duration,c=void 0===o?400:o,l=e.easing,d=void 0===l?_o:l,f=+getComputedStyle(t).opacity;return{delay:r,duration:c,easing:d,css:function(t){return"opacity: ".concat(t*f)}}}function $d(t){var span,e,n,r,o;return{c:function(){xa(span=element("span"),"class","PinturaStatusMessage")},m:function(e,c){pa(e,span,c),span.innerHTML=t[0],n=!0,r||(o=[ba(span,"measure",(function(){Vo(t[1])&&t[1].apply(this,arguments)})),ra(os.call(null,span))],r=!0)},p:function(e,r){var o=(0,w.default)(r,1)[0];t=e,(!n||1&o)&&(span.innerHTML=t[0])},i:function(t){n||(Ya((function(){e||(e=du(span,yd,{duration:500},!0)),e.run(1)})),n=!0)},o:function(t){e||(e=du(span,yd,{duration:500},!1)),e.run(0),n=!1},d:function(t){t&&ha(span),t&&e&&e.end(),r=!1,jo(o)}}}function xd(t,e,n){var text=e.text,r=e.onmeasure,o=void 0===r?N:r;return t.$$set=function(t){"text"in t&&n(0,text=t.text),"onmeasure"in t&&n(1,o=t.onmeasure)},[text,o]}var wd=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,xd,$d,Go,{text:0,onmeasure:1}),r}return(0,d.default)(n)}(Pu);function Pd(t){var e,svg,g,n,r,o,c,l;return{c:function(){e=element("span"),svg=va("svg"),g=va("g"),n=va("circle"),r=va("circle"),o=ma(),c=element("span"),l=text(t[3]),xa(n,"class","PinturaProgressIndicatorBar"),xa(n,"r","8.5"),xa(n,"cx","10"),xa(n,"cy","10"),xa(n,"stroke-linecap","round"),xa(n,"opacity",".25"),xa(r,"class","PinturaProgressIndicatorFill"),xa(r,"r","8.5"),xa(r,"stroke-dasharray",t[2]),xa(r,"cx","10"),xa(r,"cy","10"),xa(r,"transform","rotate(-90) translate(-20)"),xa(g,"fill","none"),xa(g,"stroke","currentColor"),xa(g,"stroke-width","2.5"),xa(g,"stroke-linecap","round"),xa(g,"opacity",t[1]),xa(svg,"width","20"),xa(svg,"height","20"),xa(svg,"viewBox","0 0 20 20"),xa(svg,"xmlns","http://www.w3.org/2000/svg"),xa(svg,"aria-hidden","true"),xa(svg,"focusable","false"),xa(c,"class","implicit"),xa(e,"class","PinturaProgressIndicator"),xa(e,"data-status",t[0])},m:function(t,d){pa(t,e,d),sa(e,svg),sa(svg,g),sa(g,n),sa(g,r),sa(e,o),sa(e,c),sa(c,l)},p:function(t,n){var o=(0,w.default)(n,1)[0];4&o&&xa(r,"stroke-dasharray",t[2]),2&o&&xa(g,"opacity",t[1]),8&o&&Pa(l,t[3]),1&o&&xa(e,"data-status",t[0])},i:Do,o:Do,d:function(t){t&&ha(e)}}}function kd(t,e,n){var r,o,c,l,d,f,h=Da(),progress=e.progress,v=e.min,m=void 0===v?0:v,y=e.max,$=void 0===y?100:y,x=e.labelBusy,w=void 0===x?"Busy":x,P=Zl(0,{precision:.01}),k=Zl(0,{precision:.01});Xo(t,k,(function(t){return n(10,d=t)}));var S=Cu([P],(function(t){return Zu(t,m,$)}));Xo(t,S,(function(t){return n(11,f=t)}));var R=S.subscribe((function(t){1===progress&&Math.round(t)>=100&&h("complete")}));return za((function(){k.set(1)})),Ba((function(){R()})),t.$$set=function(t){"progress"in t&&n(6,progress=t.progress),"min"in t&&n(7,m=t.min),"max"in t&&n(8,$=t.max),"labelBusy"in t&&n(9,w=t.labelBusy)},t.$$.update=function(){64&t.$$.dirty&&progress&&progress!==1/0&&P.set(100*progress),2624&t.$$.dirty&&n(3,r=progress===1/0?w:"".concat(Math.round(f),"%")),2112&t.$$.dirty&&n(2,o=progress===1/0?"26.5 53":"".concat(f/100*53," 53")),1024&t.$$.dirty&&n(1,c=d),64&t.$$.dirty&&n(0,l=progress===1/0?"busy":"loading")},[l,c,o,r,k,S,progress,m,$,w,d,f]}var Sd=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,kd,Pd,Go,{progress:6,min:7,max:8,labelBusy:9}),r}return(0,d.default)(n)}(Pu);function Rd(t){var span,e,n,r=t[5].default,o=qo(r,t,t[4],null);return{c:function(){span=element("span"),o&&o.c(),xa(span,"class",e="PinturaStatusAside ".concat(t[0])),xa(span,"style",t[1])},m:function(t,e){pa(t,span,e),o&&o.m(span,null),n=!0},p:function(t,c){var l=(0,w.default)(c,1)[0];o&&o.p&&(!n||16&l)&&Jo(o,r,t,t[4],n?Ko(r,t[4],l,null):Qo(t[4]),null),(!n||1&l&&e!==(e="PinturaStatusAside ".concat(t[0])))&&xa(span,"class",e),(!n||2&l)&&xa(span,"style",t[1])},i:function(t){n||(cu(o,t),n=!0)},o:function(t){lu(o,t),n=!1},d:function(t){t&&ha(span),o&&o.d(t)}}}function Cd(t,e,n){var style,r=e.$$slots,o=void 0===r?{}:r,c=e.$$scope,l=e.offset,d=void 0===l?0:l,f=e.opacity,h=void 0===f?0:f,v=e.class,m=void 0===v?void 0:v;return t.$$set=function(t){"offset"in t&&n(2,d=t.offset),"opacity"in t&&n(3,h=t.opacity),"class"in t&&n(0,m=t.class),"$$scope"in t&&n(4,c=t.$$scope)},t.$$.update=function(){12&t.$$.dirty&&n(1,style="transform:translateX(".concat(d,"px);opacity:").concat(h))},[m,style,d,h,c,o]}var Md=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Cd,Rd,Go,{offset:2,opacity:3,class:0}),r}return(0,d.default)(n)}(Pu);function Td(t){for(var label,e,n=t[3].default,r=qo(n,t,t[2],null),o=[{for:"_"},t[1]],c={},i=0;i<o.length;i+=1)c=Uo(c,o[i]);return{c:function(){label=element("label"),r&&r.c(),wa(label,c)},m:function(t,n){pa(t,label,n),r&&r.m(label,null),e=!0},p:function(t,l){r&&r.p&&(!e||4&l)&&Jo(r,n,t,t[2],e?Ko(n,t[2],l,null):Qo(t[2]),null),wa(label,c=mu(o,[{for:"_"},2&l&&t[1]]))},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){t&&ha(label),r&&r.d(t)}}}function Id(t){for(var div,e,n=t[3].default,r=qo(n,t,t[2],null),o=[t[1]],c={},i=0;i<o.length;i+=1)c=Uo(c,o[i]);return{c:function(){div=element("div"),r&&r.c(),wa(div,c)},m:function(t,n){pa(t,div,n),r&&r.m(div,null),e=!0},p:function(t,l){r&&r.p&&(!e||4&l)&&Jo(r,n,t,t[2],e?Ko(n,t[2],l,null):Qo(t[2]),null),wa(div,c=mu(o,[2&l&&t[1]]))},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){t&&ha(div),r&&r.d(t)}}}function Ad(t){for(var div,e,n=t[3].default,r=qo(n,t,t[2],null),o=[t[1]],c={},i=0;i<o.length;i+=1)c=Uo(c,o[i]);return{c:function(){div=element("div"),r&&r.c(),wa(div,c)},m:function(t,n){pa(t,div,n),r&&r.m(div,null),e=!0},p:function(t,l){r&&r.p&&(!e||4&l)&&Jo(r,n,t,t[2],e?Ko(n,t[2],l,null):Qo(t[2]),null),wa(div,c=mu(o,[2&l&&t[1]]))},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){t&&ha(div),r&&r.d(t)}}}function Ed(t){var e,n,r,o,c=[Ad,Id,Td],l=[];function d(t,e){return"div"===t[0]?0:"span"===t[0]?1:"label"===t[0]?2:-1}return~(e=d(t))&&(n=l[e]=c[e](t)),{c:function(){n&&n.c(),r=ga()},m:function(t,n){~e&&l[e].m(t,n),pa(t,r,n),o=!0},p:function(t,o){var f=(0,w.default)(o,1)[0],h=e;(e=d(t))===h?~e&&l[e].p(t,f):(n&&(au(),lu(l[h],1,1,(function(){l[h]=null})),uu()),~e?((n=l[e])?n.p(t,f):(n=l[e]=c[e](t)).c(),cu(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){o||(cu(n),o=!0)},o:function(t){lu(n),o=!1},d:function(t){~e&&l[e].d(t),t&&ha(r)}}}function Ld(t,e,n){var r=e.$$slots,o=void 0===r?{}:r,c=e.$$scope,l=e.name,d=void 0===l?"div":l,f=e.attributes,h=void 0===f?{}:f;return t.$$set=function(t){"name"in t&&n(0,d=t.name),"attributes"in t&&n(1,h=t.attributes),"$$scope"in t&&n(2,c=t.$$scope)},[d,h,c,o]}var Fd=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Ld,Ed,Go,{name:0,attributes:1}),r}return(0,d.default)(n)}(Pu),zd=function(){return Z()&&window.devicePixelRatio||1},Od=null,Bd=function(t){return null===Od&&(Od=1===zd()?Math.round:function(t){return t}),Od(t)},Dd=function(element){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(element){if(t.preventScroll&&Ln()){var e=document.body.scrollTop;return element.focus(),void(document.body.scrollTop=e)}element.focus(t)}},_d=function(t){return{}},Ud=function(t){return{}},Nd=function(t){return{}},Wd=function(t){return{}};function jd(t){for(var button,e,n=[t[7]],r={$$slots:{default:[Gd]},$$scope:{ctx:t}},i=0;i<n.length;i+=1)r=Uo(r,n[i]);return button=new rd({props:r}),t[40](button),{c:function(){yu(button.$$.fragment)},m:function(t,n){$u(button,t,n),e=!0},p:function(t,e){var r=128&e[0]?mu(n,[gu(t[7])]):{};8192&e[1]&&(r.$$scope={dirty:e,ctx:t}),button.$set(r)},i:function(t){e||(cu(button.$$.fragment,t),e=!0)},o:function(t){lu(button.$$.fragment,t),e=!1},d:function(e){t[40](null),xu(button,e)}}}function Vd(t){for(var button,e,n=[t[7]],r={},i=0;i<n.length;i+=1)r=Uo(r,n[i]);return button=new rd({props:r}),t[39](button),{c:function(){yu(button.$$.fragment)},m:function(t,n){$u(button,t,n),e=!0},p:function(t,e){var r=128&e[0]?mu(n,[gu(t[7])]):{};button.$set(r)},i:function(t){e||(cu(button.$$.fragment,t),e=!0)},o:function(t){lu(button.$$.fragment,t),e=!1},d:function(e){t[39](null),xu(button,e)}}}function Gd(t){var e,n=t[38].label,r=qo(n,t,t[44],Wd);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,o){r&&r.p&&(!e||8192&o[1])&&Jo(r,n,t,t[44],e?Ko(n,t[44],o,Nd):Qo(t[44]),Wd)},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){r&&r.d(t)}}}function Hd(t){var div,e,span,n,r,o,c,l=t[38].details,d=qo(l,t,t[44],Ud);return{c:function(){div=element("div"),d&&d.c(),e=ma(),xa(span=element("span"),"class","PinturaPanelTip"),xa(span,"style",t[10]),xa(div,"class",n=vs(["PinturaPanel","pintura-editor-panel",t[2]])),xa(div,"tabindex","-1"),xa(div,"style",t[11])},m:function(n,l){pa(n,div,l),d&&d.m(div,null),sa(div,e),sa(div,span),t[41](div),r=!0,o||(c=[ba(div,"close",t[42]),ba(div,"keydown",t[18]),ba(div,"measure",t[43]),ra(os.call(null,div))],o=!0)},p:function(t,e){d&&d.p&&(!r||8192&e[1])&&Jo(d,l,t,t[44],r?Ko(l,t[44],e,_d):Qo(t[44]),Ud),(!r||1024&e[0])&&xa(span,"style",t[10]),(!r||4&e[0]&&n!==(n=vs(["PinturaPanel","pintura-editor-panel",t[2]])))&&xa(div,"class",n),(!r||2048&e[0])&&xa(div,"style",t[11])},i:function(t){r||(cu(d,t),r=!0)},o:function(t){lu(d,t),r=!1},d:function(e){e&&ha(div),d&&d.d(e),t[41](null),o=!1,jo(c)}}}function Zd(t){var e,n,r,o,c,l,d,f,h,v=[Vd,jd],m=[];function y(t,e){return t[1]?0:1}n=y(t),r=m[n]=v[n](t);var $=t[6]&&Hd(t);return{c:function(){e=ma(),r.c(),o=ma(),$&&$.c(),c=ma(),l=ga()},m:function(r,v){pa(r,e,v),m[n].m(r,v),pa(r,o,v),$&&$.m(r,v),pa(r,c,v),pa(r,l,v),d=!0,f||(h=[ba(document.body,"pointerdown",(function(){Vo(t[9])&&t[9].apply(this,arguments)})),ba(document.body,"pointerup",(function(){Vo(t[8])&&t[8].apply(this,arguments)}))],f=!0)},p:function(e,l){var d=n;(n=y(t=e))===d?m[n].p(t,l):(au(),lu(m[d],1,1,(function(){m[d]=null})),uu(),(r=m[n])?r.p(t,l):(r=m[n]=v[n](t)).c(),cu(r,1),r.m(o.parentNode,o)),t[6]?$?($.p(t,l),64&l[0]&&cu($,1)):(($=Hd(t)).c(),cu($,1),$.m(c.parentNode,c)):$&&(au(),lu($,1,1,(function(){$=null})),uu())},i:function(t){d||(cu(r),cu($),cu(false),d=!0)},o:function(t){lu(r),lu($),lu(false),d=!1},d:function(t){t&&ha(e),m[n].d(t),t&&ha(o),$&&$.d(t),t&&ha(c),t&&ha(l),f=!1,jo(h)}}}var Xd=12;function qd(t,e,n){var r,o,c,l,d,style,f,h,v,m,y,$,x,w,P,k,S,R,C=e.$$slots,M=void 0===C?{}:C,T=e.$$scope,I=e.buttonClass,A=void 0===I?void 0:I,E=e.buttonLabel,L=void 0===E?void 0:E,F=e.panelClass,z=void 0===F?void 0:F,O=e.isActive,B=void 0!==O&&O,D=e.onshow,_=void 0===D?function(t){var e=t.panel;return Dd(e,{preventScroll:!0})}:D,U=e.onhide,W=void 0===U?N:U,j=Ua("isAnimated");Xo(t,j,(function(t){return n(37,R=t)}));var V=Ua("rootPortal");Xo(t,V,(function(t){return n(32,x=t)}));var G,H,Z,X=Ua("rootRect");Xo(t,X,(function(t){return n(36,S=t)}));var Y=function(){return n(22,Z=r&&r.getBoundingClientRect())},K=Qt(),J=Zl(0);Xo(t,J,(function(t){return n(34,P=t)}));var Q=Qt(),tt=Ru({x:0,y:0});Xo(t,tt,(function(t){return n(33,w=t)}));var et=Zl(-5,{stiffness:.1,damping:.35,precision:.001});Xo(t,et,(function(t){return n(35,k=t)}));var nt,it,ot=function(t){return Ys(t,x)||H.isEventTarget(t)},at=!1,ut=function(t){B||Y(),n(26,it=t),n(0,B=!B)},ct=function(t){/down/i.test(t.key)&&(n(0,B=!0),n(26,it=t))};Ba((function(){if(x&&nt){var t=nt;qa().then((function(){t.parentNode&&t.remove()}))}}));return t.$$set=function(t){"buttonClass"in t&&n(19,A=t.buttonClass),"buttonLabel"in t&&n(1,L=t.buttonLabel),"panelClass"in t&&n(2,z=t.panelClass),"isActive"in t&&n(0,B=t.isActive),"onshow"in t&&n(20,_=t.onshow),"onhide"in t&&n(21,W=t.onhide),"$$scope"in t&&n(44,T=t.$$scope)},t.$$.update=function(){if(16&t.$$.dirty[0]&&(r=H&&H.getElement()),33554433&t.$$.dirty[0]&&n(8,y=B?function(t){at&&(n(25,at=!1),ot(t)||n(0,B=!1))}:void 0),1&t.$$.dirty[0]|64&t.$$.dirty[1]&&J.set(B?1:0,{hard:!1===R}),1&t.$$.dirty[0]|64&t.$$.dirty[1]&&et.set(B?0:-5,{hard:!1===R}),16&t.$$.dirty[1]&&n(29,o=1-k/-5),1&t.$$.dirty[0]|32&t.$$.dirty[1]&&S&&B&&Y(),4194313&t.$$.dirty[0]|32&t.$$.dirty[1]&&S&&G&&Z&&B){var e=Z.x-S.x+.5*Z.width-.5*G.width,C=Z.y-S.y+Z.height,M=S.width-Xd,T=S.height-Xd,I=e,E=C,F=I+G.width,z=E+G.height;if(I<12&&(n(24,Q.x=I-12,Q),e=12),F>M&&(n(24,Q.x=F-M,Q),e=M-G.width),z>T)n(23,K.y=-1,K),12<C-G.height-Z.height?(n(24,Q.y=0,Q),C-=G.height+Z.height):(n(24,Q.y=C-(z-T),Q),C-=z-T);else n(23,K.y=1,K);na(tt,w=se(te(e,C),Bd),w)}8&t.$$.dirty[1]&&n(6,c=P>0),8&t.$$.dirty[1]&&n(31,l=P<1),8388608&t.$$.dirty[0]|20&t.$$.dirty[1]&&n(30,d="translateX(".concat(Math.round(w.x)+K.x*Xd,"px) translateY(").concat(Math.round(w.y)+K.y*Xd+K.y*k,"px)")),1073741824&t.$$.dirty[0]|9&t.$$.dirty[1]&&n(11,style=l?"opacity: ".concat(P,"; pointer-events: ").concat(P<1?"none":"all","; transform: ").concat(d,";"):"transform: ".concat(d)),536870912&t.$$.dirty[0]&&n(27,f=.5+.5*o),536870912&t.$$.dirty[0]&&n(28,h=o),427819016&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(10,v=w&&G&&"opacity:".concat(h,";transform:scaleX(").concat(f,")rotate(45deg);top:").concat(K.y<0?Q.y+G.height:0,"px;left:").concat(Q.x+.5*G.width,"px")),1&t.$$.dirty[0]&&n(9,m=B?function(t){ot(t)||n(25,at=!0)}:void 0),96&t.$$.dirty[0]|2&t.$$.dirty[1]&&c&&x&&nt&&nt.parentNode!==x&&x.append(nt),1&t.$$.dirty[0]&&(B||n(26,it=void 0)),68157537&t.$$.dirty[0]&&B&&c&&nt&&_({e:it,panel:nt}),2097217&t.$$.dirty[0]&&c&&!B&&W(),524290&t.$$.dirty[0]&&n(7,$={label:L,class:vs(["PinturaPanelButton",A]),onkeydown:ct,onclick:ut})},[B,L,z,G,H,nt,c,$,y,m,v,style,j,V,X,J,tt,et,function(t){/esc/i.test(t.key)&&(n(0,B=!1),r.focus())},A,_,W,Z,K,Q,at,it,f,h,o,d,l,x,w,P,k,S,R,M,function(t){ja[t?"unshift":"push"]((function(){n(4,H=t)}))},function(t){ja[t?"unshift":"push"]((function(){n(4,H=t)}))},function(t){ja[t?"unshift":"push"]((function(){n(5,nt=t)}))},function(t){t.stopPropagation(),n(0,B=!1)},function(t){return n(3,G=Se(t.detail))},T]}var Yd=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,qd,Zd,Go,{buttonClass:19,buttonLabel:1,panelClass:2,isActive:0,onshow:20,onhide:21},null,[-1,-1]),r}return(0,d.default)(n)}(Pu),Kd={Up:38,Down:40,Left:37,Right:39};function Jd(t){var li,input,e,n,r,o,c,l,d=t[15].default,f=qo(d,t,t[14],null);return{c:function(){li=element("li"),input=element("input"),e=ma(),n=element("label"),f&&f.c(),xa(input,"type","radio"),xa(input,"class","implicit"),xa(input,"id",t[7]),xa(input,"name",t[0]),input.value=t[3],input.disabled=t[6],input.hidden=t[5],input.checked=t[4],xa(n,"for",t[7]),xa(n,"title",t[2]),xa(li,"class",r=vs(["PinturaRadioGroupOption",t[1]])),xa(li,"data-hidden",t[5]),xa(li,"data-disabled",t[6]),xa(li,"data-selected",t[4])},m:function(r,d){pa(r,li,d),sa(li,input),sa(li,e),sa(li,n),f&&f.m(n,null),o=!0,c||(l=[ba(input,"change",$a(t[16])),ba(input,"keydown",t[9]),ba(input,"click",t[10])],c=!0)},p:function(t,e){var c=(0,w.default)(e,1)[0];(!o||128&c)&&xa(input,"id",t[7]),(!o||1&c)&&xa(input,"name",t[0]),(!o||8&c)&&(input.value=t[3]),(!o||64&c)&&(input.disabled=t[6]),(!o||32&c)&&(input.hidden=t[5]),(!o||16&c)&&(input.checked=t[4]),f&&f.p&&(!o||16384&c)&&Jo(f,d,t,t[14],o?Ko(d,t[14],c,null):Qo(t[14]),null),(!o||128&c)&&xa(n,"for",t[7]),(!o||4&c)&&xa(n,"title",t[2]),(!o||2&c&&r!==(r=vs(["PinturaRadioGroupOption",t[1]])))&&xa(li,"class",r),(!o||32&c)&&xa(li,"data-hidden",t[5]),(!o||64&c)&&xa(li,"data-disabled",t[6]),(!o||16&c)&&xa(li,"data-selected",t[4])},i:function(t){o||(cu(f,t),o=!0)},o:function(t){lu(f,t),o=!1},d:function(t){t&&ha(li),f&&f.d(t),c=!1,jo(l)}}}function Qd(t,e,n){var r,o,c=e.$$slots,l=void 0===c?{}:c,d=e.$$scope,f=e.name,h=e.class,v=void 0===h?void 0:h,label=e.label,m=e.id,y=e.value,$=e.checked,x=e.onkeydown,w=e.onclick,P=e.hidden,k=void 0!==P&&P,S=e.disabled,R=void 0!==S&&S,C=Object.values(Kd),M=Ua("keysPressed");Xo(t,M,(function(t){return n(17,o=t)}));return t.$$set=function(t){"name"in t&&n(0,f=t.name),"class"in t&&n(1,v=t.class),"label"in t&&n(2,label=t.label),"id"in t&&n(11,m=t.id),"value"in t&&n(3,y=t.value),"checked"in t&&n(4,$=t.checked),"onkeydown"in t&&n(12,x=t.onkeydown),"onclick"in t&&n(13,w=t.onclick),"hidden"in t&&n(5,k=t.hidden),"disabled"in t&&n(6,R=t.disabled),"$$scope"in t&&n(14,d=t.$$scope)},t.$$.update=function(){2049&t.$$.dirty&&n(7,r="".concat(f,"-").concat(m))},[f,v,label,y,$,k,R,r,M,function(t){x(t)},function(t){o.some((function(t){return C.includes(t)}))||w(t)},m,x,w,d,l,function(e){Na.call(this,t,e)}]}var tf=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Qd,Jd,Go,{name:0,class:1,label:2,id:11,value:3,checked:4,onkeydown:12,onclick:13,hidden:5,disabled:6}),r}return(0,d.default)(n)}(Pu),ef=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,e){return(Cr(e)?Cr(e[1]):!!e.options)?t.concat(Cr(e)?e[1]:e.options):(t.push(e),t)}),[])},nf=function(option,t,e){var n;return Cr(option)?n=z({id:t,value:option[0],label:option[1]},option[2]||{}):(n=option).id=null!=n.id?n.id:t,e?e(n):n},rf=function(t,e,n){return vt(t)?t(e,n):t},of=function t(e,n){return e.map((function(e){var r=(0,w.default)(e,3),o=r[0],label=r[1],c=r[2];if(Cr(label))return[rf(o,n),t(label,n)];var l=[o,rf(label,n)];if(c){var d=z({},c);c.icon&&(d.icon=rf(c.icon,n)),l.push(d)}return l}))},af=function(t,e){return of(t,e)},uf=function(a,b){return Array.isArray(a)&&Array.isArray(b)?Ku(a,b):a===b};function cf(t,e,i){var n=t.slice();return n[27]=e[i],n}var lf=function(t){return{option:1024&t[0]}},sf=function(t){return{option:t[27]}};function df(t,e,i){var n=t.slice();return n[27]=e[i],n}var ff=function(t){return{option:1024&t[0]}},pf=function(t){return{option:t[27]}},hf=function(t){return{option:1024&t[0]}},vf=function(t){return{option:t[27]}};function mf(t){for(var fieldset,e,ul,n,r,o=[],c=new Map,l=t[1]&&gf(t),d=t[10],f=function(t){return t[27].id},i=0;i<d.length;i+=1){var h=cf(t,d,i),v=f(h);c.set(v,o[i]=Tf(v,h))}return{c:function(){fieldset=element("fieldset"),l&&l.c(),e=ma(),ul=element("ul");for(var r=0;r<o.length;r+=1)o[r].c();xa(ul,"class","PinturaRadioGroupOptions"),xa(fieldset,"class",n=vs(["PinturaRadioGroup",t[3]])),xa(fieldset,"data-layout",t[5]),xa(fieldset,"title",t[7])},m:function(t,n){pa(t,fieldset,n),l&&l.m(fieldset,null),sa(fieldset,e),sa(fieldset,ul);for(var c=0;c<o.length;c+=1)o[c].m(ul,null);r=!0},p:function(t,h){t[1]?l?l.p(t,h):((l=gf(t)).c(),l.m(fieldset,e)):l&&(l.d(1),l=null),8419153&h[0]&&(d=t[10],au(),o=vu(o,h,f,1,t,d,c,ul,hu,Tf,null,cf),uu()),(!r||8&h[0]&&n!==(n=vs(["PinturaRadioGroup",t[3]])))&&xa(fieldset,"class",n),(!r||32&h[0])&&xa(fieldset,"data-layout",t[5]),(!r||128&h[0])&&xa(fieldset,"title",t[7])},i:function(t){if(!r){for(var e=0;e<d.length;e+=1)cu(o[e]);r=!0}},o:function(t){for(var e=0;e<o.length;e+=1)lu(o[e]);r=!1},d:function(t){t&&ha(fieldset),l&&l.d();for(var e=0;e<o.length;e+=1)o[e].d()}}}function gf(t){var legend,e,n;return{c:function(){legend=element("legend"),e=text(t[1]),xa(legend,"class",n=t[2]&&"implicit")},m:function(t,n){pa(t,legend,n),sa(legend,e)},p:function(t,r){2&r[0]&&Pa(e,t[1]),4&r[0]&&n!==(n=t[2]&&"implicit")&&xa(legend,"class",n)},d:function(t){t&&ha(legend)}}}function bf(t){var e,n;return e=new tf({props:{name:t[4],label:t[27].label,id:t[27].id,value:t[27].value,disabled:t[27].disabled,hidden:t[27].hidden,class:t[8],checked:t[12](t[27])===t[0],onkeydown:t[13](t[27]),onclick:t[14](t[27]),$$slots:{default:[Pf]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.name=t[4]),1024&n[0]&&(r.label=t[27].label),1024&n[0]&&(r.id=t[27].id),1024&n[0]&&(r.value=t[27].value),1024&n[0]&&(r.disabled=t[27].disabled),1024&n[0]&&(r.hidden=t[27].hidden),256&n[0]&&(r.class=t[8]),1025&n[0]&&(r.checked=t[12](t[27])===t[0]),1024&n[0]&&(r.onkeydown=t[13](t[27])),1024&n[0]&&(r.onclick=t[14](t[27])),8389696&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function yf(t){for(var li,e,ul,n,r,o,c=[],l=new Map,d=t[22].group,f=qo(d,t,t[23],vf),h=f||function(t){var span,e,n=t[27].label+"";return{c:function(){span=element("span"),e=text(n),xa(span,"class","PinturaRadioGroupOptionGroupLabel")},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){1024&r[0]&&n!==(n=t[27].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}(t),v=t[27].options,m=function(t){return t[27].id},i=0;i<v.length;i+=1){var y=df(t,v,i),$=m(y);l.set($,c[i]=Mf($,y))}return{c:function(){li=element("li"),h&&h.c(),e=ma(),ul=element("ul");for(var o=0;o<c.length;o+=1)c[o].c();n=ma(),xa(ul,"class","PinturaRadioGroupOptions"),xa(li,"class",r=vs(["PinturaRadioGroupOptionGroup",t[9]]))},m:function(t,r){pa(t,li,r),h&&h.m(li,null),sa(li,e),sa(li,ul);for(var l=0;l<c.length;l+=1)c[l].m(ul,null);sa(li,n),o=!0},p:function(t,e){f?f.p&&(!o||8389632&e[0])&&Jo(f,d,t,t[23],o?Ko(d,t[23],e,hf):Qo(t[23]),vf):h&&h.p&&(!o||1024&e[0])&&h.p(t,o?e:[-1,-1]),8418641&e[0]&&(v=t[27].options,au(),c=vu(c,e,m,1,t,v,l,ul,hu,Mf,null,df),uu()),(!o||512&e[0]&&r!==(r=vs(["PinturaRadioGroupOptionGroup",t[9]])))&&xa(li,"class",r)},i:function(t){if(!o){cu(h,t);for(var e=0;e<v.length;e+=1)cu(c[e]);o=!0}},o:function(t){lu(h,t);for(var e=0;e<c.length;e+=1)lu(c[e]);o=!1},d:function(t){t&&ha(li),h&&h.d(t);for(var e=0;e<c.length;e+=1)c[e].d()}}}function $f(t){var e,n;return e=new _s({props:{$$slots:{default:[xf]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function xf(t){var g,e=t[27].icon+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){1024&n[0]&&e!==(e=t[27].icon+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function wf(t){var span,e,n=t[27].label+"";return{c:function(){span=element("span"),e=text(n),xa(span,"class",t[6])},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){1024&r[0]&&n!==(n=t[27].label+"")&&Pa(e,n),64&r[0]&&xa(span,"class",t[6])},d:function(t){t&&ha(span)}}}function Pf(t){var e,n=t[22].option,r=qo(n,t,t[23],sf),o=r||function(t){var e,n,r,o=t[27].icon&&$f(t),c=!t[27].hideLabel&&wf(t);return{c:function(){o&&o.c(),e=ma(),c&&c.c(),n=ma()},m:function(t,l){o&&o.m(t,l),pa(t,e,l),c&&c.m(t,l),pa(t,n,l),r=!0},p:function(t,r){t[27].icon?o?(o.p(t,r),1024&r[0]&&cu(o,1)):((o=$f(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu()),t[27].hideLabel?c&&(c.d(1),c=null):c?c.p(t,r):((c=wf(t)).c(),c.m(n.parentNode,n))},i:function(t){r||(cu(o),r=!0)},o:function(t){lu(o),r=!1},d:function(t){o&&o.d(t),t&&ha(e),c&&c.d(t),t&&ha(n)}}}(t);return{c:function(){o&&o.c()},m:function(t,n){o&&o.m(t,n),e=!0},p:function(t,c){r?r.p&&(!e||8389632&c[0])&&Jo(r,n,t,t[23],e?Ko(n,t[23],c,lf):Qo(t[23]),sf):o&&o.p&&(!e||1088&c[0])&&o.p(t,e?c:[-1,-1])},i:function(t){e||(cu(o,t),e=!0)},o:function(t){lu(o,t),e=!1},d:function(t){o&&o.d(t)}}}function kf(t){var e,n;return e=new _s({props:{$$slots:{default:[Sf]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Sf(t){var g,e=t[27].icon+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){1024&n[0]&&e!==(e=t[27].icon+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function Rf(t){var span,e,n=t[27].label+"";return{c:function(){span=element("span"),e=text(n),xa(span,"class",t[6])},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){1024&r[0]&&n!==(n=t[27].label+"")&&Pa(e,n),64&r[0]&&xa(span,"class",t[6])},d:function(t){t&&ha(span)}}}function Cf(t){var e,n=t[22].option,r=qo(n,t,t[23],pf),o=r||function(t){var e,n,r,o=t[27].icon&&kf(t),c=!t[27].hideLabel&&Rf(t);return{c:function(){o&&o.c(),e=ma(),c&&c.c(),n=ma()},m:function(t,l){o&&o.m(t,l),pa(t,e,l),c&&c.m(t,l),pa(t,n,l),r=!0},p:function(t,r){t[27].icon?o?(o.p(t,r),1024&r[0]&&cu(o,1)):((o=kf(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu()),t[27].hideLabel?c&&(c.d(1),c=null):c?c.p(t,r):((c=Rf(t)).c(),c.m(n.parentNode,n))},i:function(t){r||(cu(o),r=!0)},o:function(t){lu(o),r=!1},d:function(t){o&&o.d(t),t&&ha(e),c&&c.d(t),t&&ha(n)}}}(t);return{c:function(){o&&o.c()},m:function(t,n){o&&o.m(t,n),e=!0},p:function(t,c){r?r.p&&(!e||8389632&c[0])&&Jo(r,n,t,t[23],e?Ko(n,t[23],c,ff):Qo(t[23]),pf):o&&o.p&&(!e||1088&c[0])&&o.p(t,e?c:[-1,-1])},i:function(t){e||(cu(o,t),e=!0)},o:function(t){lu(o,t),e=!1},d:function(t){o&&o.d(t)}}}function Mf(t,e){var n,r,o;return r=new tf({props:{name:e[4],label:e[27].label,id:e[27].id,value:e[27].value,disabled:e[27].disabled,hidden:e[27].hidden,class:e[8],checked:e[12](e[27])===e[0],onkeydown:e[13](e[27]),onclick:e[14](e[27]),$$slots:{default:[Cf]},$$scope:{ctx:e}}}),{key:t,first:null,c:function(){n=ga(),yu(r.$$.fragment),this.first=n},m:function(t,e){pa(t,n,e),$u(r,t,e),o=!0},p:function(t,n){e=t;var o={};16&n[0]&&(o.name=e[4]),1024&n[0]&&(o.label=e[27].label),1024&n[0]&&(o.id=e[27].id),1024&n[0]&&(o.value=e[27].value),1024&n[0]&&(o.disabled=e[27].disabled),1024&n[0]&&(o.hidden=e[27].hidden),256&n[0]&&(o.class=e[8]),1025&n[0]&&(o.checked=e[12](e[27])===e[0]),1024&n[0]&&(o.onkeydown=e[13](e[27])),1024&n[0]&&(o.onclick=e[14](e[27])),8389696&n[0]&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i:function(t){o||(cu(r.$$.fragment,t),o=!0)},o:function(t){lu(r.$$.fragment,t),o=!1},d:function(t){t&&ha(n),xu(r,t)}}}function Tf(t,e){var n,r,o,c,l,d=[yf,bf],f=[];function h(t,e){return t[27].options?0:1}return r=h(e),o=f[r]=d[r](e),{key:t,first:null,c:function(){n=ga(),o.c(),c=ga(),this.first=n},m:function(t,e){pa(t,n,e),f[r].m(t,e),pa(t,c,e),l=!0},p:function(t,n){var l=r;(r=h(e=t))===l?f[r].p(e,n):(au(),lu(f[l],1,1,(function(){f[l]=null})),uu(),(o=f[r])?o.p(e,n):(o=f[r]=d[r](e)).c(),cu(o,1),o.m(c.parentNode,c))},i:function(t){l||(cu(o),l=!0)},o:function(t){lu(o),l=!1},d:function(t){t&&ha(n),f[r].d(t),t&&ha(c)}}}function If(t){var e,n,r,o=t[11].length&&mf(t);return{c:function(){o&&o.c(),e=ma(),n=ga()},m:function(t,c){o&&o.m(t,c),pa(t,e,c),pa(t,n,c),r=!0},p:function(t,n){t[11].length?o?(o.p(t,n),2048&n[0]&&cu(o,1)):((o=mf(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu())},i:function(t){r||(cu(o),cu(false),r=!0)},o:function(t){lu(o),lu(false),r=!1},d:function(t){o&&o.d(t),t&&ha(e),t&&ha(n)}}}function Af(t,e,n){var r,o,c,l=e.$$slots,d=void 0===l?{}:l,f=e.$$scope,h=Da(),v=e.label,label=void 0===v?void 0:v,m=e.hideLabel,y=void 0===m||m,$=e.class,x=void 0===$?void 0:$,w=e.name,P=void 0===w?"radio-group-".concat($t()):w,k=e.selectedIndex,S=void 0===k?-1:k,R=e.options,C=void 0===R?[]:R,M=e.onchange,T=void 0===M?void 0:M,I=e.layout,A=void 0===I?void 0:I,E=e.optionMapper,L=void 0===E?void 0:E,F=e.optionFilter,O=void 0===F?void 0:F,B=e.value,D=void 0===B?void 0:B,_=e.optionLabelClass,U=void 0===_?void 0:_,N=e.title,title=void 0===N?void 0:N,W=e.locale,j=void 0===W?void 0:W,V=e.optionClass,G=void 0===V?void 0:V,H=e.optionGroupClass,Z=void 0===H?void 0:H,X=function(option){return c.findIndex((function(t){return t.id===option.id}))},Y=function(option,t){n(0,S=X(option));var e=z({index:S},option);!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t&&t.apply(void 0,n)}(T,e,t),h("change",e)};return t.$$set=function(t){"label"in t&&n(1,label=t.label),"hideLabel"in t&&n(2,y=t.hideLabel),"class"in t&&n(3,x=t.class),"name"in t&&n(4,P=t.name),"selectedIndex"in t&&n(0,S=t.selectedIndex),"options"in t&&n(15,C=t.options),"onchange"in t&&n(16,T=t.onchange),"layout"in t&&n(5,A=t.layout),"optionMapper"in t&&n(17,L=t.optionMapper),"optionFilter"in t&&n(18,O=t.optionFilter),"value"in t&&n(19,D=t.value),"optionLabelClass"in t&&n(6,U=t.optionLabelClass),"title"in t&&n(7,title=t.title),"locale"in t&&n(20,j=t.locale),"optionClass"in t&&n(8,G=t.optionClass),"optionGroupClass"in t&&n(9,Z=t.optionGroupClass),"$$scope"in t&&n(23,f=t.$$scope)},t.$$.update=function(){1343488&t.$$.dirty[0]&&n(11,r=af(O?C.filter(O):C,j)),133120&t.$$.dirty[0]&&n(10,o=function(){var t=arguments.length>1?arguments[1]:void 0,e=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(option){return e++,Cr(option)?Cr(option[1])?{id:e,label:option[0],options:option[1].map((function(option){return nf(option,++e,t)}))}:nf(option,e,t):option.options?{id:option.id||e,label:option.label,options:option.options.map((function(option){return nf(option,++e,t)}))}:nf(option,e,t)}))}(r,L)),1024&t.$$.dirty[0]&&n(21,c=ef(o)),2654209&t.$$.dirty[0]&&S<0&&(n(0,S=c.findIndex((function(option){return uf(option.value,D)}))),S<0&&n(0,S=function(t){return t.findIndex((function(option){return void 0===option[0]}))}(C)))},[S,label,y,x,P,A,U,title,G,Z,o,r,X,function(option){return function(t){var e;(e=t.key,/enter| /i.test(e))&&Y(option,t)}},function(option){return function(t){Y(option,t)}},C,T,L,O,D,j,c,d,f]}var Ef=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Af,If,Go,{label:1,hideLabel:2,class:3,name:4,selectedIndex:0,options:15,onchange:16,layout:5,optionMapper:17,optionFilter:18,value:19,optionLabelClass:6,title:7,locale:20,optionClass:8,optionGroupClass:9},null,[-1,-1]),r}return(0,d.default)(n)}(Pu),Lf=function(t){return{}},Ff=function(t){return{}};function zf(t){var e,n;return e=new _s({props:{class:"PinturaButtonIcon",$$slots:{default:[Of]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};268435520&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Of(t){var g;return{c:function(){g=va("g")},m:function(e,n){pa(e,g,n),g.innerHTML=t[6]},p:function(t,e){64&e&&(g.innerHTML=t[6])},d:function(t){t&&ha(g)}}}function Bf(t){var e,n,r,o,c,l,d,f=(t[2]||t[18])+"",h=t[6]&&zf(t);return{c:function(){e=element("span"),h&&h.c(),n=ma(),xa(r=element("span"),"class",o=vs(["PinturaButtonLabel",t[3],t[5]&&"implicit"])),xa(e,"slot","label"),xa(e,"title",c=rf(t[1],t[15])),xa(e,"class",l=vs(["PinturaButtonInner",t[4]]))},m:function(t,o){pa(t,e,o),h&&h.m(e,null),sa(e,n),sa(e,r),r.innerHTML=f,d=!0},p:function(t,v){t[6]?h?(h.p(t,v),64&v&&cu(h,1)):((h=zf(t)).c(),cu(h,1),h.m(e,n)):h&&(au(),lu(h,1,1,(function(){h=null})),uu()),(!d||262148&v)&&f!==(f=(t[2]||t[18])+"")&&(r.innerHTML=f),(!d||40&v&&o!==(o=vs(["PinturaButtonLabel",t[3],t[5]&&"implicit"])))&&xa(r,"class",o),(!d||32770&v&&c!==(c=rf(t[1],t[15])))&&xa(e,"title",c),(!d||16&v&&l!==(l=vs(["PinturaButtonInner",t[4]])))&&xa(e,"class",l)},i:function(t){d||(cu(h),d=!0)},o:function(t){lu(h),d=!1},d:function(t){t&&ha(e),h&&h.d()}}}function Df(t){var span,e,n=t[30].label+"";return{c:function(){span=element("span"),e=text(n),xa(span,"slot","group")},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){1073741824&r&&n!==(n=t[30].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function _f(t){var e,n;return e=new _s({props:{style:vt(t[13])?t[13](t[30].value):t[13],$$slots:{default:[Uf]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};1073750016&n&&(r.style=vt(t[13])?t[13](t[30].value):t[13]),1342177280&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Uf(t){var g,e=t[30].icon+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){1073741824&n&&e!==(e=t[30].icon+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function Nf(t){var span,e=t[30].sublabel+"";return{c:function(){xa(span=element("span"),"class","PinturaDropdownOptionSublabel")},m:function(t,n){pa(t,span,n),span.innerHTML=e},p:function(t,n){1073741824&n&&e!==(e=t[30].sublabel+"")&&(span.innerHTML=e)},d:function(t){t&&ha(span)}}}function Wf(t){var e,n,r,o,c,l,d,f,h=t[30].label+"",v=t[30].icon&&_f(t),m=t[30].sublabel&&Nf(t);return{c:function(){e=element("span"),v&&v.c(),n=ma(),r=element("span"),o=new Ra(!1),c=ma(),m&&m.c(),o.a=c,xa(r,"style",l=vt(t[14])?t[14](t[30].value):t[14]),xa(r,"class",d=vs(["PinturaDropdownOptionLabel",t[10]])),xa(e,"slot","option")},m:function(t,l){pa(t,e,l),v&&v.m(e,null),sa(e,n),sa(e,r),o.m(h,r),sa(r,c),m&&m.m(r,null),f=!0},p:function(t,c){t[30].icon?v?(v.p(t,c),1073741824&c&&cu(v,1)):((v=_f(t)).c(),cu(v,1),v.m(e,n)):v&&(au(),lu(v,1,1,(function(){v=null})),uu()),(!f||1073741824&c)&&h!==(h=t[30].label+"")&&o.p(h),t[30].sublabel?m?m.p(t,c):((m=Nf(t)).c(),m.m(r,null)):m&&(m.d(1),m=null),(!f||1073758208&c&&l!==(l=vt(t[14])?t[14](t[30].value):t[14]))&&xa(r,"style",l),(!f||1024&c&&d!==(d=vs(["PinturaDropdownOptionLabel",t[10]])))&&xa(r,"class",d)},i:function(t){f||(cu(v),f=!0)},o:function(t){lu(v),f=!1},d:function(t){t&&ha(e),v&&v.d(),m&&m.d()}}}function jf(t){var div,e,n,r,o,c,l=t[26].controls,d=qo(l,t,t[28],Ff);return n=new Ef({props:{class:"PinturaOptionsList PinturaScrollableContent",name:t[7],value:t[9],selectedIndex:t[8],optionFilter:t[11],optionMapper:t[12],optionLabelClass:vs(["PinturaDropdownOptionLabel",t[10]]),optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:t[16],onchange:t[19],$$slots:{option:[Wf,function(t){return{30:t.option}},function(t){return t.option?1073741824:0}],group:[Df,function(t){return{30:t.option}},function(t){return t.option?1073741824:0}]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),d&&d.c(),e=ma(),yu(n.$$.fragment),xa(div,"slot","details"),xa(div,"class","PinturaOptionsListWrapper")},m:function(l,f){pa(l,div,f),d&&d.m(div,null),sa(div,e),$u(n,div,null),r=!0,o||(c=ba(div,"keydown",t[21]),o=!0)},p:function(t,e){d&&d.p&&(!r||268435456&e)&&Jo(d,l,t,t[28],r?Ko(l,t[28],e,Lf):Qo(t[28]),Ff);var o={};128&e&&(o.name=t[7]),512&e&&(o.value=t[9]),256&e&&(o.selectedIndex=t[8]),2048&e&&(o.optionFilter=t[11]),4096&e&&(o.optionMapper=t[12]),1024&e&&(o.optionLabelClass=vs(["PinturaDropdownOptionLabel",t[10]])),65536&e&&(o.options=t[16]),1342202880&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i:function(t){r||(cu(d,t),cu(n.$$.fragment,t),r=!0)},o:function(t){lu(d,t),lu(n.$$.fragment,t),r=!1},d:function(t){t&&ha(div),d&&d.d(t),xu(n),o=!1,c()}}}function Vf(t){var e,n,r;function o(e){t[27](e)}var c={onshow:t[20],buttonClass:vs(["PinturaDropdownButton",t[0],t[5]&&"PinturaDropdownIconOnly"]),$$slots:{details:[jf],label:[Bf]},$$scope:{ctx:t}};return void 0!==t[17]&&(c.isActive=t[17]),e=new Yd({props:c}),ja.push((function(){return bu(e,"isActive",o,t[17])})),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(t,r){var o=(0,w.default)(r,1)[0],c={};33&o&&(c.buttonClass=vs(["PinturaDropdownButton",t[0],t[5]&&"PinturaDropdownIconOnly"])),268828670&o&&(c.$$scope={dirty:o,ctx:t}),!n&&131072&o&&(n=!0,c.isActive=t[17],Ka((function(){return n=!1}))),e.$set(c)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}function Gf(t,e,n){var r,o,c,l=e.$$slots,d=void 0===l?{}:l,f=e.$$scope,h=e.class,v=void 0===h?void 0:h,m=e.title,title=void 0===m?void 0:m,y=e.label,label=void 0===y?void 0:y,$=e.labelClass,x=void 0===$?void 0:$,P=e.innerClass,k=void 0===P?void 0:P,S=e.hideLabel,R=void 0!==S&&S,C=e.icon,M=void 0===C?void 0:C,T=e.name,I=void 0===T?void 0:T,A=e.options,E=void 0===A?[]:A,L=e.selectedIndex,F=void 0===L?-1:L,z=e.value,O=void 0===z?void 0:z,B=e.optionLabelClass,D=void 0===B?void 0:B,_=e.optionFilter,U=void 0===_?void 0:_,W=e.optionMapper,j=void 0===W?void 0:W,V=e.optionIconStyle,G=void 0===V?void 0:V,H=e.optionLabelStyle,Z=void 0===H?void 0:H,X=e.locale,Y=void 0===X?void 0:X,K=e.onchange,J=void 0===K?N:K,Q=e.onload,tt=void 0===Q?N:Q,et=e.ondestroy,nt=void 0===et?N:et;return za((function(){return tt({options:E})})),Ba((function(){return nt({options:E})})),t.$$set=function(t){"class"in t&&n(0,v=t.class),"title"in t&&n(1,title=t.title),"label"in t&&n(2,label=t.label),"labelClass"in t&&n(3,x=t.labelClass),"innerClass"in t&&n(4,k=t.innerClass),"hideLabel"in t&&n(5,R=t.hideLabel),"icon"in t&&n(6,M=t.icon),"name"in t&&n(7,I=t.name),"options"in t&&n(22,E=t.options),"selectedIndex"in t&&n(8,F=t.selectedIndex),"value"in t&&n(9,O=t.value),"optionLabelClass"in t&&n(10,D=t.optionLabelClass),"optionFilter"in t&&n(11,U=t.optionFilter),"optionMapper"in t&&n(12,j=t.optionMapper),"optionIconStyle"in t&&n(13,G=t.optionIconStyle),"optionLabelStyle"in t&&n(14,Z=t.optionLabelStyle),"locale"in t&&n(15,Y=t.locale),"onchange"in t&&n(23,J=t.onchange),"onload"in t&&n(24,tt=t.onload),"ondestroy"in t&&n(25,nt=t.ondestroy),"$$scope"in t&&n(28,f=t.$$scope)},t.$$.update=function(){4227072&t.$$.dirty&&n(16,r=Y?af(E,Y):E),66048&t.$$.dirty&&n(18,o=r.reduce((function(t,e){if(t)return t;var n=Array.isArray(e)?e:[e,e],r=(0,w.default)(n,2),o=r[0],c=r[1];return uf(o,O)?c:void 0}),void 0)||function(t){var option=t.find((function(option){return void 0===option[0]}));if(option)return option[1]}(r)||O)},[v,title,label,x,k,R,M,I,F,O,D,U,j,G,Z,Y,r,c,o,function(t){n(18,o=t.value),J(t),n(17,c=!1)},function(t){var e=t.e,n=t.panel;if(e&&e.key&&/up|down/i.test(e.key))return Dd(n.querySelector("input:not([disabled])"));Dd(n.querySelector("fieldset"))},function(t){/tab/i.test(t.key)&&t.preventDefault()},E,J,tt,nt,d,function(t){n(17,c=t)},f]}var Hf=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Gf,Vf,Go,{class:0,title:1,label:2,labelClass:3,innerClass:4,hideLabel:5,icon:6,name:7,options:22,selectedIndex:8,value:9,optionLabelClass:10,optionFilter:11,optionMapper:12,optionIconStyle:13,optionLabelStyle:14,locale:15,onchange:23,onload:24,ondestroy:25}),r}return(0,d.default)(n)}(Pu);function Zf(t){var div;return{c:function(){xa(div=element("div"),"slot","details")},m:function(e,n){pa(e,div,n),t[10](div)},p:Do,d:function(e){e&&ha(div),t[10](null)}}}function Xf(t){var e,n,r;function o(e){t[11](e)}var c={buttonLabel:t[0],buttonClass:t[1],onshow:t[2],onhide:t[3],$$slots:{details:[Zf]},$$scope:{ctx:t}};return void 0!==t[5]&&(c.isActive=t[5]),e=new Yd({props:c}),ja.push((function(){return bu(e,"isActive",o,t[5])})),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(t,r){var o=(0,w.default)(r,1)[0],c={};1&o&&(c.buttonLabel=t[0]),2&o&&(c.buttonClass=t[1]),4&o&&(c.onshow=t[2]),8&o&&(c.onhide=t[3]),4112&o&&(c.$$scope={dirty:o,ctx:t}),!n&&32&o&&(n=!0,c.isActive=t[5],Ka((function(){return n=!1}))),e.$set(c)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}function qf(t,e,n){var r,o=e.buttonLabel,c=void 0===o?void 0:o,l=e.buttonClass,d=void 0===l?void 0:l,f=e.root,h=void 0===f?void 0:f,v=e.ondestroy,m=void 0===v?N:v,y=e.onshow,$=void 0===y?N:y,x=e.onhide,w=void 0===x?N:x,P=!1;return Ba(m),t.$$set=function(t){"buttonLabel"in t&&n(0,c=t.buttonLabel),"buttonClass"in t&&n(1,d=t.buttonClass),"root"in t&&n(6,h=t.root),"ondestroy"in t&&n(7,m=t.ondestroy),"onshow"in t&&n(2,$=t.onshow),"onhide"in t&&n(3,w=t.onhide)},t.$$.update=function(){80&t.$$.dirty&&r&&h&&r.firstChild!==h&&(r.hasChildNodes()?r.replaceChild(h,r.firstChild):r.append(h))},[c,d,$,w,r,P,h,m,function(){return n(5,P=!1)},function(){return n(5,P=!0)},function(t){ja[t?"unshift":"push"]((function(){n(4,r=t)}))},function(t){n(5,P=t)}]}var Yf=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,qf,Xf,Go,{buttonLabel:0,buttonClass:1,root:6,ondestroy:7,onshow:2,onhide:3,hide:8,show:9}),r}return(0,d.default)(n,[{key:"hide",get:function(){return this.$$.ctx[8]}},{key:"show",get:function(){return this.$$.ctx[9]}}]),n}(Pu);function Kf(t){var e,n;return e=new _s({props:{class:"PinturaButtonIcon",$$slots:{default:[Jf]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};524292&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Jf(t){var g;return{c:function(){g=va("g")},m:function(e,n){pa(e,g,n),g.innerHTML=t[2]},p:function(t,e){4&e&&(g.innerHTML=t[2])},d:function(t){t&&ha(g)}}}function Qf(t){var e,n,r,o,c,l,d,f,h=t[2]&&Kf(t);return{c:function(){e=element("span"),h&&h.c(),n=ma(),r=element("span"),o=text(t[8]),xa(r,"class",c=vs(["PinturaButtonLabel",t[3],t[5]&&"implicit"])),xa(e,"slot","label"),xa(e,"title",l=rf(t[1],t[6])),xa(e,"class",d=vs(["PinturaButtonInner",t[4]]))},m:function(t,c){pa(t,e,c),h&&h.m(e,null),sa(e,n),sa(e,r),sa(r,o),f=!0},p:function(t,v){t[2]?h?(h.p(t,v),4&v&&cu(h,1)):((h=Kf(t)).c(),cu(h,1),h.m(e,n)):h&&(au(),lu(h,1,1,(function(){h=null})),uu()),(!f||256&v)&&Pa(o,t[8]),(!f||40&v&&c!==(c=vs(["PinturaButtonLabel",t[3],t[5]&&"implicit"])))&&xa(r,"class",c),(!f||66&v&&l!==(l=rf(t[1],t[6])))&&xa(e,"title",l),(!f||16&v&&d!==(d=vs(["PinturaButtonInner",t[4]])))&&xa(e,"class",d)},i:function(t){f||(cu(h),f=!0)},o:function(t){lu(h),f=!1},d:function(t){t&&ha(e),h&&h.d()}}}function tp(t){for(var div,e,n,r,o,c=[t[11],{value:t[7]},{onchange:t[10]}],l={},i=0;i<c.length;i+=1)l=Uo(l,c[i]);return e=new qs({props:l}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"slot","details")},m:function(c,l){pa(c,div,l),$u(e,div,null),n=!0,r||(o=ba(div,"keydown",t[9]),r=!0)},p:function(t,n){var r=3200&n?mu(c,[2048&n&&gu(t[11]),128&n&&{value:t[7]},1024&n&&{onchange:t[10]}]):{};e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e),r=!1,o()}}}function ep(t){var e,n;return e=new Yd({props:{panelClass:"PinturaSliderPanel",buttonClass:vs(["PinturaSliderButton",t[0],t[5]&&"PinturaSliderIconOnly"]),$$slots:{details:[tp],label:[Qf]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r=(0,w.default)(n,1)[0],o={};33&r&&(o.buttonClass=vs(["PinturaSliderButton",t[0],t[5]&&"PinturaSliderIconOnly"])),526846&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function np(t,e,n){var r,o=["class","title","label","icon","labelClass","innerClass","hideLabel","locale","value","onchange"],c=ea(e,o),l=e.class,d=void 0===l?void 0:l,f=e.title,title=void 0===f?void 0:f,h=e.label,label=void 0===h?Math.round:h,v=e.icon,m=void 0===v?void 0:v,y=e.labelClass,$=void 0===y?void 0:y,x=e.innerClass,w=void 0===x?void 0:x,P=e.hideLabel,k=void 0!==P&&P,S=e.locale,R=void 0===S?void 0:S,C=e.value,M=void 0===C?void 0:C,T=e.onchange,I=void 0===T?N:T,A=c,E=A.min,L=A.max,F=A.getValue,z=void 0===F?zt:F,O=function(t){return n(8,r=function(t){return vt(label)?label(z(t),E,L):label}(t))};return t.$$set=function(t){e=Uo(Uo({},e),ta(t)),n(11,c=ea(e,o)),"class"in t&&n(0,d=t.class),"title"in t&&n(1,title=t.title),"label"in t&&n(12,label=t.label),"icon"in t&&n(2,m=t.icon),"labelClass"in t&&n(3,$=t.labelClass),"innerClass"in t&&n(4,w=t.innerClass),"hideLabel"in t&&n(5,k=t.hideLabel),"locale"in t&&n(6,R=t.locale),"value"in t&&n(7,M=t.value),"onchange"in t&&n(13,I=t.onchange)},t.$$.update=function(){4224&t.$$.dirty&&O(M)},[d,title,m,$,w,k,R,M,r,function(t){/tab/i.test(t.key)&&t.preventDefault()},function(t){O(t),I(t)},c,label,I]}var ip=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,np,ep,Go,{class:0,title:1,label:12,icon:2,labelClass:3,innerClass:4,hideLabel:5,locale:6,value:7,onchange:13}),r}return(0,d.default)(n)}(Pu);function op(t,e,i){var n=t.slice();return n[9]=e[i][0],n[0]=e[i][1],n[10]=e[i][2],n[2]=e[i][3],n}function ap(t){var e,n,r,o=[t[10]],c=t[3][t[9]]||t[9];function l(t){for(var e={},i=0;i<o.length;i+=1)e=Uo(e,o[i]);return{props:e}}return c&&(e=Ca(c,l())),{c:function(){e&&yu(e.$$.fragment),n=ga()},m:function(t,o){e&&$u(e,t,o),pa(t,n,o),r=!0},p:function(t,r){var d=4&r?mu(o,[gu(t[10])]):{};if(c!==(c=t[3][t[9]]||t[9])){if(e){au();var f=e;lu(f.$$.fragment,1,0,(function(){xu(f,1)})),uu()}c?(yu((e=Ca(c,l())).$$.fragment),cu(e.$$.fragment,1),$u(e,n.parentNode,n)):e=null}else c&&e.$set(d)},i:function(t){r||(e&&cu(e.$$.fragment,t),r=!0)},o:function(t){e&&lu(e.$$.fragment,t),r=!1},d:function(t){t&&ha(n),e&&xu(e,t)}}}function up(t){var e,n;return e=new Fd({props:{name:t[9],attributes:t[4](t[10]),$$slots:{default:[dp]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.name=t[9]),4&n&&(r.attributes=t[4](t[10])),8196&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function cp(t){var e,n,r=t[10].innerHTML+"";return{c:function(){e=new Ra(!1),n=ga(),e.a=n},m:function(t,o){e.m(r,t,o),pa(t,n,o)},p:function(t,n){4&n&&r!==(r=t[10].innerHTML+"")&&e.p(r)},i:Do,o:Do,d:function(t){t&&ha(n),t&&e.d()}}}function lp(t){var e,n=t[10].textContent+"";return{c:function(){e=text(n)},m:function(t,n){pa(t,e,n)},p:function(t,r){4&r&&n!==(n=t[10].textContent+"")&&Pa(e,n)},i:Do,o:Do,d:function(t){t&&ha(e)}}}function sp(t){var e,n;return e=new vp({props:{items:t[2],discardEmptyItems:!0}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};4&n&&(r.items=t[2]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function dp(t){var e,n,r,o,c=[sp,lp,cp],l=[];function d(t,e){return t[2]&&t[2].length?0:t[10].textContent?1:t[10].innerHTML?2:-1}return~(e=d(t))&&(n=l[e]=c[e](t)),{c:function(){n&&n.c(),r=ma()},m:function(t,n){~e&&l[e].m(t,n),pa(t,r,n),o=!0},p:function(t,o){var f=e;(e=d(t))===f?~e&&l[e].p(t,o):(n&&(au(),lu(l[f],1,1,(function(){l[f]=null})),uu()),~e?((n=l[e])?n.p(t,o):(n=l[e]=c[e](t)).c(),cu(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){o||(cu(n),o=!0)},o:function(t){lu(n),o=!1},d:function(t){~e&&l[e].d(t),t&&ha(r)}}}function fp(t,e){var n,r,o,c,l,d,f=[up,ap],h=[];function v(t,e){return 4&e&&(r=null),null==r&&(r=!t[5](t[9])),r?0:1}return o=v(e,-1),c=h[o]=f[o](e),{key:t,first:null,c:function(){n=ga(),c.c(),l=ga(),this.first=n},m:function(t,e){pa(t,n,e),h[o].m(t,e),pa(t,l,e),d=!0},p:function(t,n){var r=o;(o=v(e=t,n))===r?h[o].p(e,n):(au(),lu(h[r],1,1,(function(){h[r]=null})),uu(),(c=h[o])?c.p(e,n):(c=h[o]=f[o](e)).c(),cu(c,1),c.m(l.parentNode,l))},i:function(t){d||(cu(c),d=!0)},o:function(t){lu(c),d=!1},d:function(t){t&&ha(n),h[o].d(t),t&&ha(l)}}}function pp(t){for(var e,n,r=[],o=new Map,c=t[2],l=function(t){return t[0]+t[1]},i=0;i<c.length;i+=1){var d=op(t,c,i),f=l(d);o.set(f,r[i]=fp(f,d))}return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=ga()},m:function(t,o){for(var c=0;c<r.length;c+=1)r[c].m(t,o);pa(t,e,o),n=!0},p:function(t,n){var d=(0,w.default)(n,1)[0];62&d&&(c=t[2],au(),r=vu(r,d,l,1,t,c,o,e.parentNode,hu,fp,e,op),uu())},i:function(t){if(!n){for(var e=0;e<c.length;e+=1)cu(r[e]);n=!0}},o:function(t){for(var e=0;e<r.length;e+=1)lu(r[e]);n=!1},d:function(t){for(var n=0;n<r.length;n+=1)r[n].d(t);t&&ha(e)}}}function hp(t,e,n){var r,c,l=e.items,d=e.discardEmptyItems,f=void 0===d||d,h=e.key,v=void 0===h?"":h,m={Button:rd,Dropdown:Hf,Panel:Yf,Slider:ip},y=function(t){return!ht(t)||!!m[t]},$=function t(e){if(!e)return!1;var n=(0,w.default)(e,4),r=n[0],o=n[2],c=n[3],l=void 0===c?[]:c;return!!y(r)||(l.some(t)||o.textContent||o.innerHTML)};return t.$$set=function(t){"items"in t&&n(6,l=t.items),"discardEmptyItems"in t&&n(7,f=t.discardEmptyItems),"key"in t&&n(0,v=t.key)},t.$$.update=function(){1&t.$$.dirty&&n(1,r=v),192&t.$$.dirty&&n(2,c=(l&&f?l.filter($):l)||[])},[v,r,c,m,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.textContent,t.innerHTML;return(0,o.default)(t,M)},y,l,f]}var vp=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,hp,pp,Go,{items:6,discardEmptyItems:7,key:0}),r}return(0,d.default)(n)}(Pu),mp=["aspectRatio","isRotatedSideways","flip","cropSize"],gp=ec.map((function(t){return(0,w.default)(t,1)[0]})).filter((function(t){return!mp.includes(t)})),bp=function(t,data){return new CustomEvent("ping",{detail:{type:t,data:data},cancelable:!0,bubbles:!0})},yp=function(t){return function(element){return/textarea/i.test(element.nodeName)}(t)||function(t){return/date|email|number|search|text|url/.test(t.type)}(t)||t.isContentEditable},$p=function(t,abbr){return(abbr?Jc(t,abbr):t).replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()},xp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt,n=Ru(void 0),r=n.subscribe,o=n.set,c=function(t,e){var n=matchMedia(t);return n.addListener(e),e(n),{get matches(){return n.matches},destroy:function(){return n.removeListener(e)}}}(t,(function(t){var n=t.matches;return o(e(n))}));return{subscribe:r,destroy:c.destroy}},wp=function(){return Z()&&!!window.chrome},Pp=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=K,t.next=3,ct(e);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),kp=function(t){return/video/.test(t.type)},Sp=function(t){return new Promise((function(e,n){var video=J("video");video.onseeked=function(){var t=J("canvas");zn(video).then((function(n){var r=n.width,o=n.height;t.width=r,t.height=o;var c=t.getContext("2d",{willReadFrequently:!0}),l=function(){c.drawImage(video,0,0,t.width,t.height);var n=c.getImageData(0,0,t.width,t.height);et(t),e(n)};Ln()?setTimeout(l,16):l()}))},video.onloadeddata=function(){video.currentTime=0},video.onerror=function(t){console.error(t),n(t)},video.src=URL.createObjectURL(t),video.load()}))},Rp=function(t,e,n){return new Promise((function(r,o){(0,k.default)(regeneratorRuntime.mark((function c(){var l,d,f;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!kp(t)){c.next=6;break}return c.t0=r,c.next=4,Sp(t);case 4:c.t1=c.sent,(0,c.t0)(c.t1);case 6:return c.next=8,e.read(t);case 8:if(l=c.sent,d=function(t){return Pt(t,n).then((function(t){return e.apply(t,l)})).then(r).catch(o)},!yt(t)&&bt()&&!Ln()&&!rr()){c.next=12;break}return c.abrupt("return",d(t));case 12:return c.prev=12,c.next=15,wt((function(t,e){return createImageBitmap(t).then((function(t){return e(null,t)})).catch(e)}),[t]);case 15:f=c.sent,c.next=20;break;case 18:c.prev=18,c.t2=c.catch(12);case 20:if(f&&f.width){c.next=22;break}return c.abrupt("return",d(t));case 22:return c.next=24,Y();case 24:if(c.sent){c.next=26;break}return c.abrupt("return",r(e.apply(f,l)));case 26:if(!(wp()&&l>1)){c.next=32;break}return c.t3=r,c.next=30,Pp(f);case 30:return c.t4=c.sent,c.abrupt("return",(0,c.t3)(c.t4));case 32:r(f);case 33:case"end":return c.stop()}}),c,null,[[12,18]])})))()}))},Cp=function(t,e){return new Promise(function(){var n=(0,k.default)(regeneratorRuntime.mark((function n(r){var o,c,l,canvas,d,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.width<e.width&&t.height<e.height)){n.next=2;break}return n.abrupt("return",r(t));case 2:if(o=Math.min(e.width/t.width,e.height/t.height),c=o*t.width,l=o*t.height,canvas=J("canvas",{width:c,height:l}),d=canvas.getContext("2d",{willReadFrequently:!0}),!nt(t)){n.next=13;break}return n.next=10,ct(t);case 10:n.t0=n.sent,n.next=14;break;case 13:n.t0=t;case 14:data=n.t0,d.drawImage(data,0,0,c,l),r(K(canvas));case 17:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},Mp=function(t){return t=t.trim(),/^rgba/.test(t)?t.substr(5).split(",").map(parseFloat).map((function(t,i){return t/(3===i?1:255)})):/^rgb/.test(t)?t.substr(4).split(",").map(parseFloat).map((function(t){return t/255})):/^#/.test(t)?function(t){var e=t.split(""),n=(0,w.default)(e,4),q=n[1],r=n[2],o=n[3];t=4===t.length?"#".concat(q).concat(q).concat(r).concat(r).concat(o).concat(o):t;var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),l=(0,w.default)(c,4);return[l[1],l[2],l[3]].map((function(t){return parseInt(t,16)/255}))}(t):/[0-9]{1,3}\s?,\s?[0-9]{1,3}\s?,\s?[0-9]{1,3}/.test(t)?t.split(",").map((function(t){return parseInt(t,10)})).map((function(t){return t/255})):void 0};e.colorStringToColorArray=Mp;var Tp=null,Ip=function(){if(null===Tp){var canvas=J("canvas");Tp=!!gl(canvas),et(canvas),canvas=void 0}return Tp};e.supportsWebGL=Ip;var Ap=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Ep={precision:1e-4},Lp={precision:.01*Ep.precision},Fp=function(){var t=[],e=[],n=[],r=function(){e.forEach((function(t){return t(n)}))},o=function(e){e.unsub=e.subscribe((function(o){return function(e,o){var c=t.indexOf(e);c<0||(n[c]=o,r())}(e,o)})),r()};return{get length(){return t.length},clear:function(){t.forEach((function(t){return t.unsub()})),t.length=0,n.length=0},unshift:function(e){t.unshift(e),o(e)},get:function(e){return t[e]},push:function(e){t.push(e),o(e)},remove:function(e){e.unsub();var r=t.indexOf(e);t.splice(r,1),n.splice(r,1)},forEach:function(e){return t.forEach(e)},filter:function(e){return t.filter(e)},subscribe:function(t){return e.push(t),t(n),function(){e.splice(e.indexOf(t),1)}}}},zp=function(t){return t[0]<.25&&t[1]<.25&&t[2]<.25},Op=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e){var n=t.accept,r=J("input",{style:"position:absolute;visibility:hidden;width:0;height:0;",type:"file",accept:void 0===n?"image/*":n});r.addEventListener("change",(function t(){var n=(0,w.default)(r.files,1)[0];r.parentNode&&r.remove(),r.removeEventListener("change",t),e(n)})),rr()&&document.body.append(r),r.click()}))},Bp=function(t){try{return t()}catch(t){console.error(t)}},Dp=function(t){return Math.round(100*t)},_p=function(t){return te(t.clientX,t.clientY)},Up=function(t,e,n){var r=_p(t);return fe(fe(r,e),n)};function Np(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,k,S,R,C,M,T,I,A,E=e.root,L=e.locale,F=e.stores,O=e.allowPan,B=void 0===O||O,D=e.allowZoom,_=void 0===D||D,U=e.enablePan,N=void 0===U||U,W=e.enableZoom,j=void 0===W||W,V=e.enableZoomControls,G=void 0===V?j:V,H=e.enableZoomInput,Z=void 0===H||H,X=e.enablePanInput,Y=void 0===X||X,K=e.enablePanLimit,J=void 0===K||K,Q=e.panLimitGutterScalar,tt=void 0===Q?0:Q,et=e.zoomOptions,nt=void 0===et?[.25,.5,1,1.25,1.5,2,3,4,6,8,16]:et,it=e.zoomAdjustStep,ot=void 0===it?.25:it,at=e.zoomAdjustFactor,ut=void 0===at?.1:at,ct=e.zoomAdjustWheelFactor,lt=void 0===ct?1:ct,st=e.elasticity,ft=void 0===st?5:st,pt=e.imageSelectionRectCentered,ht=void 0===pt?void 0:pt,vt=e.imageSelectionRectScalar,mt=void 0===vt?void 0:vt,gt=e.zoomLevel,bt=void 0===gt?null:gt,yt=e.zoomControls,$t=e.zoomMultiTouching,xt=void 0!==$t&&$t,wt=F,Pt=wt.isAnimated,kt=wt.isInteracting,St=wt.rootRect,Rt=wt.stageRect,Ct=wt.stageScalar,Mt=wt.imageSelectionPan,Tt=wt.imageSelectionZoom,It=wt.imageSelectionStageFitScalar,At=wt.imageSelectionRect,Et=wt.imageSelectionStoredState,Lt=wt.imagePreviewUpscale;Xo(t,Pt,(function(t){return n(68,I=t)})),Xo(t,kt,(function(t){return n(67,M=t)})),Xo(t,St,(function(t){return n(65,R=t)})),Xo(t,Rt,(function(t){return n(64,S=t)})),Xo(t,Ct,(function(t){return n(45,T=t)})),Xo(t,Mt,(function(t){return n(63,$=t)})),Xo(t,Tt,(function(t){return n(42,y=t)})),Xo(t,It,(function(t){return n(43,x=t)})),Xo(t,At,(function(t){return n(66,C=t)})),Xo(t,Et,(function(t){return n(69,A=t)})),Xo(t,Lt,(function(t){return n(44,k=t)}));var Ft=!1,zt=void 0,Ot=void 0,Bt=void 0,Dt=void 0,_t=function(t){var main=E.querySelector(".PinturaMain > .PinturaUtilMain")||E.querySelector('div[tabindex="0"] .PinturaUtilMain');return!!main&&(!!main.contains(t.target)&&!yp(t.target))},Ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.pan,n=void 0===e?$:e,r=t.zoom;na(Et,A={translation:n,zoom:void 0===r?y:r},A)},Nt=function(){return $&&0===$.x&&0===$.y},Wt=function(){na(Tt,y=void 0,y),Nt()||na(Mt,$=Qt(),$),Vt.set(void 0,{hard:!0})},jt=function(){Wt(),Ut()},Vt=Zl(void 0,{precision:.01});Vt.subscribe((function(t){if(void 0===t)return na(Tt,y=void 0,y),void(Nt()||na(Mt,$=Qt(),$));var e=y;t<=1?Nt()||na(Mt,$=Qt(),$):t<=e&&na(Mt,$=he($,.8),$),na(Tt,y=t,y)}));var Gt,Ht,Zt,Xt,qt,Yt,Kt,Jt,ee=function(t){Vt.update((function(e){var n=t(e||x);return Ut({zoom:n}),n}))},ne=function(t){t?Vt.set(t,{hard:!1===I}):(t=void 0,Vt.set(void 0,{hard:!0})),na(Tt,y=t,y),Ut({zoom:t})},ie=function(t,e){var n=mt*e,r=z({},ht),o=1-Zu(tt,0,1);Ke(r,n<o?n:o);var c=z({},ht);Ke(c,n),Ye(c,t);var l=z({},c);return c.x>r.x&&(l.x=r.x),c.y>r.y&&(l.y=r.y),c.x+c.width<r.x+r.width&&(l.x=r.x+r.width-c.width),c.y+c.height<r.y+r.height&&(l.y=r.y+r.height-c.height),fe(qe(l),qe(r))},oe=function(t){var e=t.translation,n=t.zoom,r=void 0===n?1:n,o=t.elastify,c=void 0===o||o;if(zt){var l=e,d=te(zt.x+l.x,zt.y+l.y);if(!J)return d;var f=ie(d,r);return c?pd(f,d,ft):f}},ue=function(){Ht=void 0,na(kt,M=!0,M),n(33,Ft=Y),Gt=!1,Bt=!1,zt=z({},$),Ot=k?y||x:c?y||1:y||x},ce=function(t){var e=t.detail,o=e.scalar,c=e.translation,l=e.isMultiTouching;if(zt&&(l||Y)){l&&he(c,.5),(Y||l)&&(Gt=!0),xt||n(12,xt=l);var h=r?Zu(Ot*o,d,f):1,v=oe({translation:c,zoom:h,elastify:!0}),m=ae(v);Dt=ae($),Bt=m<Dt,r&&Tt.set(h),Mt.set(v),Ht=xt&&{translation:t.detail.translation,scalar:o}}},le=function(t){na(kt,M=!1,M),n(33,Ft=!1),n(12,xt=!1),Bt&&Dt<50&&(zt=void 0,Ot=void 0,Mt.set(Qt()))},se=function(t){na(kt,M=!1,M),n(33,Ft=!1),n(12,xt=!1),Promise.resolve().then((function(){if(Gt&&zt){var e=Ht||t.detail,n=r?Zu(Ot*e.scalar,d,f):1,o=oe({elastify:!1,translation:e.translation,zoom:n});Mt.set(o)}zt=void 0,Ot=void 0,Y&&t.detail.isDoubleTap&&jt(),Ut()}))},de=Date.now(),ve=0,me=!1,ge=!1,be=function(t){if(_t(t)&&(t.preventDefault(),t.stopPropagation(),!ge)){clearTimeout(Zt);var e=Date.now(),n=e-de;de=e;var r=n<24;ve=r?ve+1:0;var o=1+-1*vd(t)*lt/(r?50:100),c=Up(t,R,S);ye(c,o,{isZoomingFast:r})}},ye=function(t,e,n){var r=n.isZoomingFast,o=k?y||x:c?y||1:y||x,l=o*e,h=Qt(),v=$,m=k?x:c?1:x,w=Math.abs(l-m),P=l<o,S=o>m&&P||o<m&&l>o,R=ve>=5;if(r||(me=!1),ve>0&&!me&&(me=S),R&&me)return jt(),ge=!0,void setTimeout((function(){ge=!1}),100);if(!R){!r&&S&&w<=.05&&(Zt=setTimeout((function(){jt()}),250)),na(Tt,y=Zu(l,d,f),y);var M=Ne(C);Ke(M,o),Ye(M,v);var T=qe(M),I=Ne(M);Ke(I,y-o+1,t);var A=qe(I),E=pe(fe(A,T),o);!function(t,e,n){t.x=e,t.y=n}(h,v.x+E.x,v.y+E.y),na(Mt,$=P&&r?he(re($),.85):ie(h,o),$),Ut()}},$e=function(t){return(t?"add":"remove")+"EventListener"},xe=function(t){t.preventDefault(),qt=z({},$),Kt=Ne(C),Yt=Up(t,R,S),Xt=k?y||x:c?y||1:y||x},we=function(t){t.preventDefault(),na(Tt,y=Zu(t.scale*Xt,d,f),y);var e=Ne(Kt);Ke(e,Xt),Ye(e,qt);var n=qe(e),r=Ne(e);Ke(r,y-Xt+1,Yt);var o=qe(r),c=pe(fe(o,n),Xt),l={x:qt.x+c.x,y:qt.y+c.y};na(Mt,$=ie(l,y),$)},Pe=function(t){t.preventDefault()},ke=function(t){E[$e(t)]("wheel",be),rr()||(E[$e(t)]("gesturestart",xe),E[$e(t)]("gesturechange",we),E[$e(t)]("gestureend",Pe))},Se=function(t){var e=$e(t);E[e]("interactionstart",ue),E[e]("interactionupdate",ce),E[e]("interactionrelease",le),E[e]("interactionend",se)};return za((function(){Jt=ld(E,{drag:!0,pinch:!0,inertia:!0,inertiaDurationMultiplier:10,shouldStartInteraction:_t})})),Ba((function(){ke(!1),Se(!1),Jt.destroy(),Jt=void 0})),t.$$set=function(t){"root"in t&&n(13,E=t.root),"locale"in t&&n(14,L=t.locale),"stores"in t&&n(15,F=t.stores),"allowPan"in t&&n(16,B=t.allowPan),"allowZoom"in t&&n(17,_=t.allowZoom),"enablePan"in t&&n(18,N=t.enablePan),"enableZoom"in t&&n(19,j=t.enableZoom),"enableZoomControls"in t&&n(20,G=t.enableZoomControls),"enableZoomInput"in t&&n(21,Z=t.enableZoomInput),"enablePanInput"in t&&n(22,Y=t.enablePanInput),"enablePanLimit"in t&&n(23,J=t.enablePanLimit),"panLimitGutterScalar"in t&&n(24,tt=t.panLimitGutterScalar),"zoomOptions"in t&&n(25,nt=t.zoomOptions),"zoomAdjustStep"in t&&n(26,ot=t.zoomAdjustStep),"zoomAdjustFactor"in t&&n(27,ut=t.zoomAdjustFactor),"zoomAdjustWheelFactor"in t&&n(28,lt=t.zoomAdjustWheelFactor),"elasticity"in t&&n(29,ft=t.elasticity),"imageSelectionRectCentered"in t&&n(30,ht=t.imageSelectionRectCentered),"imageSelectionRectScalar"in t&&n(31,mt=t.imageSelectionRectScalar),"zoomLevel"in t&&n(32,bt=t.zoomLevel),"zoomControls"in t&&n(11,yt=t.zoomControls),"zoomMultiTouching"in t&&n(12,xt=t.zoomMultiTouching)},t.$$.update=function(){var e,S;2752512&t.$$.dirty[0]&&n(35,r=_&&j&&Z),327680&t.$$.dirty[0]&&n(34,o=B&&N),196608&t.$$.dirty[0]&&(B||_?(na(Tt,y=j?A.zoom:void 0,y),na(Mt,$=N?re(A.translation):Nt()?$:Qt(),$),Vt.set(y)):Wt()),16384&t.$$.dirty[1]&&(c=T>=1),33570816&t.$$.dirty[0]|28672&t.$$.dirty[1]&&n(39,l=[(k||T<1)&&[x,Dp(x)+"%",{sublabel:L.labelZoomFit}]].concat((0,P.default)(nt.map((function(t){return[t,Dp(t)+"%"]})))).filter(Boolean).map((function(t){return 1===t[0]&&(t[2]={sublabel:L.labelZoomActual}),t})).sort((function(a,b){var t=a[0]||x,e=b[0]||x;return t<e?-1:e<t?1:0}))),4352&t.$$.dirty[1]&&n(37,d=Math.min(l.reduce((function(t,e){var n=(0,w.default)(e,1)[0];return n<t?n:t}),Number.MAX_SAFE_INTEGER),x)),256&t.$$.dirty[1]&&n(36,f=l.reduce((function(t,e){var n=(0,w.default)(e,1)[0];return n>t?n:t}),Number.MIN_SAFE_INTEGER)),2&t.$$.dirty[1]&&null!==bt&&ne(bt),30720&t.$$.dirty[1]&&n(41,v=y||(k||T<1?x:1)),1280&t.$$.dirty[1]&&n(38,(e=l.map((function(t){return(0,w.default)(t,1)[0]})),S=v,h=e.findIndex((function(t){return t===S})))),1024&t.$$.dirty[1]&&n(40,m=Dp(v)+"%"),202522624&t.$$.dirty[0]|3040&t.$$.dirty[1]&&n(11,yt=(_||_)&&G?[["Button","zoom-out",{hideLabel:!0,label:L.labelZoomOut,icon:L.iconZoomOut,disabled:y===d,onclick:function(){return ee((function(t){return Math.max(d,t-ot)}))},onhold:function(){return ee((function(t){return Math.max(d,t*(1-ut))}))}}],["Dropdown","zoom-level",{label:m,labelClass:"PinturaFixedWidthCharacters",options:l,selectedIndex:h,onchange:function(t){return ne(t.value)}}],["Button","zoom-in",{hideLabel:!0,label:L.labelZoomIn,icon:L.iconZoomIn,disabled:y===f,onclick:function(){return ee((function(t){return Math.min(f,t+ot)}))},onhold:function(){return ee((function(t){return Math.min(f,t*(1+ut))}))}}]]:[]),8192&t.$$.dirty[0]|16&t.$$.dirty[1]&&E&&ke(r),8192&t.$$.dirty[0]|8&t.$$.dirty[1]&&E&&Se(o),4202496&t.$$.dirty[0]|12&t.$$.dirty[1]&&E&&E.style.setProperty("--cursor",o&&Y?Ft?"grabbing":"grab":"")},[Pt,kt,St,Rt,Ct,Mt,Tt,It,At,Et,Lt,yt,xt,E,L,F,B,_,N,j,G,Z,Y,J,tt,nt,ot,ut,lt,ft,ht,mt,bt,Ft,o,r,f,d,h,l,m,v,y,x,k,T]}var Wp=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Np,null,Go,{root:13,locale:14,stores:15,allowPan:16,allowZoom:17,enablePan:18,enableZoom:19,enableZoomControls:20,enableZoomInput:21,enablePanInput:22,enablePanLimit:23,panLimitGutterScalar:24,zoomOptions:25,zoomAdjustStep:26,zoomAdjustFactor:27,zoomAdjustWheelFactor:28,elasticity:29,imageSelectionRectCentered:30,imageSelectionRectScalar:31,zoomLevel:32,zoomControls:11,zoomMultiTouching:12},null,[-1,-1,-1,-1]),r}return(0,d.default)(n)}(Pu),jp=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(e){var n,view;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vp(e);case 2:return n=t.sent,view=new DataView(n),t.abrupt("return",Gp(view));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vp=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsArrayBuffer(t)}))},Gp=function(view){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).limit,e=void 0===t?1024:t,n=0;if(n+=4,1718909296!==view.getUint32(n))return 0;if(n+=4,1836069938!==view.getUint32(n))return 0;for(var r=!1,o=-1,i=n;i<e;i++){if(r||1953653099!==view.getUint32(i)||(r=!0,i+=4),r)if(64==view.getUint8(i)){o=i;break}}if(o<0)return 0;var c=view.getUint32(o-28),l=view.getUint32(o-20),d=view.getUint32(o-32),f=view.getUint32(o-16);return 65536===c&&4294901760===l?90:4294901760===d&&4294901760===f?180:4294901760===c&&65536===l?270:0},Hp=fu.window;function Zp(t){var e,n,r,o=t[39]&&Xp(t),c=t[37]&&ih(t);return{c:function(){o&&o.c(),e=ma(),c&&c.c(),n=ga()},m:function(t,l){o&&o.m(t,l),pa(t,e,l),c&&c.m(t,l),pa(t,n,l),r=!0},p:function(t,r){t[39]?o?(o.p(t,r),256&r[1]&&cu(o,1)):((o=Xp(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu()),t[37]?c?(c.p(t,r),64&r[1]&&cu(c,1)):((c=ih(t)).c(),cu(c,1),c.m(n.parentNode,n)):c&&(au(),lu(c,1,1,(function(){c=null})),uu())},i:function(t){r||(cu(o),cu(c),r=!0)},o:function(t){lu(o),lu(c),r=!1},d:function(t){o&&o.d(t),t&&ha(e),c&&c.d(t),t&&ha(n)}}}function Xp(t){var div,e,n,r,o,c,l=[Yp,qp],d=[];function f(t,e){return t[38]?0:t[33]?1:-1}return~(n=f(t))&&(r=d[n]=l[n](t)),{c:function(){div=element("div"),e=element("p"),r&&r.c(),xa(e,"style",t[67]),xa(div,"class","PinturaStatus"),xa(div,"style",o="opacity: ".concat(t[51]))},m:function(t,r){pa(t,div,r),sa(div,e),~n&&d[n].m(e,null),c=!0},p:function(t,h){var v=n;(n=f(t))===v?~n&&d[n].p(t,h):(r&&(au(),lu(d[v],1,1,(function(){d[v]=null})),uu()),~n?((r=d[n])?r.p(t,h):(r=d[n]=l[n](t)).c(),cu(r,1),r.m(e,null)):r=null),(!c||32&h[2])&&xa(e,"style",t[67]),(!c||1048576&h[1]&&o!==(o="opacity: ".concat(t[51])))&&xa(div,"style",o)},i:function(t){c||(cu(r),c=!0)},o:function(t){lu(r),c=!1},d:function(t){t&&ha(div),~n&&d[n].d()}}}function qp(t){var e,n,r,o;e=new wd({props:{text:t[33].text||"",onmeasure:t[189]}});var c=t[33].aside&&Kp(t);return{c:function(){yu(e.$$.fragment),n=ma(),c&&c.c(),r=ga()},m:function(t,l){$u(e,t,l),pa(t,n,l),c&&c.m(t,l),pa(t,r,l),o=!0},p:function(t,n){var o={};4&n[1]&&(o.text=t[33].text||""),e.$set(o),t[33].aside?c?(c.p(t,n),4&n[1]&&cu(c,1)):((c=Kp(t)).c(),cu(c,1),c.m(r.parentNode,r)):c&&(au(),lu(c,1,1,(function(){c=null})),uu())},i:function(t){o||(cu(e.$$.fragment,t),cu(c),o=!0)},o:function(t){lu(e.$$.fragment,t),lu(c),o=!1},d:function(t){xu(e,t),t&&ha(n),c&&c.d(t),t&&ha(r)}}}function Yp(t){var e,n,r,o;return e=new wd({props:{text:t[38],onmeasure:t[189]}}),r=new Md({props:{class:"PinturaStatusIcon",offset:t[77],opacity:t[78],$$slots:{default:[rh]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment),n=ma(),yu(r.$$.fragment)},m:function(t,c){$u(e,t,c),pa(t,n,c),$u(r,t,c),o=!0},p:function(t,n){var o={};128&n[1]&&(o.text=t[38]),e.$set(o);var c={};32768&n[2]&&(c.offset=t[77]),65536&n[2]&&(c.opacity=t[78]),8&n[0]|524288&n[16]&&(c.$$scope={dirty:n,ctx:t}),r.$set(c)},i:function(t){o||(cu(e.$$.fragment,t),cu(r.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),lu(r.$$.fragment,t),o=!1},d:function(t){xu(e,t),t&&ha(n),xu(r,t)}}}function Kp(t){var e,n;return e=new Md({props:{class:"PinturaStatusButton",offset:t[77],opacity:t[78],$$slots:{default:[eh]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};32768&n[2]&&(r.offset=t[77]),65536&n[2]&&(r.opacity=t[78]),4&n[1]|524288&n[16]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Jp(t){var e,n;return e=new Sd({props:{progress:t[33].progressIndicator.progress}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};4&n[1]&&(r.progress=t[33].progressIndicator.progress),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Qp(t){for(var button,e,n=[t[33].closeButton,{hideLabel:!0}],r={},i=0;i<n.length;i+=1)r=Uo(r,n[i]);return button=new rd({props:r}),{c:function(){yu(button.$$.fragment)},m:function(t,n){$u(button,t,n),e=!0},p:function(t,e){var r=4&e[1]?mu(n,[gu(t[33].closeButton),n[1]]):{};button.$set(r)},i:function(t){e||(cu(button.$$.fragment,t),e=!0)},o:function(t){lu(button.$$.fragment,t),e=!1},d:function(t){xu(button,t)}}}function eh(t){var e,n,r,o=t[33].progressIndicator.visible&&Jp(t),c=t[33].closeButton&&t[33].text&&Qp(t);return{c:function(){o&&o.c(),e=ma(),c&&c.c(),n=ga()},m:function(t,l){o&&o.m(t,l),pa(t,e,l),c&&c.m(t,l),pa(t,n,l),r=!0},p:function(t,r){t[33].progressIndicator.visible?o?(o.p(t,r),4&r[1]&&cu(o,1)):((o=Jp(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu()),t[33].closeButton&&t[33].text?c?(c.p(t,r),4&r[1]&&cu(c,1)):((c=Qp(t)).c(),cu(c,1),c.m(n.parentNode,n)):c&&(au(),lu(c,1,1,(function(){c=null})),uu())},i:function(t){r||(cu(o),cu(c),r=!0)},o:function(t){lu(o),lu(c),r=!1},d:function(t){o&&o.d(t),t&&ha(e),c&&c.d(t),t&&ha(n)}}}function nh(t){var g,e=t[3].iconSupportError+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){8&n[0]&&e!==(e=t[3].iconSupportError+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function rh(t){var e,n;return e=new _s({props:{$$slots:{default:[nh]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};8&n[0]|524288&n[16]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function ih(t){var e,n,r,o,c,canvas,l,div,d,f,h,v,m,y,$=t[10]&&oh(t),x=t[43]&&t[42]&&ah(t),w=[dh,sh],P=[];function k(t,e){return t[43]?0:1}function S(e){t[374](e)}function R(e){t[375](e)}function C(e){t[376](e)}r=k(t),o=P[r]=w[r](t),canvas=new hs({props:{isAnimated:t[50],isTransparent:t[18],pixelRatio:t[54],textPixelRatio:t[6],backgroundColor:t[53],maskRect:t[55],maskOpacity:t[68]?t[68].maskOpacity:1,maskMarkupOpacity:t[7],maskFrameOpacity:t[5],clipAnnotationsToImage:t[80],images:t[52],interfaceImages:t[81],loadImageData:t[26],willRequest:t[76]||t[82],willRender:t[371],didRender:t[372]}});var M={root:t[2],locale:t[3],stores:t[179],allowPan:t[84],enablePan:t[15],enablePanLimit:t[19],panLimitGutterScalar:t[20],enablePanInput:t[85],allowZoom:t[86],enableZoom:t[16],enableZoomInput:void 0!==t[17]?t[17]:t[87],enableZoomControls:t[88],zoomOptions:t[11]||t[21],zoomAdjustStep:t[12]||t[22],zoomAdjustFactor:t[13]||t[23],zoomAdjustWheelFactor:t[14]||t[24],imageSelectionRectCentered:t[89],imageSelectionRectScalar:t[90],elasticity:vh*t[8]};return void 0!==t[0]&&(M.zoomLevel=t[0]),void 0!==t[31]&&(M.zoomControls=t[31]),void 0!==t[32]&&(M.zoomMultiTouching=t[32]),f=new Wp({props:M}),ja.push((function(){return bu(f,"zoomLevel",S,t[0])})),ja.push((function(){return bu(f,"zoomControls",R,t[31])})),ja.push((function(){return bu(f,"zoomMultiTouching",C,t[32])})),{c:function(){$&&$.c(),e=ma(),x&&x.c(),n=ma(),o.c(),c=ma(),yu(canvas.$$.fragment),l=ma(),div=element("div"),d=ma(),yu(f.$$.fragment),xa(div,"class","PinturaRootPortal")},m:function(o,h){$&&$.m(o,h),pa(o,e,h),x&&x.m(o,h),pa(o,n,h),P[r].m(o,h),pa(o,c,h),$u(canvas,o,h),pa(o,l,h),pa(o,div,h),t[373](div),pa(o,d,h),$u(f,o,h),y=!0},p:function(t,l){t[10]?$?($.p(t,l),1024&l[0]&&cu($,1)):(($=oh(t)).c(),cu($,1),$.m(e.parentNode,e)):$&&(au(),lu($,1,1,(function(){$=null})),uu()),t[43]&&t[42]?x?(x.p(t,l),6144&l[1]&&cu(x,1)):((x=ah(t)).c(),cu(x,1),x.m(n.parentNode,n)):x&&(au(),lu(x,1,1,(function(){x=null})),uu());var d=r;(r=k(t))===d?P[r].p(t,l):(au(),lu(P[d],1,1,(function(){P[d]=null})),uu(),(o=P[r])?o.p(t,l):(o=P[r]=w[r](t)).c(),cu(o,1),o.m(c.parentNode,c));var y={};524288&l[1]&&(y.isAnimated=t[50]),262144&l[0]&&(y.isTransparent=t[18]),8388608&l[1]&&(y.pixelRatio=t[54]),64&l[0]&&(y.textPixelRatio=t[6]),4194304&l[1]&&(y.backgroundColor=t[53]),16777216&l[1]&&(y.maskRect=t[55]),64&l[2]&&(y.maskOpacity=t[68]?t[68].maskOpacity:1),128&l[0]&&(y.maskMarkupOpacity=t[7]),32&l[0]&&(y.maskFrameOpacity=t[5]),262144&l[2]&&(y.clipAnnotationsToImage=t[80]),2097152&l[1]&&(y.images=t[52]),524288&l[2]&&(y.interfaceImages=t[81]),67108864&l[0]&&(y.loadImageData=t[26]),1064960&l[2]&&(y.willRequest=t[76]||t[82]),512&l[0]|376840&l[1]|2097152&l[2]&&(y.willRender=t[371]),2080374784&l[1]&&(y.didRender=t[372]),canvas.$set(y);var S={};4&l[0]&&(S.root=t[2]),8&l[0]&&(S.locale=t[3]),4194304&l[2]&&(S.allowPan=t[84]),32768&l[0]&&(S.enablePan=t[15]),524288&l[0]&&(S.enablePanLimit=t[19]),1048576&l[0]&&(S.panLimitGutterScalar=t[20]),8388608&l[2]&&(S.enablePanInput=t[85]),16777216&l[2]&&(S.allowZoom=t[86]),65536&l[0]&&(S.enableZoom=t[16]),131072&l[0]|33554432&l[2]&&(S.enableZoomInput=void 0!==t[17]?t[17]:t[87]),67108864&l[2]&&(S.enableZoomControls=t[88]),2099200&l[0]&&(S.zoomOptions=t[11]||t[21]),4198400&l[0]&&(S.zoomAdjustStep=t[12]||t[22]),8396800&l[0]&&(S.zoomAdjustFactor=t[13]||t[23]),16793600&l[0]&&(S.zoomAdjustWheelFactor=t[14]||t[24]),134217728&l[2]&&(S.imageSelectionRectCentered=t[89]),268435456&l[2]&&(S.imageSelectionRectScalar=t[90]),256&l[0]&&(S.elasticity=vh*t[8]),!h&&1&l[0]&&(h=!0,S.zoomLevel=t[0],Ka((function(){return h=!1}))),!v&&1&l[1]&&(v=!0,S.zoomControls=t[31],Ka((function(){return v=!1}))),!m&&2&l[1]&&(m=!0,S.zoomMultiTouching=t[32],Ka((function(){return m=!1}))),f.$set(S)},i:function(t){y||(cu($),cu(x),cu(o),cu(canvas.$$.fragment,t),cu(f.$$.fragment,t),y=!0)},o:function(t){lu($),lu(x),lu(o),lu(canvas.$$.fragment,t),lu(f.$$.fragment,t),y=!1},d:function(o){$&&$.d(o),o&&ha(e),x&&x.d(o),o&&ha(n),P[r].d(o),o&&ha(c),xu(canvas,o),o&&ha(l),o&&ha(div),t[373](null),o&&ha(d),xu(f,o)}}}function oh(t){var div,e,n,r,o;return e=new vp({props:{items:t[64]}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaNav PinturaNavTools")},m:function(c,l){pa(c,div,l),$u(e,div,null),n=!0,r||(o=[ba(div,"measure",t[358]),ra(os.call(null,div))],r=!0)},p:function(t,n){var r={};4&n[2]&&(r.items=t[64]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e),r=!1,jo(o)}}}function ah(t){var div,e,n;return e=new bd({props:{elasticity:t[8]*gh,scrollDirection:t[70]?"y":"x",$$slots:{default:[lh]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaNav PinturaNavMain")},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,n){var r={};256&n[0]&&(r.elasticity=t[8]*gh),256&n[2]&&(r.scrollDirection=t[70]?"y":"x"),1024&n[1]|6144&n[2]|524288&n[16]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function uh(t){var g,e=t[514].icon+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){262144&n[16]&&e!==(e=t[514].icon+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function ch(t){var e,n,span,r,o,c=t[514].label+"";return e=new _s({props:{$$slots:{default:[uh]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment),n=ma(),span=element("span"),r=text(c)},m:function(t,c){$u(e,t,c),pa(t,n,c),pa(t,span,c),sa(span,r),o=!0},p:function(t,n){var l={};786432&n[16]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l),(!o||262144&n[16])&&c!==(c=t[514].label+"")&&Pa(r,c)},i:function(t){o||(cu(e.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),o=!1},d:function(t){xu(e,t),t&&ha(n),t&&ha(span)}}}function lh(t){for(var e,n,r=[t[74],{tabs:t[73]}],o={$$slots:{default:[ch,function(t){return{514:t.tab}},function(t){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t.tab?262144:0]}]},$$scope:{ctx:t}},i=0;i<r.length;i+=1)o=Uo(o,r[i]);return(e=new Ps({props:o})).$on("select",t[359]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var o=6144&n[2]?mu(r,[4096&n[2]&&gu(t[74]),2048&n[2]&&{tabs:t[73]}]):{};786432&n[16]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function sh(t){var e,n,r;function o(e){t[367](e)}var c={class:"PinturaMain",content:z(z({},t[44].find(t[366])),{},{props:t[25][t[41]]}),locale:t[3],stores:t[179]};return void 0!==t[1][t[41]]&&(c.component=t[1][t[41]]),e=new ud({props:c}),ja.push((function(){return bu(e,"component",o,t[1][t[41]])})),e.$on("measure",t[201]),e.$on("show",t[368]),e.$on("hide",t[369]),e.$on("fade",t[370]),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(t,r){var o={};33554432&r[0]|9216&r[1]&&(o.content=z(z({},t[44].find(t[366])),{},{props:t[25][t[41]]})),8&r[0]&&(o.locale=t[3]),!n&&2&r[0]|1024&r[1]&&(n=!0,o.component=t[1][t[41]],Ka((function(){return n=!1}))),e.$set(o)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}function dh(t){for(var e,n,r=[{class:"PinturaMain"},{visible:t[56]},t[74],{panels:t[72]}],o={$$slots:{default:[fh,function(t){return{512:t.panel,513:t.panelIsActive}},function(t){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(t.panel?65536:0)|(t.panelIsActive?131072:0)]}]},$$scope:{ctx:t}},i=0;i<r.length;i+=1)o=Uo(o,r[i]);return(e=new zs({props:o})).$on("measure",t[365]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var o=33554432&n[1]|5120&n[2]?mu(r,[r[0],33554432&n[1]&&{visible:t[56]},4096&n[2]&&gu(t[74]),1024&n[2]&&{panels:t[72]}]):{};33554442&n[0]|33562656&n[1]|720896&n[16]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function fh(t){var e,n,r;function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t)[360].apply(e,[t[512]].concat(r))}function c(e){t[361](e,t[512])}var l={content:z(z({},t[44].find(o)),{},{props:t[25][t[512]]}),locale:t[3],isActive:t[513],stores:t[179]};return void 0!==t[1][t[512]]&&(l.component=t[1][t[512]]),e=new ud({props:l}),ja.push((function(){return bu(e,"component",c,t[1][t[512]])})),e.$on("measure",t[201]),e.$on("show",(function(){return t[362](t[512])})),e.$on("hide",(function(){return t[363](t[512])})),e.$on("fade",(function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t)[364].apply(e,[t[512]].concat(r))})),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(r,c){t=r;var l={};33554432&c[0]|8192&c[1]|65536&c[16]&&(l.content=z(z({},t[44].find(o)),{},{props:t[25][t[512]]})),8&c[0]&&(l.locale=t[3]),131072&c[16]&&(l.isActive=t[513]),!n&&2&c[0]|65536&c[16]&&(n=!0,l.component=t[1][t[512]],Ka((function(){return n=!1}))),e.$set(l)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}function ph(t){var span,e;return{c:function(){xa(span=element("span"),"class","PinturaEditorOverlay"),xa(span,"style",e="opacity:".concat(t[91]))},m:function(t,e){pa(t,span,e)},p:function(t,n){536870912&n[2]&&e!==(e="opacity:".concat(t[91]))&&xa(span,"style",e)},d:function(t){t&&ha(span)}}}function hh(t){var div,e,n,r,o;Ya(t[357]);var c=t[63]&&Zp(t),l=t[91]>0&&ph(t);return{c:function(){div=element("div"),c&&c.c(),e=ma(),l&&l.c(),xa(div,"id",t[4]),xa(div,"class",t[71]),xa(div,"data-env",t[69])},m:function(d,f){pa(d,div,f),c&&c.m(div,null),sa(div,e),l&&l.m(div,null),t[377](div),n=!0,r||(o=[ba(Hp,"keydown",t[192]),ba(Hp,"keyup",t[193]),ba(Hp,"blur",t[194]),ba(Hp,"paste",t[198]),ba(Hp,"resize",t[357]),ba(div,"ping",(function(){Vo(t[62])&&t[62].apply(this,arguments)})),ba(div,"contextmenu",t[195]),ba(div,"touchstart",t[190],{passive:!1}),ba(div,"touchmove",(function(){Vo(t[66])&&t[66].apply(this,arguments)})),ba(div,"pointermove",(function(){Vo(t[65])&&t[65].apply(this,arguments)})),ba(div,"transitionend",t[180]),ba(div,"dropfiles",t[196]),ba(div,"measure",t[378]),ba(div,"click",(function(){Vo(t[40]?t[197]:N)&&(t[40]?t[197]:N).apply(this,arguments)})),ra(os.call(null,div,{observeViewRect:!0})),ra(as.call(null,div)),ra(ls.call(null,div))],r=!0)},p:function(r,o){(t=r)[63]?c?(c.p(t,o),2&o[2]&&cu(c,1)):((c=Zp(t)).c(),cu(c,1),c.m(div,e)):c&&(au(),lu(c,1,1,(function(){c=null})),uu()),t[91]>0?l?l.p(t,o):((l=ph(t)).c(),l.m(div,null)):l&&(l.d(1),l=null),(!n||16&o[0])&&xa(div,"id",t[4]),(!n||512&o[2])&&xa(div,"class",t[71]),(!n||128&o[2])&&xa(div,"data-env",t[69])},i:function(t){n||(cu(c),n=!0)},o:function(t){lu(c),n=!1},d:function(e){e&&ha(div),c&&c.d(),l&&l.d(),t[377](null),r=!1,jo(o)}}}var vh=1,mh="stage-overlay",gh=10;function bh(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,k,S,R,C,M,T,I,A,E,L,F,O,B,D,_,U,W,j,V,G,H,Z,X,Y,J,Q,tt,nt,it,ot,ct,lt,st,ft,pt,vt,mt,gt,bt,yt,xt,wt,Pt,kt,St,Rt,Ct,Mt,Tt,It,At,Et,Lt,Ft,Ot,Bt,Dt,_t,Ut,Nt,Wt,jt,Vt,Gt,Ht,Zt,Xt,qt,Kt,Jt,ne,re,ie,oe,ae,ue,ce,le,de,fe,pe,he,ve,me,ge,be,ye,$e,xe,we,Pe,ke,Se,Re,Ce,Me,Ie,Ae,Ee,Le,Fe,ze,Oe,Be,De,_e,Ue,Ve,He,Ze,qe,Je,Qe,rn,on,cn,ln,fn,hn,mn,gn,bn,yn,$n,xn,wn,Pn,kn,Cn,Mn,Tn,In,An,En,Ln,Fn,zn,On,Bn,Dn,_n,Un,Nn,Wn,jn,Vn,Gn,Hn,Zn,Xn,qn,Kn,Jn,Qn,er,nr,ir,or,ar,ur,cr,lr,sr,dr,fr,pr,vr,mr,gr,yr,$r,xr,wr=Do,Pr=Do;Xo(t,ql,(function(t){return n(353,Hn=t)})),t.$$.on_destroy.push((function(){return wr()})),t.$$.on_destroy.push((function(){return Pr()}));var Sr=jr(),Rr=Da(),Cr=e.class,Mr=void 0===Cr?void 0:Cr,Tr=e.layout,Ir=void 0===Tr?void 0:Tr,Ar=e.stores,Er=e.locale,Fr=void 0===Er?void 0:Er,zr=e.id,Or=void 0===zr?void 0:zr,Br=e.util,Dr=void 0===Br?void 0:Br,_r=e.utils,Ur=void 0===_r?void 0:_r,Nr=e.animations,Wr=void 0===Nr?"auto":Nr,Vr=e.disabled,Gr=void 0!==Vr&&Vr,Hr=e.status,Zr=void 0===Hr?void 0:Hr,Xr=e.previewUpscale,qr=void 0!==Xr&&Xr,Yr=e.previewPad,Kr=void 0!==Yr&&Yr,Jr=e.previewMaskOpacity,Qr=void 0===Jr?.95:Jr,ti=e.previewImageDataMaxSize,ei=void 0===ti?void 0:ti,ni=e.previewImageTextPixelRatio,ri=void 0===ni?void 0:ni,ii=e.markupMaskOpacity,oi=void 0===ii?1:ii,ai=e.zoomMaskOpacity,ui=void 0===ai?.85:ai,ci=e.elasticityMultiplier,si=void 0===ci?10:ci,di=e.willRevert,fi=void 0===di?function(){return Promise.resolve(!0)}:di,pi=e.willProcessImage,vi=void 0===pi?function(){return Promise.resolve(!0)}:pi,mi=e.willRenderCanvas,gi=void 0===mi?zt:mi,bi=e.willRenderToolbar,yi=void 0===bi?zt:bi,$i=e.willSetHistoryInitialState,Pi=void 0===$i?zt:$i,ki=e.enableButtonExport,Si=void 0===ki||ki,Ci=e.enableButtonRevert,Mi=void 0===Ci||Ci,Ii=e.enableNavigateHistory,Ai=void 0===Ii||Ii,Ei=e.enableToolbar,Li=void 0===Ei||Ei,Fi=e.enableUtils,zi=void 0===Fi||Fi,Oi=e.enableButtonClose,Bi=void 0!==Oi&&Oi,Di=e.enableDropImage,_i=void 0!==Di&&Di,Ui=e.enablePasteImage,Ni=void 0!==Ui&&Ui,Wi=e.enableBrowseImage,ji=void 0!==Wi&&Wi,Vi=e.layoutDirectionPreference,Gi=void 0===Vi?"auto":Vi,Hi=e.layoutHorizontalUtilsPreference,Zi=void 0===Hi?"left":Hi,Xi=e.layoutVerticalUtilsPreference,qi=void 0===Xi?"bottom":Xi,Yi=e.layoutVerticalToolbarPreference,Ki=void 0===Yi?"top":Yi,Ji=e.layoutVerticalControlGroupsPreference,Qi=void 0===Ji?"bottom":Ji,to=e.layoutVerticalControlTabsPreference,eo=void 0===to?"bottom":to,no=e.markupEditorZoomLevel,ro=void 0===no?null:no,io=e.markupEditorZoomLevels,ao=void 0===io?void 0:io,uo=e.markupEditorZoomAdjustStep,co=void 0===uo?void 0:uo,lo=e.markupEditorZoomAdjustFactor,po=void 0===lo?void 0:lo,ho=e.markupEditorZoomAdjustWheelFactor,vo=void 0===ho?void 0:ho,go=e.markupEditorInteractionMode,bo=void 0!==go&&go,yo=e.muteAudio,$o=void 0===yo||yo,xo=e.willSetMediaInitialTimeOffset,wo=void 0===xo?function(t,e){return t*(n=e[0],r=(0,w.default)(n,2),(o=r[0])+.5*(r[1]-o));var n,r,o}:xo,Po=e.enablePan,ko=void 0===Po||Po,So=e.enableZoom,Ro=void 0===So||So,Co=e.enableZoomControls,Mo=void 0===Co||Co,To=e.enableZoomInput,Io=void 0===To?void 0:To,Ao=e.enablePanInput,Eo=void 0===Ao?void 0:Ao,Lo=e.enableCanvasAlpha,Fo=void 0!==Lo&&Lo,zo=e.enablePanLimit,_o=void 0===zo?void 0:zo,Uo=e.panLimitGutterScalar,No=void 0===Uo?void 0:Uo,Wo=e.zoomPresetOptions,jo=void 0===Wo?[.25,.5,1,1.25,1.5,2,3,4,6,8,16]:Wo,Vo=e.zoomAdjustStep,Go=void 0===Vo?.25:Vo,qo=e.zoomAdjustFactor,Yo=void 0===qo?.1:qo,Ko=e.zoomAdjustWheelFactor,Jo=void 0===Ko?1:Ko,Qo=e.zoomLevel,ta=void 0===Qo?null:Qo,ea=e.imagePreviewSrc,ra=void 0===ea?void 0:ea,ia=e.imageOrienter,oa=void 0===ia?{read:function(){return 1},apply:function(t){return t}}:ia,aa=e.pluginComponents,ua=void 0===aa?void 0:aa,ca=e.pluginOptions,la=void 0===ca?{}:ca,sub=Sr.sub,sa={},da=e.root,fa=Ru($o);Xo(t,fa,(function(t){return n(339,mn=t)}));var pa=Ru({});Xo(t,pa,(function(t){return n(49,Ce=t)})),_a("redrawTrigger",pa);var ha=Ru(si);Xo(t,ha,(function(t){return n(418,ir=t)})),_a("elasticityMultiplier",ha);var va=[],ma=Zl();Xo(t,ma,(function(t){return n(91,xr=t)}));var ga,image,ba,ya=Rl()||1024,$a=Te(ya,ya),xa=fc(),wa=e.imageSourceToImageData,Pa=void 0===wa?function(t){return ht(t)?function(t){return Promise.resolve(nr&&nr(t,{resourceType:"image"})).then((function(e){if(!1!==e){var n=e||{},r=n.headers,o=n.credentials;return fetch(t,{headers:r,credentials:o}).then((function(t){if(200!==t.status)throw"".concat(t.status," (").concat(t.statusText,")");return t.blob()})).then((function(t){return Rp(t,oa,xa)})).then((function(t){return Cp(t,c)}))}}))}(t):Sn(t)?new Promise((function(e){return e(K(t))})):Yn(t)||Rn(t)?Rp(t,oa,xa).then((function(t){return Cp(t,c)})):void 0}:wa,ka=(ba=gp.reduce((function(t,e){return t[e]=function(t,e,n){var r=[];return{set:e,update:n,publish:function(t){r.forEach((function(e){return e(t)}))},subscribe:function(e){return r.push(e),t(e),function(){r=r.filter((function(t){return t!==e}))}}}}((function(t){if(!image)return t();image.stores[e].subscribe(t)()}),(function(t){image&&image.stores[e].set(t)}),(function(t){image&&image.stores[e].update(t)})),t}),{}),{update:function(t){if(image=t,ga&&(ga.forEach((function(t){return t()})),ga=void 0),!t)return ba.file.publish(void 0),void ba.loadState.publish(void 0);ga=gp.map((function(e){return t.stores[e].subscribe((function(t){ba[e].publish(t)}))}))},stores:ba,destroy:function(){ga&&ga.forEach((function(t){return t()}))}}),Sa=ka.stores,Ra=Sa.file,Ca=Sa.size,Ma=Sa.duration,Ta=Sa.trim,Ia=Sa.loadState,Aa=Sa.processState,Ea=Sa.cropAspectRatio,La=Sa.cropLimitToImage,Fa=Sa.crop,za=Sa.cropMinSize,Oa=Sa.cropMaxSize,Ua=Sa.cropRange,Na=Sa.cropOrigin,Wa=Sa.cropRectAspectRatio,Va=Sa.rotation,Ga=Sa.rotationRange,Ha=Sa.targetSize,Za=Sa.flipX,Xa=Sa.flipY,qa=Sa.backgroundColor,Ya=Sa.backgroundImage,Ka=Sa.colorMatrix,Ja=Sa.convolutionMatrix,Qa=Sa.gamma,tu=Sa.vignette,eu=Sa.noise,nu=Sa.decoration,ru=Sa.annotation,iu=Sa.redaction,ou=Sa.frame,au=Sa.state;Xo(t,Ra,(function(t){return n(340,gn=t)})),Xo(t,Ca,(function(t){return n(309,ce=t)})),Xo(t,Ma,(function(t){return n(336,on=t)})),Xo(t,Ta,(function(t){return n(417,er=t)})),Xo(t,Ia,(function(t){return n(328,De=t)})),Xo(t,Aa,(function(t){return n(327,Be=t)})),Xo(t,Ea,(function(t){return n(414,Zn=t)})),Xo(t,La,(function(t){return n(80,cr=t)})),Xo(t,Fa,(function(t){return n(349,Ln=t)})),Xo(t,Va,(function(t){return n(312,fe=t)})),Xo(t,Za,(function(t){return n(311,de=t)})),Xo(t,Xa,(function(t){return n(310,le=t)})),Xo(t,qa,(function(t){return n(318,we=t)})),Xo(t,nu,(function(t){return n(46,ue=t)})),Xo(t,ru,(function(t){return n(47,pe=t)})),Xo(t,iu,(function(t){return n(317,xe=t)})),Xo(t,ou,(function(t){return n(45,ae=t)})),Xo(t,au,(function(t){return n(402,fn=t)}));var uu,cu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((function(r,o){if(kp(t)){(Ml()?jp(t):Promise.resolve()).then((function(e){var video=document.createElement("video");video.onerror=function(){return console.error(video.error)},video.playsInline=!0,video.preload="auto",video.onloadeddata=function(){video.onloadeddata=void 0,video.dataset.rotation=e,hc(video).then((function(){video.currentTime=wo(video.duration,er||[[0,1]]),r(video)}))},video.src=URL.createObjectURL(t),video.load()}))}else{var c,l=!1;e.cancel=function(){return l=!0};var d=Date.now();Pa(t).then((function(t){var e=Date.now()-d;clearTimeout(c),c=setTimeout((function(){l||r(t)}),Math.max(0,n-e))})).catch(o)}}))},lu=Ar,su=lu.images,du=lu.shapePreprocessor,fu=lu.imageScrambler,pu=lu.willRequest,hu=lu.willRequestResource;Xo(t,su,(function(t){return n(356,Qn=t)})),Xo(t,du,(function(t){return n(355,Jn=t)})),Xo(t,fu,(function(t){return n(319,Pe=t)})),Xo(t,pu,(function(t){return n(76,nr=t)})),Xo(t,hu,(function(t){return n(82,sr=t)}));var vu=Cu(Ya,(function(t,e){if(!t)return e(void 0);uu&&(uu.cancel(),uu=void 0),cu(t,uu={cancel:N}).then(e).catch((function(t){}))})),mu=au.subscribe((function(t){return Sr.pub("update",t)})),gu=Ru();_a("ui",Ru({}));var bu=Ru(!0);Xo(t,bu,(function(t){return n(84,fr=t)}));var yu=Ru(!0);Xo(t,yu,(function(t){return n(86,vr=t)}));var $u=Ru(!0);Xo(t,$u,(function(t){return n(354,Kn=t)}));var xu=Ru(!0);Xo(t,xu,(function(t){return n(415,Xn=t)}));var wu=Ru(!0);Xo(t,wu,(function(t){return n(87,mr=t)}));var Pu=Ru();Xo(t,Pu,(function(t){return n(88,gr=t)}));var ku=Ru();Xo(t,ku,(function(t){return n(416,qn=t)}));var Mu=Cu([ku,xu],(function(){return void 0!==qn?qn:Xn}));Xo(t,Mu,(function(t){return n(85,pr=t)}));var Tu=Ru([0,0,0]);Xo(t,Tu,(function(t){return n(53,xn=t)}));var Iu=Ru([1,1,1]);Xo(t,Iu,(function(t){return n(399,ye=t)}));var Au=Zl([1,1,1]);Xo(t,Au,(function(t){return n(398,be=t)}));var Eu=Ru(),Lu=Ru();Xo(t,Lu,(function(t){return n(48,Se=t)}));var Fu=Ru();Xo(t,Fu,(function(t){return n(314,ve=t)}));var zu=Ru(We());Xo(t,zu,(function(t){return n(75,hn=t)}));var Ou=Ru(We());Xo(t,Ou,(function(t){return n(79,ur=t)}));var Bu=Ru();Xo(t,Bu,(function(t){return n(396,oe=t)}));var Du=xp("(pointer: fine)",(function(t){return t?"pointer-fine":"pointer-coarse"}));Xo(t,Du,(function(t){return n(334,Qe=t)}));var _u=xp("(hover: hover)",(function(t){return t?"pointer-hover":"pointer-no-hover"}));Xo(t,_u,(function(t){return n(333,Je=t)}));var Uu=Ru(!1),Nu=Ru(!1);Xo(t,Nu,(function(t){return n(315,ge=t)}));var Wu=Su(void 0,(function(t){var e=Zl(0),n=[Nu.subscribe((function(t){e.set(t?1:0)})),e.subscribe(t)];return function(){return n.forEach((function(t){return t()}))}}));Xo(t,Wu,(function(t){return n(397,me=t)}));var ju=Ru();Xo(t,ju,(function(t){return n(401,He=t)}));var Vu=Ru();Xo(t,Vu,(function(t){return n(50,Ie=t)})),_a("isAnimated",Vu);var Gu=Ru(qr);Xo(t,Gu,(function(t){return n(337,cn=t)}));var Hu=Ru(!1);Xo(t,Hu,(function(t){return n(407,Bn=t)})),_a("imageIsStatic",Hu);var Xu=Ru();Xo(t,Xu,(function(t){return n(408,Dn=t)}));var qu=Ru();Xo(t,qu,(function(t){return n(405,zn=t)}));var Yu=Su(void 0,(function(t){var e=Ru(void 0),n=[Fa.subscribe((function(){if(Ln){if(Bn)return e.set(Ne(Ln));var t=fd(Ln,zn,5*si);e.set(t)}})),e.subscribe(t)];return function(){return n.forEach((function(t){return t()}))}})),Ku=Ru();Xo(t,Ku,(function(t){return n(404,En=t)}));var Ju=Ru();Xo(t,Ju,(function(t){return n(406,On=t)}));var Qu=Ru(void 0);Xo(t,Qu,(function(t){return n(412,jn=t)}));var tc=Ru(Qt());Xo(t,tc,(function(t){return n(413,Vn=t)}));var ec=function(t,e){if(!e||!t)return{top:0,right:0,bottom:0,left:0};var n=fo(e,t,l),r=so(n,t);return{top:Math.abs(r.top),right:Math.abs(r.right),bottom:Math.abs(r.bottom),left:Math.abs(r.left)}},nc=Ru({}),rc=Cu([Bu,zu,Ou,nc],(function(t,e){var n=(0,w.default)(t,4),o=n[0],c=n[1],l=n[2];n[3];if(!o)return e(void 0);var d=0;1!==I.length||r||"bottom"===Ki||(d=l.y+l.height),e(Xe(o.x+c.x,o.y+c.y+d,o.width,o.height))})),ic={left:0,right:0,top:0,bottom:0},oc=Ru(!1),ac=Cu([oc,ou,rc,Nu],(function(t,e){var n=(0,w.default)(t,4),r=n[0],o=n[1],c=n[2];n[3];if(!c)return e({left:0,right:0,top:0,bottom:0});if(r){var l=Math.min(c.width,c.height),d=ec({width:l,height:l},o);Yt(ic.top,4)===Yt(d.top,4)&&Yt(ic.bottom,4)===Yt(d.bottom,4)&&Yt(ic.right,4)===Yt(d.right,4)&&Yt(ic.left,4)===Yt(d.left,4)||(ic=d,e(d))}}));Xo(t,ac,(function(t){return n(347,Tn=t)}));var uc=Cu([oc,ac],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];if(!r)return e(!1);e(Object.values(o).some((function(t){return t>0})))}));Xo(t,uc,(function(t){return n(348,In=t)}));var cc=Cu([oc,Bu,uc,ac],(function(t,e){var n=(0,w.default)(t,4),r=n[0],o=n[1],c=n[2],l=n[3];if(o)return r&&c?void e(Xe(o.x+l.left,o.y+l.top,o.width-l.left-l.right,o.height-l.top-l.bottom)):e(z({},o))})),lc=Cu([rc,uc,ac],(function(t,e){var n=(0,w.default)(t,3),r=n[0],o=n[1],c=n[2];return r?o?void e(Xe(r.x+c.left,r.y+c.top,r.width-c.left-c.right,r.height-c.top-c.bottom)):e(r):e(void 0)}));Xo(t,lc,(function(t){return n(313,he=t)}));var sc=Cu([Hu,Ca,Va],(function(t,e){var n=(0,w.default)(t,3),r=n[0],o=n[1],c=n[2];if(!r||!o)return e(void 0);var rect=je(o);e(an(rect,c))})),dc=Cu([sc],(function(t,e){var n=(0,w.default)(t,1)[0];if(!n)return e(void 0);var r=Ge(n);e(vn(r))}));Xo(t,dc,(function(t){return n(350,Fn=t)}));var pc=Cu([lc,Fa,dc,Gu],(function(t,e){var n=(0,w.default)(t,4),r=n[0],o=n[1],c=n[2],l=n[3];if(r&&o&&!!(!Dn&&!zn)){var d=c||o,f=d.width,h=d.height,v=Math.min(r.width/f,r.height/h);e(l?v:Math.min(1,v))}}));Xo(t,pc,(function(t){return n(410,Un=t)}));var vc=Cu([Hu,Ca,Va,lc,Bu,pc],(function(t,e){var n=(0,w.default)(t,6),r=n[0],o=n[1],c=n[2],l=n[3],d=n[4],f=n[5];if(!(r&&l&&d&&o))return e(void 0);var rect=je(o),h=vn(Ke(rect,f)),v=un(l,h);h.x=v.x,h.y=v.y,e(an(h,c))}));_a("imageStaticVisualCorners",vc);var mc=Ru(void 0);Xo(t,mc,(function(t){return n(352,Gn=t)}));var gc=Cu([Fa,lc],(function(t){var e=(0,w.default)(t,2),n=e[0],r=e[1];if(r&&n)return Math.min(r.width/n.width,r.height/n.height)})),bc=Cu([Fa,Ku],(function(t){var e=(0,w.default)(t,2),n=e[0],r=e[1];return n&&r?Math.min(n.width/r.width,n.height/r.height):1}));Xo(t,bc,(function(t){return n(90,$r=t)}));var yc=Cu([mc,bc],(function(t){var e=(0,w.default)(t,2),n=e[0],r=e[1];return n&&r?r*n:1}));Xo(t,yc,(function(t){return n(411,Nn=t)}));var $c=Ru(Qt());Xo(t,$c,(function(t){return n(351,Wn=t)}));var xc=Ru({scalar:Nn,translation:Wn}),wc=function(){xc.set({scalar:void 0,translation:Qt()})},Pc=Su(void 0,(function(t){var e=Zl(void 0,{precision:1e-4}),n=1===zd()?function(rect){return pn(rect,Math.round)}:zt,r=function(){if(En){var t=ge||!He;if(Bn){var rect=Ne(En);return Ye(rect,Vn),Ye(rect,he),e.set(rect,{hard:t})}var r=fd(En,jn,vh*si);r.width<0&&(r.width=0,r.x=En.x),r.height<0&&(r.height=0,r.y=En.y),Ye(r,he),Ye(r,Wn),Ke(r,Nn),!t&&n(r),e.set(r,{hard:t})}},o=[lc.subscribe(r),Ku.subscribe(r),yc.subscribe(r),$c.subscribe(r),ou.subscribe(r),e.subscribe(t)];return function(){return o.forEach((function(t){return t()}))}}));Xo(t,Pc,(function(t){return n(55,Mn=t)}));var kc=Ru(1);Xo(t,kc,(function(t){return n(403,An=t)}));var Sc=function(){if(Ln&&he){var rect=tn(Ne(Ln),Un||1),t=un(he,tn(Ne(Fn),Un));Ye(rect,t);var e=oe.width/rect.width,n=oe.height/rect.height,r=Math.min(1,e,n);kc.set(r),Ke(rect,r),function(t,e){var n=dn(t),r=(0,w.default)(n,4),o=r[0],c=r[1],b=r[2],l=r[3];o<e.y&&(t.y=Math.max(e.y,t.y)),c>e.width&&(t.x=e.width-t.width),b>e.height&&(t.y=e.height-t.height),l<e.x&&(t.x=Math.max(e.x,t.x))}(rect,z(z({},oe),{},{x:0,y:0})),Ku.set(rect)}},Rc=Cu([lc,pc,Fa,Ca],(function(t,e){var n=(0,w.default)(t,4),r=n[0],o=n[1],c=n[2],l=n[3];r&&(c||l)&&e(Ic(r,o||1,c||l))}));Xo(t,Rc,(function(t){return n(89,yr=t)}));var Cc,Mc,Tc,Ic=function(t,e,n){return n.width<=t.width&&n.height<=t.height?un(t,tn(Ne(n),e)):sn(t,nn(n))},Ac=function(t){if(!(r&&Cc&&en(Cc,t)&&Mc===Un)){if(Bn)return Sc();Cc=t,Mc=Un;var e=Ic(t,Un,Ln||ce);Ku.set(e)}},Ec=!1,Lc=pc.subscribe((function(t){!Ec&&void 0!==t&&Ln&&(Ac(he),Ec=!0)})),Fc=lc.subscribe((function(rect){rect&&void 0!==Un&&Ln&&Ac(rect)})),zc=Hu.subscribe((function(t){!t&&he&&Ac(he)})),Oc=Ju.subscribe((function(rect){if(!rect)return Tc=void 0,void na(Xu,Dn=void 0,Dn);Tc=_n;var t=Ne(Ln);Xu.set(t)})),Bc=Ku.subscribe((function(rect){if(rect&&On){var a,b,t=(a=Ne(rect),b=On,a.x-=b.x,a.y-=b.y,a.width-=b.width,a.height-=b.height,a);!function(rect,t){rect.x/=t,rect.y/=t,rect.width/=t,rect.height/=t}(t,Tc);var e=function(a,b){return a.x+=b.x,a.y+=b.y,a.width+=b.width,a.height+=b.height,a}(Ne(Dn),t);Fa.set(e)}})),Dc=Fa.subscribe((function(rect){if(rect&&En)if(Bn)On||Sc();else if(!(ge||On||zn)){var t=nn(En),e=nn(rect);if(Yt(t,6)!==Yt(e,6)){var n=Fn||Ln,r=n.width,o=n.height,c=Math.min(he.width/r,he.height/o),l=Te(rect.width*c,rect.height*c),d=.5*(En.width-l.width),f=.5*(En.height-l.height),h=Xe(En.x+d,En.y+f,l.width,l.height);Ku.set(h)}}})),_c=Cu([pc,Fa,Ku,Hu],(function(t,e){var n=(0,w.default)(t,4),r=n[0],o=n[1],c=n[2],l=n[3];if(r&&o&&c){if(l)return e(An);var d=c.width/o.width,f=c.height/o.height;e(Math.max(d,f)/r)}})),Uc=Cu([pc,_c],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];o&&e(r*o)}));Xo(t,Uc,(function(t){return n(409,_n=t)}));var Nc={left:0,right:0,top:0,bottom:0},Wc=Cu([ou,Ku],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];if(!o)return e(Nc);var c=ec(o,r);Yt(Nc.top,4)===Yt(c.top,4)&&Yt(Nc.bottom,4)===Yt(c.bottom,4)&&Yt(Nc.right,4)===Yt(c.right,4)&&Yt(Nc.left,4)===Yt(c.left,4)||(Nc=c,e(c))})),jc=Cu([Wc],(function(t,e){var n=(0,w.default)(t,1)[0];e(Object.values(n).some((function(t){return t>0})))})),Vc=Zl(.075,{stiffness:.03,damping:.4,precision:.001}),Gc=Cu([Au,Tu,Vc,Pc,yc,ou,jc,Wc,uc],(function(t,e){var n=(0,w.default)(t,9),o=n[0],c=n[1],l=n[2],d=n[3],f=n[4],h=n[5],v=n[6],m=n[7],y=n[8];if(!d||r)return e([]);var $=d.x,x=d.y,P=d.width,k=d.height;$+=.5,x+=.5,P-=.5,k-=.5;var S=[];if(h){if(v){var R=m.left,C=m.right,M=m.top,T=m.bottom;R*=f,C*=f,M*=f,T*=f;var I=zp(c)?[1,1,1,.125]:[0,0,0,.075];S.push({x:$-R-.5,y:x-M-.5,width:P+R+C+1,height:k+M+T+1,strokeWidth:1,strokeColor:I,opacity:y?1:.5})}var A=zp(o);h&&h.frameColor&&zp(h.frameColor)||A||(S.push({x:$-1,y:x-1,width:P+2,height:k+2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:l}),S.push({x:$+1,y:x+1,width:P-2,height:k-2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:l}))}e([].concat(S,[{x:$,y:x,width:P,height:k,strokeWidth:1,strokeColor:o,opacity:l}]))})),Hc=Ru([]);Xo(t,Hc,(function(t){return n(341,bn=t)}));var Zc=Cu([Gc,Hc],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];e([].concat((0,P.default)(r),(0,P.default)(o)))}));Xo(t,Zc,(function(t){return n(83,dr=t)}));var qc=Zl(0,{precision:.001});Xo(t,qc,(function(t){return n(343,$n=t)}));var Yc=Zl();Xo(t,Yc,(function(t){return n(346,kn=t)}));var Kc=Zl();Xo(t,Kc,(function(t){return n(345,Pn=t)}));var Qc=Zl();Xo(t,Qc,(function(t){return n(344,wn=t)}));var tl=Zl();Xo(t,tl,(function(t){return n(342,yn=t)}));var el=Ru(!1);Xo(t,el,(function(t){return n(326,Oe=t)}));var nl,rl=Ru();Xo(t,rl,(function(t){return n(329,_e=t)}));var il=Cu([el,rl],(function(t,e){var r=(0,w.default)(t,2),o=r[0],c=r[1];if(o&&c){if(nl&&(nl.cancel(),n(244,nl=void 0)),mo(c))return e(ut(c));var l=Il.length?0:Ie?250:0;n(244,nl={cancel:N}),cu(c,nl,l).then(e).catch((function(t){na(Ia,De.error=t,De)})).finally((function(){n(244,nl=void 0)}))}else e(void 0)}));wr(),wr=Ho(il,(function(t){return n(316,$e=t)}));var al=function(t){on&&$e&&(t&&$e.paused?$e.play().catch((function(){})):t||$e.paused||$e.pause())},cl=e.imagePreviewCurrent,ll=void 0===cl?void 0:cl,sl=Ru({});Xo(t,sl,(function(t){return n(331,Ze=t)}));var fl=Ru([]);Xo(t,fl,(function(t){return n(81,lr=t)}));var pl=Cu([lc,Fu,Ca,Yu,Ku,Uc,Va,Za,Xa,yc,$c,Uu],(function(t,e){var n=(0,w.default)(t,12),r=n[0],o=n[1],c=n[2],l=n[3],d=n[4],f=n[5],h=n[6],v=n[7],m=n[8],y=n[9],$=n[10],x=n[11];if(r&&d){var P=Xc(r,o,c,l,d,y,$,f,h,v,m);!x&&C(P),e(P)}}));Xo(t,pl,(function(t){return n(332,qe=t)}));var hl,vl,ml=Cu([Ka,Ja,Qa,tu,eu],(function(t,e){var n=(0,w.default)(t,5),r=n[0],o=n[1],c=n[2],l=n[3],d=n[4],f=r&&Object.keys(r).map((function(t){return r[t]})).filter(Boolean);e({gamma:c||void 0,vignette:l||void 0,noise:d||void 0,convolutionMatrix:o||void 0,colorMatrix:f&&f.length&&Oo(f)})})),gl=function(){if(!rr())return!1;var t=(navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/i)||[]).map((function(t){return parseInt(t,10)||0})),e=(0,w.default)(t,3),n=e[1],r=e[2];return n>13||13===n&&r>=4}(),bl=Ru({});Xo(t,bl,(function(t){return n(320,Re=t)}));var yl=zd(),$l=Su(yl,(function(t){var e=function(){return t(zd())},n=matchMedia("(resolution: ".concat(yl,"dppx)"));return n.addListener(e),function(){return n.removeListener(e)}}));Xo(t,$l,(function(t){return n(54,Cn=t)}));var xl=function(t,e){var n=jr(),sub=n.sub,r=n.pub,o=[],c=Ru(0),l=[],d=function(){return l.forEach((function(t){return t({index:Zo(c),length:o.length})}))},f={get index(){return Zo(c)},set index(i){i=Number.isInteger(i)?i:0,i=Zu(i,0,o.length-1),c.set(i),e(o[f.index]),d()},get state(){return o[o.length-1]},length:function(){return o.length},undo:function(){var t=f.index--;return r("undo",t),t},redo:function(){var t=f.index++;return r("redo",f.index),t},revert:function(){o.length=1,f.index=0,r("revert")},write:function(n){n&&e(z(z({},t()),n));var l=t(),h=o[o.length-1];JSON.stringify(l)!==JSON.stringify(h)&&(o.length=f.index+1,o.push(l),c.set(o.length-1),d(),r("writehistory"))},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.length=0,f.index=0;var e=Array.isArray(t)?t:[t];o.push.apply(o,(0,P.default)(e)),f.index=o.length-1},get:function(){return[].concat(o)},subscribe:function(t){return l.push(t),t({index:f.index,length:o.length}),function(){return l.splice(l.indexOf(t),1)}},on:sub};return f}((function(){return fn}),(function(t){na(au,fn=t,fn),zu.set(hn)}));Pr(),Pr=Ho(xl,(function(t){return n(338,ln=t)}));var wl=function(){var t=z({x:0,y:0},ce),e=pn(sn(t,fn.cropAspectRatio),Math.round),n=Pi(z(z({},fn),{},{rotation:0,crop:e}),fn),r=[n];JSON.stringify(n)!==JSON.stringify(fn)&&r.push(z({},fn)),xl.set(r)},Pl=Ia.subscribe((function(t){t&&t.complete&&wl()})),kl=function(){return fi().then((function(t){return t&&xl.revert()}))},Sl=Ru(!1);Xo(t,Sl,(function(t){return n(321,Me=t)}));var Cl=function(){na(Sl,Me=!0,Me),vi().then((function(t){var e;t?e=Jl.subscribe((function(t){1===t&&(e&&e(),Rr("processImage"))})):na(Sl,Me=!1,Me)}))},Tl=Aa.subscribe((function(t){if(t){na(Sl,Me=!0,Me);var e=t.complete,n=t.abort;(e||n)&&na(Sl,Me=!1,Me)}else na(Sl,Me=!1,Me)})),Il=Fp();Xo(t,Il,(function(t){return n(52,Ue=t)}));var Al=Cu([Il],(function(t,e){var n=(0,w.default)(t,1)[0];if(!n.length)return e();var r=n[0];e({origin:r.origin,translation:r.translation,rotation:r.rotation,scale:r.scale})})),El=Ru();Xo(t,El,(function(t){return n(335,rn=t)}));var Ll,Fl=[],zl=Ru(),Ol=Ru(),Bl=Cu([mc,Ol,pc,gc],(function(t){var e=(0,w.default)(t,4),n=e[0],r=e[1],o=e[2],c=e[3];return n||(r||o<1?c:1)})),Dl=z(z({},Ar),{},{imageFile:Ra,imageSize:Ca,mediaDuration:Ma,mediaTrim:Ta,imageBackgroundColor:qa,imageBackgroundImage:Ya,imageCropAspectRatio:Ea,imageCropMinSize:za,imageCropMaxSize:Oa,imageCropLimitToImage:La,imageCropRect:Fa,imageCropRectOrigin:Na,imageCropRectSnapshot:Xu,imageCropRectAspectRatio:Wa,imageCropRange:Ua,imageRotation:Va,imageRotationRange:Ga,imageFlipX:Za,imageFlipY:Xa,imageOutputSize:Ha,imageColorMatrix:Ka,imageConvolutionMatrix:Ja,imageGamma:Qa,imageVignette:tu,imageNoise:eu,imageDecoration:nu,imageAnnotation:ru,imageRedaction:iu,imageFrame:ou,imagePreview:il,imagePreviewSource:rl,imageTransforms:pl,imagePreviewModifiers:sl,history:xl,animation:ju,pixelRatio:$l,elasticityMultiplier:si,scrollElasticity:gh,rangeInputElasticity:5,redrawTrigger:pa,pointerAccuracy:Du,pointerHoverable:_u,env:bl,rootRect:Fu,stageRect:lc,stageRectBase:rc,stageRecenter:nc,stageScalar:pc,stagePadding:ac,stagePadded:uc,presentationScalar:Uc,imagePreviewUpscale:Ol,utilRect:Bu,utilRectPadded:cc,allowPan:bu,allowZoom:yu,allowZoomControls:$u,enableZoomInput:wu,enablePanInput:xu,enablePanInputStatus:Mu,imageSelectionMultiTouching:zl,rootBackgroundColor:Tu,rootForegroundColor:Iu,rootLineColor:Au,rootColorSecondary:Eu,imageOutlineOpacity:Vc,utilTools:El,imageSelectionPan:$c,imageSelectionZoom:mc,imageSelectionZoomCurrent:Bl,imageSelectionStageFitScalar:gc,imageSelectionStoredState:xc,muteAudioStore:fa,imageOverlayMarkup:Hc,interfaceImages:fl,isInteracting:Nu,isTransformingImage:Uu,isInteractingFraction:Wu,imageCropRectIntent:qu,imageCropRectPresentation:Yu,imageSelectionRect:Ku,imageSelectionRectIntent:Qu,imageSelectionRectPresentation:Pc,imageSelectionRectSnapshot:Ju,imageScalar:_c,imageTransformsInterpolated:Al,imageEffects:ml});delete Dl.image;var _l="util-".concat($t()),Ul=[],Nl=rr(),Wl=function(t,e){var n,r,o=(n=t,r=gt.getPropertyValue(n),Mp(r));o&&0!==o[3]&&(o.length=3,e.set(o,{hard:!Ie}))},jl=function(){Wl("color",Iu),Wl(Fo?"--color-background":"background-color",Tu),Wl("outline-color",Au),Wl("--color-secondary",Eu)},Vl=Cu([pl,ml,qa,vu],(function(t){var e=(0,w.default)(t,4),n=e[0],r=e[1],o=e[2],c=e[3];return n&&z(z(z({},n),r),{},{backgroundColor:o,backgroundImage:c})}));Xo(t,Vl,(function(t){return n(330,Ve=t)}));var Hl,Xl,Yl=function(){var t=Il.length?void 0:{resize:1.05},image=function(data,t){var e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.resize,o=void 0===r?1:r,c=n.opacity,l={opacity:[Zl(void 0===c?0:c,z(z({},Ep),{},{stiffness:.1})),zt],resize:[Zl(o,z(z({},Ep),{},{stiffness:.1})),zt],translation:[Zl(void 0,Ep),zt],rotation:[Zl(void 0,Lp),zt],origin:[Zl(void 0,Ep),zt],scale:[Zl(void 0,Lp),zt],gamma:[Zl(void 0,Lp),function(t){return t||1}],vignette:[Zl(void 0,Lp),function(t){return t||0}],colorMatrix:[Zl([].concat(Ap),Ep),function(t){return t||[].concat(Ap)}],convolutionMatrix:[Ru(void 0),function(t){return t&&t.clarity||void 0}],backgroundColor:[Zl(void 0,Ep),function(t,e,n){if(Array.isArray(t)){if(Array.isArray(e)){var r=(0,P.default)(t);0===e[3]?(r[3]=0,n(r)):0===r[3]&&((t=(0,P.default)(e))[3]=0)}return t}}],backgroundImage:[Ru(void 0),zt]},d=Object.entries(l).map((function(t){var e=(0,w.default)(t,2);return[e[0],e[1][0]]})),f=d.map((function(t){return(0,w.default)(t,2)[1]})),h=Object.entries(l).reduce((function(t,n){var r=(0,w.default)(n,2),o=r[0],c=r[1],l=(0,w.default)(c,2),d=l[0],f=l[1];return t[o]=function(t,n){return d.set(f(t,e[o],(function(t){d.set(t,{hard:!0})})),n)},t}),{}),v=Cu(f,(function(n){return(e=n.reduce((function(t,e,n){return t[d[n][0]]=e,t}),{})).data=data,e.size=t,e.scale*=n[1],e}));return v.get=function(){return e},v.set=function(t,animate){var e={hard:!animate};Object.entries(t).forEach((function(t){var n=(0,w.default)(t,2),r=n[0],o=n[1];h[r]&&h[r](o,e)}))},v}($e,ce,t);Il.unshift(image),Kl(Ve)},Kl=function(t){Il.forEach((function(image,e){var n=0===e?1:0;image.set(z(z({},t),{},{opacity:n,resize:1}),He)}))},Jl=Gl(void 0,{duration:500});Xo(t,Jl,(function(t){return n(51,Fe=t)}));var Ql,ts=Ru(!1);Xo(t,ts,(function(t){return n(325,ze=t)}));var es=Zl(void 0,{stiffness:.1,damping:.7,precision:.25});Xo(t,es,(function(t){return n(77,or=t)}));var ns=Zl(0,{stiffness:.1,precision:.05});Xo(t,ns,(function(t){return n(78,ar=t)}));var rs=Zl(0,{stiffness:.02,damping:.5,precision:.25});Xo(t,rs,(function(t){return n(323,Ee=t)}));var is=Zl(void 0,{stiffness:.02,damping:.5,precision:.25});Xo(t,is,(function(t){return n(324,Le=t)}));var os,as=Zl(void 0,{stiffness:.02,damping:.5,precision:.25});Xo(t,as,(function(t){return n(322,Ae=t)}));var us=function(){Rr("abortLoadImage")},cs=function(){Rr("abortProcessImage"),na(Sl,Me=!1,Me)},ls=function(t){return t.preventDefault()},ss=gl?function(t){var e=t.touches?t.touches[0]:t;e.pageX>20&&e.pageX<window.innerWidth-20||ls(t)}:N,fs=Ru([]);Xo(t,fs,(function(t){return n(400,ke=t)})),_a("keysPressed",fs);var ps,hs=function(t){!t||Lr(t)&&!function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)}(t)||!Lr(t)&&!/^http/.test(t)||Rr("loadImage",t)},ms=function(t){t&&hs(t)},gs=void 0,bs=[],ys=Ru();_a("rootPortal",ys),_a("rootRect",Fu);var $s,xs=function(){return{foregroundColor:(0,P.default)(ye),lineColor:(0,P.default)(be),utilVisibility:z({},O),isInteracting:ge,isInteractingFraction:me,rootRect:Ne(ve),stageRect:Ne(he),annotationShapesDirty:Ls,decorationShapesDirty:zs,frameShapesDirty:Os,blendShapesDirty:Bs}},ws=function(t,e,n){return oo(t,Te(e.width/n,e.height/n))},Ps=function(t,e,n){return t._translate=ee(e),t._scale=n,t},ks=function(t){var e=[];return t.forEach((function(t){return e.push(Ss(t))})),e.filter(Boolean)},Ss=function(t){return Ri(t)?(t.points=[te(t.x1,t.y1),te(t.x2,t.y2)],t):(!function(t){return xi(t)&&!t.text.length}(t)||t.backgroundColor&&0!==t.backgroundColor[3]||(wi(t)&&(t.width=5,t.height=t.lineHeight),t.strokeWidth=1,t.strokeColor=[1,1,1,.5],t.backgroundColor=[0,0,0,.1]),t)},Rs=[],Cs=[],Ms=[],Ts=[],Is=[],As={},Es=function(t,e,n,r,o,c){var d=t.annotationShapesDirty,f=t.decorationShapesDirty,h=t.frameShapesDirty,v=t.blendShapesDirty,m=t.selectionRect,y=t.scale,$=$s!==y,x=$||!en(As,m);x&&($s=y,As=m),(d||n!==pe)&&(Rs=n.filter(Ti).map(hi).sort((function(a,b){return a.alwaysOnTop?1:b.alwaysOnTop?-1:0})).map((function(t){return oo(t,ce)}))),($||Fs||d||n!==pe)&&(Cs=ks(Rs.map((function(t){return l(t,{flipX:de,flipY:le,rotation:fe,scale:y,context:je(ce)})})).flat())),v&&(Ms=e.filter(Ti).map((function(t){return oo(t,ce)}))),(f||r!==ue||x)&&(Ts=ks(r.filter(Ti).map(hi).sort((function(a,b){return a.alwaysOnTop?1:b.alwaysOnTop?-1:0})).map((function(t){return ws(t,m,y)})).map((function(t){return l(t,{context:m})})).flat().map((function(t){return Ps(t,m,y)})))),(h||c!==ae||x)&&(Is=c?ks([c].map(hi).map((function(t){return ws(t,m,y)})).map(l).flat().map((function(t){return Ps(t,m,y)}))):[]);var w=ks(o.filter(Ti));return{blendShapesDirty:v,blendShapes:Ms,annotationShapesDirty:d,annotationShapes:Cs,decorationShapesDirty:f,decorationShapes:Ts,frameShapesDirty:h,frameShapes:Is,interfaceShapes:w}},Ls=!0,Fs=!0,zs=!0,Os=!0,Bs=!0;Ba((function(){al(!1),mu(),Fc(),Lc(),zc(),Oc(),Bc(),Dc(),Pl(),Tl(),Du.destroy(),_u.destroy(),ka.destroy(),Il.clear(),Rs.length=0,Cs.length=0,Ms.length=0,Ts.length=0,Is.length=0;try{n(203,ll=void 0),n(245,Hl=void 0)}catch(t){}}));return t.$$set=function(t){"class"in t&&n(204,Mr=t.class),"layout"in t&&n(205,Ir=t.layout),"stores"in t&&n(206,Ar=t.stores),"locale"in t&&n(3,Fr=t.locale),"id"in t&&n(4,Or=t.id),"util"in t&&n(207,Dr=t.util),"utils"in t&&n(208,Ur=t.utils),"animations"in t&&n(209,Wr=t.animations),"disabled"in t&&n(210,Gr=t.disabled),"status"in t&&n(202,Zr=t.status),"previewUpscale"in t&&n(211,qr=t.previewUpscale),"previewPad"in t&&n(212,Kr=t.previewPad),"previewMaskOpacity"in t&&n(5,Qr=t.previewMaskOpacity),"previewImageDataMaxSize"in t&&n(213,ei=t.previewImageDataMaxSize),"previewImageTextPixelRatio"in t&&n(6,ri=t.previewImageTextPixelRatio),"markupMaskOpacity"in t&&n(7,oi=t.markupMaskOpacity),"zoomMaskOpacity"in t&&n(214,ui=t.zoomMaskOpacity),"elasticityMultiplier"in t&&n(8,si=t.elasticityMultiplier),"willRevert"in t&&n(215,fi=t.willRevert),"willProcessImage"in t&&n(216,vi=t.willProcessImage),"willRenderCanvas"in t&&n(9,gi=t.willRenderCanvas),"willRenderToolbar"in t&&n(217,yi=t.willRenderToolbar),"willSetHistoryInitialState"in t&&n(218,Pi=t.willSetHistoryInitialState),"enableButtonExport"in t&&n(219,Si=t.enableButtonExport),"enableButtonRevert"in t&&n(220,Mi=t.enableButtonRevert),"enableNavigateHistory"in t&&n(221,Ai=t.enableNavigateHistory),"enableToolbar"in t&&n(10,Li=t.enableToolbar),"enableUtils"in t&&n(222,zi=t.enableUtils),"enableButtonClose"in t&&n(223,Bi=t.enableButtonClose),"enableDropImage"in t&&n(224,_i=t.enableDropImage),"enablePasteImage"in t&&n(225,Ni=t.enablePasteImage),"enableBrowseImage"in t&&n(226,ji=t.enableBrowseImage),"layoutDirectionPreference"in t&&n(227,Gi=t.layoutDirectionPreference),"layoutHorizontalUtilsPreference"in t&&n(228,Zi=t.layoutHorizontalUtilsPreference),"layoutVerticalUtilsPreference"in t&&n(229,qi=t.layoutVerticalUtilsPreference),"layoutVerticalToolbarPreference"in t&&n(230,Ki=t.layoutVerticalToolbarPreference),"layoutVerticalControlGroupsPreference"in t&&n(231,Qi=t.layoutVerticalControlGroupsPreference),"layoutVerticalControlTabsPreference"in t&&n(232,eo=t.layoutVerticalControlTabsPreference),"markupEditorZoomLevel"in t&&n(233,ro=t.markupEditorZoomLevel),"markupEditorZoomLevels"in t&&n(11,ao=t.markupEditorZoomLevels),"markupEditorZoomAdjustStep"in t&&n(12,co=t.markupEditorZoomAdjustStep),"markupEditorZoomAdjustFactor"in t&&n(13,po=t.markupEditorZoomAdjustFactor),"markupEditorZoomAdjustWheelFactor"in t&&n(14,vo=t.markupEditorZoomAdjustWheelFactor),"markupEditorInteractionMode"in t&&n(234,bo=t.markupEditorInteractionMode),"muteAudio"in t&&n(235,$o=t.muteAudio),"willSetMediaInitialTimeOffset"in t&&n(236,wo=t.willSetMediaInitialTimeOffset),"enablePan"in t&&n(15,ko=t.enablePan),"enableZoom"in t&&n(16,Ro=t.enableZoom),"enableZoomControls"in t&&n(237,Mo=t.enableZoomControls),"enableZoomInput"in t&&n(17,Io=t.enableZoomInput),"enablePanInput"in t&&n(238,Eo=t.enablePanInput),"enableCanvasAlpha"in t&&n(18,Fo=t.enableCanvasAlpha),"enablePanLimit"in t&&n(19,_o=t.enablePanLimit),"panLimitGutterScalar"in t&&n(20,No=t.panLimitGutterScalar),"zoomPresetOptions"in t&&n(21,jo=t.zoomPresetOptions),"zoomAdjustStep"in t&&n(22,Go=t.zoomAdjustStep),"zoomAdjustFactor"in t&&n(23,Yo=t.zoomAdjustFactor),"zoomAdjustWheelFactor"in t&&n(24,Jo=t.zoomAdjustWheelFactor),"zoomLevel"in t&&n(0,ta=t.zoomLevel),"imagePreviewSrc"in t&&n(239,ra=t.imagePreviewSrc),"imageOrienter"in t&&n(240,oa=t.imageOrienter),"pluginComponents"in t&&n(241,ua=t.pluginComponents),"pluginOptions"in t&&n(25,la=t.pluginOptions),"root"in t&&n(2,da=t.root),"imageSourceToImageData"in t&&n(26,Pa=t.imageSourceToImageData),"imagePreviewCurrent"in t&&n(203,ll=t.imagePreviewCurrent)},t.$$.update=function(){if(1&t.$$.dirty[0]|65536&t.$$.dirty[7]&&n(0,ta=null===ta?ro:ta),262144&t.$$.dirty[7]&&fa.set($o),256&t.$$.dirty[0]&&na(ha,ir=si,ir),524288&t.$$.dirty[6]&&n(305,r="overlay"===Ir),32&t.$$.dirty[7]|67108864&t.$$.dirty[9]&&n(42,o=zi&&!r),33554434&t.$$.dirty[0]&&la&&Object.entries(la).forEach((function(t){var e=(0,w.default)(t,2),r=e[0],o=e[1];Object.entries(o).forEach((function(t){var e=(0,w.default)(t,2),o=e[0],c=e[1];sa[r]&&n(1,sa[r][o]=c,sa)}))})),2&t.$$.dirty[0]|16777216&t.$$.dirty[7]){var e=!1;ua.forEach((function(t){var r=(0,w.default)(t,1)[0];sa[r]||(n(1,sa[r]={},sa),e=!0)})),e&&n(243,va=(0,P.default)(ua))}var C,K,at,rect,ut;if(16777216&t.$$.dirty[6]&&ma.set(Gr?1:0),134217728&t.$$.dirty[6]&&(c=ei?function(a,b){return Te(Math.min(a.width,b.width),Math.min(a.height,b.height))}(ei,$a):$a),32768&t.$$.dirty[11]&&ka.update(Qn[0]),16384&t.$$.dirty[11]&&(l=Jn?function(t,e){return Jn(t,z(z({flipX:void 0,flipY:void 0,rotation:void 0},e),{},{isPreview:!0}))}:zt),1048576&t.$$.dirty[7]|8192&t.$$.dirty[11]&&Pu.set(Kn&&Mo),2228224&t.$$.dirty[7]&&ku.set("pan"===bo||Eo),131072&t.$$.dirty[1]&&Se&&Fu.set(Xe(Se.x,Se.y,Se.width,Se.height)),67108864&t.$$.dirty[9]|262160&t.$$.dirty[10]&&ve&&r&&De&&De.complete&&(C=Zn,K=nn(ve),C&&C===K||(Ea.set(nn(ve)),wl())),8&t.$$.dirty[0]|4194304&t.$$.dirty[6]|67108864&t.$$.dirty[7]&&n(295,I=Fr&&va.length?Ur||va.map((function(t){return(0,w.default)(t,1)[0]})):[]),65536&t.$$.dirty[9]&&n(43,U=I.length>1),4096&t.$$.dirty[1]&&(U||zu.set(We())),1024&t.$$.dirty[0]&&(Li||Ou.set(We())),268435456&t.$$.dirty[9]|32&t.$$.dirty[10]&&n(308,f=!ge&&d),4096&t.$$.dirty[11]&&n(306,h=!Hn),8388608&t.$$.dirty[6]|671088640&t.$$.dirty[9]&&na(ju,He="always"===Wr?f:"never"!==Wr&&(f&&h),He),8388608&t.$$.dirty[6]|402653184&t.$$.dirty[9]&&na(Vu,Ie="always"===Wr?d:"never"!==Wr&&(d&&h),Ie),33554432&t.$$.dirty[6]|67108864&t.$$.dirty[9]&&Gu.set(qr||r),67108864&t.$$.dirty[6]&&oc.set(Kr),4&t.$$.dirty[0]|2048&t.$$.dirty[11]&&da&&(da.dispatchEvent(bp("markupzoom",Gn)),da.dispatchEvent(bp("zoom",Gn))),4&t.$$.dirty[0]|1024&t.$$.dirty[11]&&da&&(da.dispatchEvent(bp("markuppan",Wn)),da.dispatchEvent(bp("pan",Wn))),256&t.$$.dirty[11]&&Ln&&wc(),512&t.$$.dirty[11]&&Fn&&Sc(),67108864&t.$$.dirty[7]|65536&t.$$.dirty[9]|67108864&t.$$.dirty[10]&&n(296,A=va.filter((function(t){var e=(0,w.default)(t,1)[0];return I.includes(e)})).filter((function(t){return(0,(0,w.default)(t,2)[1].isSupported)({duration:on})})).map((function(t){var e=(0,w.default)(t,2);return[e[0],e[1].Component]}))),131072&t.$$.dirty[9]&&n(251,E=A.length),2097152&t.$$.dirty[6]|8&t.$$.dirty[8]|131072&t.$$.dirty[9]&&n(41,F=Dr&&"string"==typeof Dr&&A.find((function(t){return(0,w.default)(t,1)[0]===Dr}))?Dr:E>0?A[0][0]:void 0),525312&t.$$.dirty[1]&&F&&Vc.set(.075,{hard:!Ie}),268435456&t.$$.dirty[6]&&n(303,v=ui),192&t.$$.dirty[11]&&n(304,m=In?-Math.max.apply(Math,(0,P.default)(Object.values(Tn))):0),17301504&t.$$.dirty[1]|50331648&t.$$.dirty[9]|8&t.$$.dirty[10]&&Mn){var $t=Mn.x-he.x,Yt=he.x+he.width-(Mn.x+Mn.width),ee=Mn.y-he.y,b=he.y+he.height-(Mn.y+Mn.height),re=Math.min($t,ee,Yt,b);qc.set(re>m?0:Math.min(v,Math.abs(re/64)),{hard:!Ie})}if(8388608&t.$$.dirty[1]&&n(302,y=.55/Cn),524288&t.$$.dirty[1]|8388608&t.$$.dirty[9]|8&t.$$.dirty[10]&&he&&Yc.set({x:0,y:he.y,width:he.x<64?0:he.x,height:he.height+y},{hard:!Ie}),524288&t.$$.dirty[1]|8388608&t.$$.dirty[9]|24&t.$$.dirty[10]&&he&&Kc.set({x:0,y:0,width:ve.width,height:he.y+y},{hard:!Ie}),524288&t.$$.dirty[1]|8388608&t.$$.dirty[9]|24&t.$$.dirty[10]&&he){var oe=he.x+he.width,ae=ve.width-(he.x+he.width);ae<64&&(oe+=ae,ae=0),Qc.set({x:oe,y:he.y,width:ae,height:he.height+y},{hard:!Ie})}if(524288&t.$$.dirty[1]|24&t.$$.dirty[10]&&he&&tl.set({x:0,y:he.y+he.height,width:ve.width,height:ve.height-(he.y+he.height)},{hard:!Ie}),4194304&t.$$.dirty[1]|36&t.$$.dirty[11]&&n(298,$=kn&&z({id:mh,backgroundColor:xn,opacity:$n},kn)),4194304&t.$$.dirty[1]|20&t.$$.dirty[11]&&n(301,x=Pn&&z({id:mh,backgroundColor:xn,opacity:$n},Pn)),4194304&t.$$.dirty[1]|12&t.$$.dirty[11]&&n(300,k=wn&&z({id:mh,backgroundColor:xn,opacity:$n},wn)),4194304&t.$$.dirty[1]|6&t.$$.dirty[11]&&n(299,S=yn&&z({id:mh,backgroundColor:xn,opacity:$n},yn)),7864320&t.$$.dirty[9]&&n(297,R=[x,k,S,$].filter(Boolean)),262144&t.$$.dirty[9]|1&t.$$.dirty[11]&&R&&bn){var ue=bn.filter((function(t){return t.id!==mh}));Hc.set([].concat((0,P.default)(ue),(0,P.default)(R)))}if(4194304&t.$$.dirty[7]|1073741824&t.$$.dirty[10]&&rl.set(ra||(gn||void 0)),536870976&t.$$.dirty[10]&&$e&&(at=mn,on&&$e&&($e.muted=at)),4&t.$$.dirty[0]|131072&t.$$.dirty[6]|64&t.$$.dirty[10]&&(n(203,ll=$e),$e&&da.dispatchEvent(bp("loadpreview",ll))),524288&t.$$.dirty[10]&&_e&&($c.set(Qt()),mc.set(void 0),wc(),fl.set([])),268435456&t.$$.dirty[10]&&n(256,M=ln.index>0),268435456&t.$$.dirty[10]&&n(255,T=ln.index<ln.length-1),2&t.$$.dirty[1]&&zl.set(Ll),134217728&t.$$.dirty[10]&&Ol.set(cn),8&t.$$.dirty[0]|196608&t.$$.dirty[9]&&n(44,L=I.map((function(t){var e=A.find((function(e){var n=(0,w.default)(e,1)[0];return t===n}));if(e)return{id:t,view:e[1],tabIcon:Fr["".concat(t,"Icon")],tabLabel:Fr["".concat(t,"Label")]}})).filter(Boolean)||[]),1024&t.$$.dirty[1]&&gu.set(F),8224&t.$$.dirty[1]&&n(36,O=L.reduce((function(t,e){return t[e.id]=O&&O[e.id]||0,t}),{})),1024&t.$$.dirty[1]&&n(74,B={name:_l,selected:F}),8192&t.$$.dirty[1]&&n(73,D=L.map((function(t){return{id:t.id,icon:t.tabIcon,label:t.tabLabel}}))),8192&t.$$.dirty[1]&&n(72,_=L.map((function(t){return t.id}))),262144&t.$$.dirty[6]&&n(71,W=vs(["PinturaRoot","PinturaRootComponent",Mr])),16&t.$$.dirty[10]&&n(291,j=ve&&(ve.width>1e3?"wide":ve.width<600?"narrow":void 0)),16&t.$$.dirty[10]&&n(278,V=ve&&(ve.width<=320||ve.height<=460)),16&t.$$.dirty[10]&&n(290,G=ve&&(ve.height>1e3?"tall":ve.height<600?"short":void 0)),4&t.$$.dirty[0]&&n(258,H=da&&da.parentNode&&da.parentNode.classList.contains("PinturaModal")),536870912&t.$$.dirty[0]|1024&t.$$.dirty[8]|16&t.$$.dirty[10]&&n(283,Z=H&&ve&&hl>ve.width),1073741824&t.$$.dirty[0]|1024&t.$$.dirty[8]|16&t.$$.dirty[10]&&n(282,X=H&&ve&&vl>ve.height),24&t.$$.dirty[9]&&n(284,Y=Z&&X),262144&t.$$.dirty[0]&&n(281,J=Fo),4096&t.$$.dirty[9]&&n(253,Q="narrow"===j),1024&t.$$.dirty[7]|16&t.$$.dirty[10]&&n(292,(rect=ve,ut=Gi,tt=ve?"auto"===ut?rect.width>rect.height?"landscape":"portrait":"horizontal"===ut?rect.width<500?"portrait":"landscape":"vertical"===ut?rect.height<400?"landscape":"portrait":void 0:"landscape")),8192&t.$$.dirty[9]&&n(70,nt="landscape"===tt),32&t.$$.dirty[8]|2048&t.$$.dirty[9]&&n(280,it=Q||"short"===G),536870912&t.$$.dirty[0]|16&t.$$.dirty[10]&&n(279,ot=Nl&&ve&&hl===ve.width&&!gl),1&t.$$.dirty[1]|33554432&t.$$.dirty[10]&&n(254,ct=[].concat((0,P.default)(rn||[]),(0,P.default)(Fl)).filter(Boolean)),2048&t.$$.dirty[7]&&n(289,lt="has-navigation-preference-".concat(Zi)),4096&t.$$.dirty[7]&&n(288,st="has-navigation-preference-".concat(qi)),8192&t.$$.dirty[7]&&n(285,ft="has-toolbar-preference-".concat(Ki)),16384&t.$$.dirty[7]&&n(287,pt="has-controlgroups-preference-".concat(Qi)),32768&t.$$.dirty[7]&&n(286,vt="has-controltabs-preference-".concat(eo)),16&t.$$.dirty[10]&&n(294,mt=void 0!==ve&&ve.width>0&&ve.height>0),4&t.$$.dirty[0]|32768&t.$$.dirty[9]&&n(293,gt=mt&&da&&getComputedStyle(da)),16384&t.$$.dirty[9]&&gt&&jl(),1024&t.$$.dirty[0]|530432&t.$$.dirty[1]|17301504&t.$$.dirty[6]|1073742848&t.$$.dirty[8]|16383&t.$$.dirty[9]|25166848&t.$$.dirty[10]&&bl.set(z(z({},Re),{},{layoutMode:Ir,orientation:tt,horizontalSpace:j,verticalSpace:G,navigationHorizontalPreference:lt,navigationVerticalPreference:st,controlGroupsVerticalPreference:pt,controlTabsVerticalpreference:vt,toolbarVerticalPreference:ft,isModal:H,isDisabled:Gr,isCentered:Y,isCenteredHorizontally:Z,isCenteredVertically:X,isAnimated:Ie,isTransparent:J,pointerAccuracy:Qe,pointerHoverable:Je,isCompact:it,hasSwipeNavigation:ot,hasLimitedSpace:V,hasToolbar:Li,hasNavigation:U&&o,isIOS:Nl,browserVersion:wp()?"chrome-".concat((navigator.userAgent.match(/Chrome\/([0-9]+)/)||[])[1]):void 0})),1024&t.$$.dirty[10]&&n(69,bt=Object.entries(Re).map((function(t){var e=(0,w.default)(t,2),n=e[0],r=e[1];return/^is|has/.test(n)?r?$p(n):void 0:r})).filter(Boolean).join(" ")),1024&t.$$.dirty[1]&&F&&El.set([]),6291456&t.$$.dirty[10]&&n(68,yt=qe&&Object.entries(Ze).filter((function(t){return null!=(0,w.default)(t,2)[1]})).reduce((function(t,e){var n=(0,w.default)(e,2)[1];return t=z(z({},t),n)}),{})),262144&t.$$.dirty[10]&&n(275,kt=De&&"any-to-file"===De.task),134217728&t.$$.dirty[8]&&kt&&Il&&Il.clear(),1048576&t.$$.dirty[10]&&n(277,xt=!!Ve&&!!Ve.translation),268435456&t.$$.dirty[7]|536870912&t.$$.dirty[8]|64&t.$$.dirty[10]&&xt&&$e&&$e!==Hl&&(n(245,Hl=$e),Yl()),536870912&t.$$.dirty[8]|1048576&t.$$.dirty[10]&&xt&&Kl(Ve),2097152&t.$$.dirty[1]&&Ue&&Ue.length>1){var le=[];Il.forEach((function(image,t){0!==t&&image.get().opacity<=0&&le.push(image)})),le.forEach((function(image){return Il.remove(image)}))}if(8&t.$$.dirty[0]|268435456&t.$$.dirty[8]&&n(38,Pt=Fr&&wt.length&&Fr.labelSupportError(wt)),262144&t.$$.dirty[10]&&n(267,St=De&&!!De.error),262144&t.$$.dirty[10]&&n(40,Rt=!De||!De.complete&&void 0===De.task),262144&t.$$.dirty[10]&&n(268,Ct=De&&(De.taskLengthComputable?De.taskProgress:1/0)),134217728&t.$$.dirty[8]&&kt&&na(el,Oe=!1,Oe),524288&t.$$.dirty[1]|536870912&t.$$.dirty[7]|262144&t.$$.dirty[10]&&De&&De.complete){var se=Ie?250:0;clearTimeout(Xl),n(246,Xl=setTimeout((function(){na(el,Oe=!0,Oe)}),se))}if(512&t.$$.dirty[1]|524288&t.$$.dirty[8]|327680&t.$$.dirty[10]&&n(272,Mt=De&&!St&&!Rt&&!Oe),134217728&t.$$.dirty[7]|524352&t.$$.dirty[10]&&n(271,Tt=!(!_e||$e&&!nl)),133120&t.$$.dirty[10]&&n(266,It=!!(Me||Be&&void 0!==Be.progress&&!Be.complete)),262144&t.$$.dirty[8]&&It&&al(!1),512&t.$$.dirty[1]|262144&t.$$.dirty[10]&&n(269,At=De&&!(De.error||Rt)),8&t.$$.dirty[0]|262144&t.$$.dirty[10]&&n(270,Et=Fr&&(De?!De.complete||De.error?Jc(Fr.statusLabelLoadImage(De),De.error&&De.error.metadata,"{","}"):Fr.statusLabelLoadImage({progress:1/0,task:"blob-to-bitmap"}):Fr.statusLabelLoadImage(De))),8&t.$$.dirty[0]|131072&t.$$.dirty[10]&&n(265,Lt=Be&&Fr&&Fr.statusLabelProcessImage(Be)),131072&t.$$.dirty[10]&&n(263,Ft=Be&&(Be.taskLengthComputable?Be.taskProgress:1/0)),131072&t.$$.dirty[10]&&n(264,Ot=Be&&!Be.error),131072&t.$$.dirty[10]&&n(262,Bt=!(!Be||!Be.error)),8&t.$$.dirty[0]|512&t.$$.dirty[1]|65536&t.$$.dirty[6]|33538048&t.$$.dirty[8])if(Zr){var label,progress,de,fe,pe;if(ht(Zr)&&(label=Zr),kr(Zr))progress=Zr;else if(Array.isArray(Zr)){var me=Zr,be=(0,w.default)(me,3);label=be[0],progress=be[1],pe=be[2],!1===progress&&(fe=!0),kr(progress)&&(de=!0)}n(33,Ql=(label||progress)&&{text:label,aside:fe||de,progressIndicator:{visible:de,progress:progress},closeButton:fe&&{label:Fr.statusLabelButtonClose,icon:Fr.statusIconButtonClose,onclick:pe||function(){return n(202,Zr=void 0)}}})}else n(33,Ql=Fr&&Rt||St||Mt||Tt?{text:Et,aside:St||At,progressIndicator:{visible:At,progress:Ct},closeButton:St&&{label:Fr.statusLabelButtonClose,icon:Fr.statusIconButtonClose,onclick:us}}:Fr&&It&&Lt?{text:Lt,aside:Bt||Ot,progressIndicator:{visible:Ot,progress:Ft},closeButton:Bt&&{label:Fr.statusLabelButtonClose,icon:Fr.statusIconButtonClose,onclick:cs}}:void 0);if(65536&t.$$.dirty[6]&&n(274,Dt=void 0!==Zr),524288&t.$$.dirty[1]|1024&t.$$.dirty[8]|131072&t.$$.dirty[10]&&H&&Be&&Be.complete&&(ts.set(!0),setTimeout((function(){return ts.set(!1)}),Ie?100:0)),4&t.$$.dirty[0]|1024&t.$$.dirty[1]|65536&t.$$.dirty[10]&&Oe&&da&&da.dispatchEvent(bp("selectutil",F)),640&t.$$.dirty[1]|93061120&t.$$.dirty[8]|32768&t.$$.dirty[10]&&n(273,_t=ze||Pt||Rt||St||Mt||Tt||It||Dt),33554432&t.$$.dirty[8]&&na(Jl,Fe=_t?1:0,Fe),524288&t.$$.dirty[1]|33554432&t.$$.dirty[8]&&Jl.set(_t?1:0,{duration:Ie?500:1}),1048576&t.$$.dirty[1]&&n(39,Ut=Fe>0),4&t.$$.dirty[1]&&n(261,Nt=!(!Ql||!Ql.aside)),524548&t.$$.dirty[1]|1073741824&t.$$.dirty[7]|8192&t.$$.dirty[8]|16384&t.$$.dirty[10]&&Ut&&Ql){clearTimeout(os);var ye={hard:!1===Ie};if(Nt){var ke=!!Ql.error||!Ie;ns.set(1,ye),es.set(Le,{hard:ke}),n(247,os=setTimeout((function(){rs.set(16,ye)}),1))}else ns.set(0,ye),n(247,os=setTimeout((function(){rs.set(0,ye)}),1))}if(256&t.$$.dirty[1]&&(Ut||(as.set(void 0,{hard:!0}),es.set(void 0,{hard:!0}),rs.set(0,{hard:!0}))),8192&t.$$.dirty[10]&&n(260,Wt=.5*Ee),4096&t.$$.dirty[8]|4096&t.$$.dirty[10]&&n(67,jt="transform: translateX(".concat(Ae-Wt,"px)")),128&t.$$.dirty[1]|64&t.$$.dirty[10]&&n(37,ie=$e&&!Pt),64&t.$$.dirty[1]|3072&t.$$.dirty[8]&&n(257,Gt=Vt&&(ie||H)?ls:N),512&t.$$.dirty[8]&&n(66,Ht=Gt),512&t.$$.dirty[8]&&n(65,Zt=Gt),8&t.$$.dirty[0]|262144&t.$$.dirty[1]|93&t.$$.dirty[7]|480&t.$$.dirty[8]|1024&t.$$.dirty[10]&&n(64,Xt=Fr&&Ce&&Bp((function(){return yi([["div","alpha",{class:"PinturaNavGroup"},[["div","alpha-set",{class:"PinturaNavSet"},[Bi&&["Button","close",{label:Fr.labelClose,icon:Fr.iconButtonClose,onclick:function(){return Rr("close")},hideLabel:!0}],Mi&&["Button","revert",{label:Fr.labelButtonRevert,icon:Fr.iconButtonRevert,disabled:!M,onclick:kl,hideLabel:!0}]]]]],["div","beta",{class:"PinturaNavGroup PinturaNavGroupFloat"},[Ai&&["div","history",{class:"PinturaNavSet"},[["Button","undo",{label:Fr.labelButtonUndo,icon:Fr.iconButtonUndo,disabled:!M,onclick:xl.undo,hideLabel:!0}],["Button","redo",{label:Fr.labelButtonRedo,icon:Fr.iconButtonRedo,disabled:!T,onclick:xl.redo,hideLabel:!0}]]],ct.length&&["div","plugin-tools",{class:"PinturaNavSet"},ct.filter(Boolean).map((function(t){var e=(0,w.default)(t,3);return[e[0],e[1],z({},e[2])]}))]]],["div","gamma",{class:"PinturaNavGroup"},[Si&&["Button","export",{label:Fr.labelButtonExport,icon:Q&&Fr.iconButtonExport,class:"PinturaButtonExport",onclick:Cl,hideLabel:Q}]]]],z({},Re),(function(){return pa.set({})}))}))),131072&t.$$.dirty[1]&&n(252,qt=Se&&Se.width>0&&Se.height>0),8&t.$$.dirty[0]|24&t.$$.dirty[8]&&n(63,Kt=qt&&Fr&&E),128&t.$$.dirty[10]&&n(250,Jt=xe&&!!xe.length),4&t.$$.dirty[8]|1073741824&t.$$.dirty[9]|128&t.$$.dirty[10]&&n(249,ne=Jt&&Bo(ce,xe)),6&t.$$.dirty[8]|832&t.$$.dirty[10]&&Jt&&function(t,e,r,o){if(e){var c={dataSizeScalar:r};o&&o[3]>0&&(c.backgroundColor=(0,P.default)(o)),e(t,c).then((function(t){gs&&et(gs),n(248,gs=t)}))}}($e,Pe,ne,we),1&t.$$.dirty[8]|1073741824&t.$$.dirty[9]|128&t.$$.dirty[10]&&xe&&gs&&ce){var je=ce,Ge=je.width,Ye=je.height;n(34,bs=xe.map((function(t){var rect=Xe(t.x,t.y,t.width,t.height),e=an(Ne(rect),t.rotation).map((function(t){return te(t.x/Ge,t.y/Ye)}));return z(z({},t),{},{id:"redaction",flipX:!1,flipY:!1,cornerRadius:0,strokeWidth:0,strokeColor:void 0,backgroundColor:[0,0,0],backgroundImage:gs,backgroundImageRendering:"pixelated",backgroundCorners:e})})))}16&t.$$.dirty[1]&&ps&&ys.set(ps),4&t.$$.dirty[0]|64&t.$$.dirty[1]&&ie&&da.dispatchEvent(bp("ready")),65536&t.$$.dirty[1]&&n(57,Ls=!0),1073741824&t.$$.dirty[9]|7&t.$$.dirty[10]&&n(58,Fs=!0),32768&t.$$.dirty[1]&&n(59,zs=!0),16384&t.$$.dirty[1]&&n(60,Os=!0),8&t.$$.dirty[1]&&n(61,Bs=!0)},n(307,d=!ds()),C=1===zd()?function(t){t&&(se(t.origin,Math.round),se(t.translation,Math.round))}:zt,n(276,wt=[!Ip()&&"WebGL"].filter(Boolean)),n(259,Vt=rr()||at()&&Ml()),n(62,re=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){"ping"===n.type&&(e&&n.stopPropagation(),t(n.detail.type,n.detail.data))}}(Sr.pub)),[ta,sa,da,Fr,Or,Qr,ri,oi,si,gi,Li,ao,co,po,vo,ko,Ro,Io,Fo,_o,No,jo,Go,Yo,Jo,la,Pa,il,xl,hl,vl,Fl,Ll,Ql,bs,ps,O,ie,Pt,Ut,Rt,F,o,U,L,ae,ue,pe,Se,Ce,Ie,Fe,Ue,xn,Cn,Mn,Ul,Ls,Fs,zs,Os,Bs,re,Kt,Xt,Zt,Ht,jt,yt,bt,nt,W,_,D,B,hn,nr,or,ar,ur,cr,lr,sr,dr,fr,pr,vr,mr,gr,yr,$r,xr,fa,pa,ha,ma,Ra,Ca,Ma,Ta,Ia,Aa,Ea,La,Fa,Va,Za,Xa,qa,nu,ru,iu,ou,au,su,du,fu,pu,hu,bu,yu,$u,xu,wu,Pu,ku,Mu,Tu,Iu,Au,Lu,Fu,zu,Ou,Bu,Du,_u,Nu,Wu,ju,Vu,Gu,Hu,Xu,qu,Ku,Ju,Qu,tc,ac,uc,lc,dc,pc,mc,bc,yc,$c,Pc,kc,Rc,Uc,Hc,Zc,qc,Yc,Kc,Qc,tl,el,rl,sl,fl,pl,bl,$l,Sl,Il,El,Dl,function(t){var e=t.target,n=t.propertyName;e===da&&/background|outline/.test(n)&&gt&&jl()},Vl,Jl,ts,es,ns,rs,is,as,function(t){var e=!(!Ql||!Ql.closeButton)||!Ie;is.set(t.detail.width,{hard:e}),as.set(Math.round(.5*-t.detail.width),{hard:e})},ss,fs,function(t){var e=t.keyCode,n=t.metaKey,r=t.ctrlKey,o=t.shiftKey;if(9===e&&Gr)t.preventDefault();else if(t.target&&32===e&&da.contains(t.target)&&!yp(t.target)&&t.preventDefault(),90!==e||!n&&!r){if(89===e&&r)xl.redo();else if(229!==e&&!n&&!r){var c=new Set([].concat((0,P.default)(ke),[e]));fs.set(Array.from(c))}}else o&&n?xl.redo():xl.undo()},function(t){var e=t.key,n=t.keyCode;if("Meta"===e)return fs.set([]);fs.set(ke.filter((function(t){return t!==n})))},function(){fs.set([])},function(t){yp(t.target)||t.preventDefault()},function(t){_i&&hs(t.detail.resources[0])},function(){ji&&Op().then(ms)},function(t){if(Ni){var e=Zu((window.innerWidth-Math.abs(ve.x))/ve.width,0,1),n=Zu((window.innerHeight-Math.abs(ve.y))/ve.height,0,1);e<.75&&n<.75||hs((t.clipboardData||window.clipboardData).files[0])}},xs,Es,function(t){oe&&en(t.detail,oe)||na(Bu,oe=t.detail,oe)},Zr,ll,Mr,Ir,Ar,Dr,Ur,Wr,Gr,qr,Kr,ei,ui,fi,vi,yi,Pi,Si,Mi,Ai,zi,Bi,_i,Ni,ji,Gi,Zi,qi,Ki,Qi,eo,ro,bo,$o,wo,Mo,Eo,ra,oa,ua,sub,va,nl,Hl,Xl,os,gs,ne,Jt,E,qt,Q,ct,T,M,Gt,H,Vt,Wt,Nt,Bt,Ft,Ot,Lt,It,St,Ct,At,Et,Tt,Mt,_t,Dt,kt,wt,xt,V,ot,it,J,X,Z,Y,ft,vt,pt,st,lt,G,j,tt,gt,mt,I,A,R,$,S,k,x,y,v,m,r,h,d,f,ce,le,de,fe,he,ve,ge,$e,xe,we,Pe,Re,Me,Ae,Ee,Le,ze,Oe,Be,De,_e,Ve,Ze,qe,Je,Qe,rn,on,cn,ln,mn,gn,bn,yn,$n,wn,Pn,kn,Tn,In,Ln,Fn,Wn,Gn,Hn,Kn,Jn,Qn,function(){n(29,hl=Hp.innerWidth),n(30,vl=Hp.innerHeight)},function(t){return na(Ou,ur=t.detail,ur)},function(t){var e=t.detail;return n(41,F=e)},function(t,e){return e.id===t},function(e,r){t.$$.not_equal(sa[r],e)&&(sa[r]=e,n(1,sa),n(25,la),n(241,ua))},function(t){return n(56,Ul=Ul.concat(t))},function(t){return n(56,Ul=Ul.filter((function(e){return e!==t})))},function(t,e){var r=e.detail;return n(36,O[t]=r,O)},function(t){return na(zu,hn=t.detail,hn)},function(t){return t.id===F},function(e){t.$$.not_equal(sa[F],e)&&(sa[F]=e,n(1,sa),n(25,la),n(241,ua))},function(){return n(56,Ul=Ul.concat(F))},function(){return n(56,Ul=Ul.filter((function(t){return t!==F})))},function(t){var e=t.detail;return n(36,O[F]=e,O)},function(t){var e=z(z({},t),xs()),n=gi({annotationShapes:pe,decorationShapes:ue,interfaceShapes:dr,frameShapes:ae},e),r=n.annotationShapes,o=n.decorationShapes,c=n.interfaceShapes,l=n.frameShapes;return Es(e,bs,r,o,c,l)},function(){n(57,Ls=!1),n(58,Fs=!1),n(59,zs=!1),n(60,Os=!1),n(61,Bs=!1)},function(t){ja[t?"unshift":"push"]((function(){n(35,ps=t)}))},function(t){n(0,ta=t),n(233,ro)},function(t){n(31,Fl=t)},function(t){n(32,Ll=t)},function(t){ja[t?"unshift":"push"]((function(){n(2,da=t)}))},function(t){return na(Lu,Se=t.detail,Se)}]}var yh,$h=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,bh,hh,Go,{class:204,layout:205,stores:206,locale:3,id:4,util:207,utils:208,animations:209,disabled:210,status:202,previewUpscale:211,previewPad:212,previewMaskOpacity:5,previewImageDataMaxSize:213,previewImageTextPixelRatio:6,markupMaskOpacity:7,zoomMaskOpacity:214,elasticityMultiplier:8,willRevert:215,willProcessImage:216,willRenderCanvas:9,willRenderToolbar:217,willSetHistoryInitialState:218,enableButtonExport:219,enableButtonRevert:220,enableNavigateHistory:221,enableToolbar:10,enableUtils:222,enableButtonClose:223,enableDropImage:224,enablePasteImage:225,enableBrowseImage:226,layoutDirectionPreference:227,layoutHorizontalUtilsPreference:228,layoutVerticalUtilsPreference:229,layoutVerticalToolbarPreference:230,layoutVerticalControlGroupsPreference:231,layoutVerticalControlTabsPreference:232,markupEditorZoomLevel:233,markupEditorZoomLevels:11,markupEditorZoomAdjustStep:12,markupEditorZoomAdjustFactor:13,markupEditorZoomAdjustWheelFactor:14,markupEditorInteractionMode:234,muteAudio:235,willSetMediaInitialTimeOffset:236,enablePan:15,enableZoom:16,enableZoomControls:237,enableZoomInput:17,enablePanInput:238,enableCanvasAlpha:18,enablePanLimit:19,panLimitGutterScalar:20,zoomPresetOptions:21,zoomAdjustStep:22,zoomAdjustFactor:23,zoomAdjustWheelFactor:24,zoomLevel:0,imagePreviewSrc:239,imageOrienter:240,pluginComponents:241,pluginOptions:25,sub:242,pluginInterface:1,root:2,imageSourceToImageData:26,imagePreview:27,imagePreviewCurrent:203,history:28},null,[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),r}return(0,d.default)(n,[{key:"class",get:function(){return this.$$.ctx[204]},set:function(t){this.$$set({class:t}),eu()}},{key:"layout",get:function(){return this.$$.ctx[205]},set:function(t){this.$$set({layout:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[206]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({locale:t}),eu()}},{key:"id",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({id:t}),eu()}},{key:"util",get:function(){return this.$$.ctx[207]},set:function(t){this.$$set({util:t}),eu()}},{key:"utils",get:function(){return this.$$.ctx[208]},set:function(t){this.$$set({utils:t}),eu()}},{key:"animations",get:function(){return this.$$.ctx[209]},set:function(t){this.$$set({animations:t}),eu()}},{key:"disabled",get:function(){return this.$$.ctx[210]},set:function(t){this.$$set({disabled:t}),eu()}},{key:"status",get:function(){return this.$$.ctx[202]},set:function(t){this.$$set({status:t}),eu()}},{key:"previewUpscale",get:function(){return this.$$.ctx[211]},set:function(t){this.$$set({previewUpscale:t}),eu()}},{key:"previewPad",get:function(){return this.$$.ctx[212]},set:function(t){this.$$set({previewPad:t}),eu()}},{key:"previewMaskOpacity",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({previewMaskOpacity:t}),eu()}},{key:"previewImageDataMaxSize",get:function(){return this.$$.ctx[213]},set:function(t){this.$$set({previewImageDataMaxSize:t}),eu()}},{key:"previewImageTextPixelRatio",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({previewImageTextPixelRatio:t}),eu()}},{key:"markupMaskOpacity",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({markupMaskOpacity:t}),eu()}},{key:"zoomMaskOpacity",get:function(){return this.$$.ctx[214]},set:function(t){this.$$set({zoomMaskOpacity:t}),eu()}},{key:"elasticityMultiplier",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({elasticityMultiplier:t}),eu()}},{key:"willRevert",get:function(){return this.$$.ctx[215]},set:function(t){this.$$set({willRevert:t}),eu()}},{key:"willProcessImage",get:function(){return this.$$.ctx[216]},set:function(t){this.$$set({willProcessImage:t}),eu()}},{key:"willRenderCanvas",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({willRenderCanvas:t}),eu()}},{key:"willRenderToolbar",get:function(){return this.$$.ctx[217]},set:function(t){this.$$set({willRenderToolbar:t}),eu()}},{key:"willSetHistoryInitialState",get:function(){return this.$$.ctx[218]},set:function(t){this.$$set({willSetHistoryInitialState:t}),eu()}},{key:"enableButtonExport",get:function(){return this.$$.ctx[219]},set:function(t){this.$$set({enableButtonExport:t}),eu()}},{key:"enableButtonRevert",get:function(){return this.$$.ctx[220]},set:function(t){this.$$set({enableButtonRevert:t}),eu()}},{key:"enableNavigateHistory",get:function(){return this.$$.ctx[221]},set:function(t){this.$$set({enableNavigateHistory:t}),eu()}},{key:"enableToolbar",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({enableToolbar:t}),eu()}},{key:"enableUtils",get:function(){return this.$$.ctx[222]},set:function(t){this.$$set({enableUtils:t}),eu()}},{key:"enableButtonClose",get:function(){return this.$$.ctx[223]},set:function(t){this.$$set({enableButtonClose:t}),eu()}},{key:"enableDropImage",get:function(){return this.$$.ctx[224]},set:function(t){this.$$set({enableDropImage:t}),eu()}},{key:"enablePasteImage",get:function(){return this.$$.ctx[225]},set:function(t){this.$$set({enablePasteImage:t}),eu()}},{key:"enableBrowseImage",get:function(){return this.$$.ctx[226]},set:function(t){this.$$set({enableBrowseImage:t}),eu()}},{key:"layoutDirectionPreference",get:function(){return this.$$.ctx[227]},set:function(t){this.$$set({layoutDirectionPreference:t}),eu()}},{key:"layoutHorizontalUtilsPreference",get:function(){return this.$$.ctx[228]},set:function(t){this.$$set({layoutHorizontalUtilsPreference:t}),eu()}},{key:"layoutVerticalUtilsPreference",get:function(){return this.$$.ctx[229]},set:function(t){this.$$set({layoutVerticalUtilsPreference:t}),eu()}},{key:"layoutVerticalToolbarPreference",get:function(){return this.$$.ctx[230]},set:function(t){this.$$set({layoutVerticalToolbarPreference:t}),eu()}},{key:"layoutVerticalControlGroupsPreference",get:function(){return this.$$.ctx[231]},set:function(t){this.$$set({layoutVerticalControlGroupsPreference:t}),eu()}},{key:"layoutVerticalControlTabsPreference",get:function(){return this.$$.ctx[232]},set:function(t){this.$$set({layoutVerticalControlTabsPreference:t}),eu()}},{key:"markupEditorZoomLevel",get:function(){return this.$$.ctx[233]},set:function(t){this.$$set({markupEditorZoomLevel:t}),eu()}},{key:"markupEditorZoomLevels",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({markupEditorZoomLevels:t}),eu()}},{key:"markupEditorZoomAdjustStep",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({markupEditorZoomAdjustStep:t}),eu()}},{key:"markupEditorZoomAdjustFactor",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({markupEditorZoomAdjustFactor:t}),eu()}},{key:"markupEditorZoomAdjustWheelFactor",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({markupEditorZoomAdjustWheelFactor:t}),eu()}},{key:"markupEditorInteractionMode",get:function(){return this.$$.ctx[234]},set:function(t){this.$$set({markupEditorInteractionMode:t}),eu()}},{key:"muteAudio",get:function(){return this.$$.ctx[235]},set:function(t){this.$$set({muteAudio:t}),eu()}},{key:"willSetMediaInitialTimeOffset",get:function(){return this.$$.ctx[236]},set:function(t){this.$$set({willSetMediaInitialTimeOffset:t}),eu()}},{key:"enablePan",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({enablePan:t}),eu()}},{key:"enableZoom",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({enableZoom:t}),eu()}},{key:"enableZoomControls",get:function(){return this.$$.ctx[237]},set:function(t){this.$$set({enableZoomControls:t}),eu()}},{key:"enableZoomInput",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({enableZoomInput:t}),eu()}},{key:"enablePanInput",get:function(){return this.$$.ctx[238]},set:function(t){this.$$set({enablePanInput:t}),eu()}},{key:"enableCanvasAlpha",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({enableCanvasAlpha:t}),eu()}},{key:"enablePanLimit",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({enablePanLimit:t}),eu()}},{key:"panLimitGutterScalar",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({panLimitGutterScalar:t}),eu()}},{key:"zoomPresetOptions",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({zoomPresetOptions:t}),eu()}},{key:"zoomAdjustStep",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({zoomAdjustStep:t}),eu()}},{key:"zoomAdjustFactor",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({zoomAdjustFactor:t}),eu()}},{key:"zoomAdjustWheelFactor",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({zoomAdjustWheelFactor:t}),eu()}},{key:"zoomLevel",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({zoomLevel:t}),eu()}},{key:"imagePreviewSrc",get:function(){return this.$$.ctx[239]},set:function(t){this.$$set({imagePreviewSrc:t}),eu()}},{key:"imageOrienter",get:function(){return this.$$.ctx[240]},set:function(t){this.$$set({imageOrienter:t}),eu()}},{key:"pluginComponents",get:function(){return this.$$.ctx[241]},set:function(t){this.$$set({pluginComponents:t}),eu()}},{key:"pluginOptions",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({pluginOptions:t}),eu()}},{key:"sub",get:function(){return this.$$.ctx[242]}},{key:"pluginInterface",get:function(){return this.$$.ctx[1]}},{key:"root",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({root:t}),eu()}},{key:"imageSourceToImageData",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({imageSourceToImageData:t}),eu()}},{key:"imagePreview",get:function(){return this.$$.ctx[27]}},{key:"imagePreviewCurrent",get:function(){return this.$$.ctx[203]},set:function(t){this.$$set({imagePreviewCurrent:t}),eu()}},{key:"history",get:function(){return this.$$.ctx[28]}}]),n}(Pu),xh=["klass","stores","isVisible","isActive","isActiveFraction","locale"],wh=["history","klass","stores","navButtons","pluginComponents","pluginInterface","pluginOptions","sub","imagePreviewSrc","imagePreview","imagePreviewCurrent"],Ph=["locale"],kh=new Set([]),Sh={},Rh=new Map,Ch=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.filter((function(t){return!!t.util})).forEach((function(t){var e=(0,w.default)(t.util,3),n=e[0],r=e[1],o=e[2],c=void 0===o?function(){return!0}:o;Rh.has(n)||(Rh.set(n,{Component:r,isSupported:c}),Os(r).filter((function(t){return!xh.includes(t)})).forEach((function(t){kh.add(t),Sh[t]?Sh[t].push(n):Sh[t]=[n]})))}))},Mh=[].concat(rc,["init","update","undo","redo","revert","writehistory","destroy","show","hide","close","ready","zoom","pan","loadpreview","selectshape","updateshape","addshape","removeshape","selectstyle","markuptap","markupzoom","markuppan","selectutil","selectcontrol"]),Th=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).prefix,r=void 0===n?"pintura:":n;return Mh.map((function(n){return t.on(n,(function(t){return Sn(e)?function(t,e,n){return t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}))}(e,"".concat(r).concat(n),t):e(n,t)}))}))};e.dispatchEditorEvents=Th;e.naturalAspectRatioToNumber=function(t){if(void 0===t||kr(t))return t;if(!ht(t))return!1;var e=t;if(e.length){var n=e.split(/\/|:/g).map((function(t){return parseFloat(t.replace(/,/,"."))})).filter(Boolean),r=(0,w.default)(n,2),o=r[0],c=r[1];return!!o&&(c?Math.abs(o/c):o)}};var Ih=function(t){return ht(t[0])},Ah=function(t){return!Ih(t)},Eh=function(t){return t[1]},Lh=function(t){return t[3]||[]};var Fh=function(t,e,n){var r,o,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},d=Oh(e,n),f=d.findIndex((function(t){return Eh(t)===e}));r=d,o=l(f),c=t,r.splice(o,0,c)};e.insertNodeBefore=function(t,e,n){return Fh(t,e,n)};e.insertNodeAfter=function(t,e,n){return Fh(t,e,n,(function(t){return t+1}))};e.appendNode=function(t,e){if(Ah(e))return e.push(t);e[3]=[].concat((0,P.default)(Lh(e)),[t])};var zh=function(t,e){var n=Oh(t,e);return cd(n,(function(e){return Eh(e)===t})),n};e.removeNode=zh;e.findNode=function t(e,n){if(n&&n.length){if(Ih(n)){if(Eh(n)===e)return n;var r=t(e,Lh(n));if(r)return r}if(Ah(n)){var o,c=A(n);try{for(c.s();!(o=c.n()).done;){var l=t(e,o.value);if(l)return l}}catch(t){c.e(t)}finally{c.f()}}}};var Oh=function t(e,n){return Ah(n)?n.find((function(t){return Eh(t)===e}))?n:n.find((function(n){return t(e,Lh(n))})):t(e,Lh(n))};e.updateNode=function(t,e){var n=(0,w.default)(t,3)[2];Object.assign(n,e)};var Bh=function(){return[.75,.25,.25,0,0,.25,.75,.25,0,0,.25,.25,.75,0,0,0,0,0,1,0]};e.filterPastel=Bh;var Dh=function(){return[1.398,-.316,.065,-.273,.201,-.051,1.278,-.08,-.273,.201,-.051,.119,1.151,-.29,.215,0,0,0,1,0]};e.filterChrome=Dh;var _h=function(){return[1.073,-.015,.092,-.115,-.017,.107,.859,.184,-.115,-.017,.015,.077,1.104,-.115,-.017,0,0,0,1,0]};e.filterFade=_h;var Uh=function(){return[1.06,0,0,0,0,0,1.01,0,0,0,0,0,.93,0,0,0,0,0,1,0]};e.filterWarm=Uh;var Nh=function(){return[1.1,0,0,0,-.1,0,1.1,0,0,-.1,0,0,1.2,0,-.1,0,0,0,1,0]};e.filterCold=Nh;e.filterInvert=function(){return[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0]};var Wh=function(){return[.212,.715,.114,0,0,.212,.715,.114,0,0,.212,.715,.114,0,0,0,0,0,1,0]};e.filterMonoDefault=Wh;var jh=function(){return[.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,0,0,0,1,0]};e.filterMonoNoir=jh;var Vh=function(){return[.163,.518,.084,-.01,.208,.163,.529,.082,-.02,.21,.171,.529,.084,0,.214,0,0,0,1,0]};e.filterMonoWash=Vh;var Gh=function(){return[.338,.991,.117,.093,-.196,.302,1.049,.096,.078,-.196,.286,1.016,.146,.101,-.196,0,0,0,1,0]};e.filterMonoStark=Gh;var Hh=function(){return[.393,.768,.188,0,0,.349,.685,.167,0,0,.272,.533,.13,0,0,0,0,0,1,0]};e.filterSepiaDefault=Hh;var Zh=function(){return[.289,.62,.185,0,.077,.257,.566,.163,0,.115,.2,.43,.128,0,.188,0,0,0,1,0]};e.filterSepiaBlues=Zh;var Xh=function(){return[.269,.764,.172,.05,.1,.239,.527,.152,0,.176,.186,.4,.119,0,.159,0,0,0,1,0]};e.filterSepiaRust=Xh;var qh=function(){return[.547,.764,.134,0,-.147,.281,.925,.12,0,-.135,.225,.558,.33,0,-.113,0,0,0,1,0]};e.filterSepiaColor=qh;var Yh={chrome:Dh,fade:_h,pastel:Bh,cold:Nh,warm:Uh,monoDefault:Wh,monoWash:Vh,monoNoir:jh,monoStark:Gh,sepiaDefault:Hh,sepiaRust:Xh,sepiaBlues:Zh,sepiaColor:qh},Kh={filterFunctions:Yh,filterOptions:[["Default",[[void 0,function(t){return t.labelDefault}]]],["Classic",[["chrome",function(t){return t.filterLabelChrome}],["fade",function(t){return t.filterLabelFade}],["cold",function(t){return t.filterLabelCold}],["warm",function(t){return t.filterLabelWarm}],["pastel",function(t){return t.filterLabelPastel}]]],["Monochrome",[["monoDefault",function(t){return t.filterLabelMonoDefault}],["monoNoir",function(t){return t.filterLabelMonoNoir}],["monoStark",function(t){return t.filterLabelMonoStark}],["monoWash",function(t){return t.filterLabelMonoWash}]]],["Sepia",[["sepiaDefault",function(t){return t.filterLabelSepiaDefault}],["sepiaRust",function(t){return t.filterLabelSepiaRust}],["sepiaBlues",function(t){return t.filterLabelSepiaBlues}],["sepiaColor",function(t){return t.filterLabelSepiaColor}]]]]},Jh={borderColor:"strokeColor",borderWidth:"strokeWidth",lineWidth:"strokeWidth",fontColor:"color",lineColor:"strokeColor",src:"backgroundImage",fit:"backgroundSize"},Qh=function(t){return 0===t||"0%"===t||"0px"===t?0:/px$/.test(t)?parseInt(t,10):/\%$/.test(t)?t:t<=1?"".concat(100*t,"%"):void 0},tv=function(a,b){var t,e;return/%$/.test(a)?(t=parseFloat(a),e=parseFloat(b),"".concat(t+e,"%")):/px$/.test(a)?(t=parseInt(a,10),e=parseInt(b,10),"".concat(t+e,"px")):void 0},ev=function(t,e){var a=t,n=e,r=1.5707963267948966-e,o=Math.sin(1.5707963267948966),c=Math.sin(n),l=Math.sin(r),d=Math.cos(r),f=a/o;return te(d*(f*c),d*(f*l))},nv=function(t,e){var n=e.flip,r=e.aspectRatio,o=e.rotation,c=e.center,l=e.zoom,d=e.scaleToFit,f={flipX:!1,flipY:!1},h=!c||c&&.5===c.x&&.5===c.y;n&&n.horizontal&&(f.flipX=n.horizontal),n&&n.vertical&&(f.flipY=n.vertical);var v=function(t,e){return null!=e?1/e:t.width/t.height}(t,r),m=!(!1===d),y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,o=e,c=1,l=r;l>o&&(c=(l=o)/r);var d=Math.max(1/c,o/l),f=t.width/(n*d*c);return{width:f,height:f*e}}(t,r,l),$=h?t:function(t,e){var n=e.x>.5?1-e.x:e.x,r=e.y>.5?1-e.y:e.y;return Te(2*n*t.width,2*r*t.height)}(t,m?c:{x:.5,y:.5}),x=function(t,e){var n=t.width,r=n*e;r>t.height&&(n=(r=t.height)/e);var o=.5*(t.width-n),c=.5*(t.height-r);return Xe(o,c,n,r)}(t,r);if((r||!h||l)&&(f.crop=sn(je($),v)),"number"==typeof o&&null!==o){null!=o&&(f.rotation=o);var w=function(rect,t){var e=rect.width,n=rect.height,r=ev(e,t),o=ev(n,t),c=te(rect.x+Math.abs(r.x),rect.y-Math.abs(r.y)),tr=te(rect.x+rect.width+Math.abs(o.y),rect.y+Math.abs(o.x)),l=te(rect.x-Math.abs(o.y),rect.y+rect.height-Math.abs(o.x));return{width:be(c,tr),height:be(c,l)}}(x,o),P=Math.max(w.width/$.width,w.height/$.height),k=te(c.x*t.width,c.y*t.height),S=kn(t,o),R=Ee(S),C=te(.5*(S.width-t.width),.5*(S.height-t.height)),M=an({x:C.x+k.x-y.width/P*.5,y:C.y+k.y-y.height/P*.5,width:y.width/P,height:y.height/P},o),T=we(M.map(re),o,R.x,R.y),I=qe(Ge(T)),A=we(T.map(re),-2*o,I.x,I.y);f.crop=Ge(A)}else null!=l&&Ke(f.crop,1/l);return m||(f.cropLimitToImage=!1),f};e.legacyDataToImageState=function(t,e){var data=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if(!function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("markup"in data||"color"in data||"filter"in data)return!0;var t=data.crop;return!(!t||!("flip"in t||"center"in t||"aspectRatio"in t||"rotation"in t))}(data))return data;if(data.crop&&Object.assign(n,nv(e,data.crop)),data.markup){var r=Array.isArray(data.markup)?data.markup:Object.values(data.markup);n.decoration=r.map((function(t){return function(t,e,style){var n=Object.keys(style).reduce((function(e,n){var r=style[n];if(n=Jh[n]||n,/px$/.test(r))r=Qh(r);else if(/^(?:x|y|left|right|top|bottom|width|height|fontSize|borderWidth|strokeWidth)$/.test(n)&&"number"==typeof r){if("strokeWidth"===n||"borderWidth"===n||"fontSize"===n){var o=Math.min(t.width,t.height);r="".concat(o*r,"px")}r=Qh(r)}return/color/i.test(n)&&r&&(r=Mp(r)),null===r&&(r=void 0),e[n]=r,e}),{});if("line"===e&&(n.lineDecoration.length>=1&&(n.lineEnd="arrow"),2===n.lineDecoration.length&&(n.lineStart="arrow"),n.x1=n.x,n.y1=n.y,n.x2=tv(n.x,n.width),n.y2=tv(n.y,n.height),delete n.x,delete n.y,delete n.width,delete n.height,delete n.lineDecoration,delete n.lineStyle),"text"===e){if(!kr(n.y)){var r=Math.min(t.width,t.height);n.y=r*(parseFloat(n.y)/100)}n.y=n.y-n.fontSize,delete n.width,delete n.height,delete n.borderStyle,n.lineHeight=n.lineHeight||"120%"}if("ellipse"===e){var o,c;if(/%$/.test(n.width)){o=parseFloat(n.width)/100,c=parseFloat(n.height)/100;var l=o*t.width,d=c*t.height;o=l/t.width*100,c=d/t.height*100}else o=n.width,c=n.height;n.rx=.5*o,n.ry=.5*c,/%$/.test(n.width)&&(n.rx+="%",n.ry+="%"),n.x=tv(n.x,n.rx),n.y=tv(n.y,n.ry),delete n.width,delete n.height,delete n.borderStyle}if("rect"===e&&delete n.borderStyle,"path"===e){var f,h,v=[],m=A(n.points);try{for(m.s();!(h=m.n()).done;){var y=h.value;f?ge(f,y)<1e-9||(v.push(y),f=y,f=y):(v.push(y),f=y)}}catch(t){m.e(t)}finally{m.f()}n.points=v.map((function(t){return{x:Qh(t.x),y:Qh(t.y)}}))}return n}(n.crop||e,t[0],t[1])}))}if(data.color||data.colors){var o=data.color||data.colors;Object.keys(o).filter((function(t){return o[t]})).map((function(t){return[t,Array.isArray(o[t].matrix)?o[t].matrix:Object.values(o[t].matrix)]})).forEach((function(t){var e=(0,w.default)(t,2),r=e[0],o=e[1];n.colorMatrix||(n.colorMatrix={}),n.colorMatrix[r]=o}))}if(data.filter||data.filters){var filter=data.filters||data.filter;n.colorMatrix||(n.colorMatrix={});var c=t?t.filterFunctions:Yh;n.colorMatrix.filter="string"==typeof filter&&c[filter]?c[filter]():filter.matrix}var l=data.size?data.size:!!data.resize&&data.resize.size;return l&&l.width&&l.height&&(n.targetSize={width:l.width,height:l.height}),n};var rv=null;e.isSupported=function(){return null===rv&&(rv=Z()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"File"in window&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window),rv};var iv={base:0,min:-.25,max:.25,getLabel:function(t){return Dp(t/.25)},getStore:function(t){return t.imageColorMatrix},getValue:function(t){if(t.brightness)return t.brightness[4]},setValue:function(t,e){return t.update((function(t){return z(z({},t),{},{brightness:[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0]})}))}};e.effectBrightness=iv;var ov={base:1,min:.5,max:1.5,getLabel:function(t){return Dp(2*(t-.5)-1)},getStore:function(t){return t.imageColorMatrix},getValue:function(t){if(t.contrast)return t.contrast[0]},setValue:function(t,e){return t.update((function(t){return z(z({},t),{},{contrast:[e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0]})}))}};e.effectContrast=ov;var av={base:1,min:0,max:2,getLabel:function(t){return Dp(t-1)},getStore:function(t){return t.imageColorMatrix},getValue:function(t){if(t.saturation)return(t.saturation[0]-.213)/.787},setValue:function(t,e){return t.update((function(t){return z(z({},t),{},{saturation:[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0]})}))}};e.effectSaturation=av;var uv={base:1,min:.5,max:1.5,getLabel:function(t){return Dp(2*(t-.5)-1)},getStore:function(t){return t.imageColorMatrix},getValue:function(t){if(t.exposure)return t.exposure[0]},setValue:function(t,e){return t.update((function(t){return z(z({},t),{},{exposure:[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0]})}))}};e.effectExposure=uv;var cv={base:1,min:.15,max:4,getLabel:function(t){return Dp(t<1?(t-.15)/.85-1:(t-1)/3)},getStore:function(t){return t.imageGamma}};e.effectGamma=cv;var lv={base:0,min:-1,max:1,getStore:function(t){return t.imageVignette}};e.effectVignette=lv;var sv={base:0,min:-1,max:1,getStore:function(t){return t.imageConvolutionMatrix},getValue:function(t){if(t.clarity)return 0===t.clarity[0]?t.clarity[1]/-1:t.clarity[1]/-2},setValue:function(t,e){t.update((function(t){return z(z({},t),{},{clarity:e>=0?[0,-1*e,0,-1*e,1+4*e,-1*e,0,-1*e,0]:[-1*e,-2*e,-1*e,-2*e,1+-3*e,-2*e,-1*e,-2*e,-1*e]})}))}};e.effectClarity=sv;var dv={base:0,min:-1,max:1,getStore:function(t){return t.imageColorMatrix},getValue:function(t){if(t.temperature){var e=t.temperature[0];return e>=1?(e-1)/.1:(1-e)/-.15}},setValue:function(t,e){return t.update((function(t){return z(z({},t),{},{temperature:e>0?[1+.1*e,0,0,0,0,0,1,0,0,0,0,0,1+.1*-e,0,0,0,0,0,1,0]:[1+.15*e,0,0,0,0,0,1+.05*e,0,0,0,0,0,1+.15*-e,0,0,0,0,0,1,0]})}))}};e.effectTemperature=dv;var fv={finetuneControlConfiguration:{gamma:cv,brightness:iv,contrast:ov,saturation:av,exposure:uv,temperature:dv,clarity:sv,vignette:lv},finetuneOptions:[["brightness",function(t){return t.finetuneLabelBrightness}],["contrast",function(t){return t.finetuneLabelContrast}],["saturation",function(t){return t.finetuneLabelSaturation}],["exposure",function(t){return t.finetuneLabelExposure}],["temperature",function(t){return t.finetuneLabelTemperature}],["gamma",function(t){return t.finetuneLabelGamma}],!ds()&&["clarity",function(t){return t.finetuneLabelClarity}],["vignette",function(t){return t.finetuneLabelVignette}]].filter(Boolean)},pv={shape:{frameColor:[1,1,1],frameStyle:"solid",frameSize:"2.5%"},thumb:'<rect stroke-width="5" x="0" y="0" width="100%" height="100%"/>'};e.frameSolidSharp=pv;var hv={shape:{frameColor:[1,1,1],frameStyle:"solid",frameSize:"2.5%",frameRound:!0},thumb:'<rect stroke-width="5" x="0" y="0" width="100%" height="100%" rx="12%"/>'};e.frameSolidRound=hv;var vv={shape:{frameColor:[1,1,1],frameStyle:"line",frameInset:"2.5%",frameSize:".3125%",frameRadius:0},thumb:'<div style="top:.5em;left:.5em;right:.5em;bottom:.5em;box-shadow:inset 0 0 0 1px currentColor"></div>'};e.frameLineSingle=vv;var mv={shape:{frameColor:[1,1,1],frameStyle:"line",frameAmount:2,frameInset:"2.5%",frameSize:".3125%",frameOffset:"1.25%",frameRadius:0},thumb:'<div style="top:.75em;left:.75em;right:.75em;bottom:.75em; outline: 3px double"></div>'};e.frameLineMultiple=mv;var gv={shape:{frameColor:[1,1,1],frameStyle:"edge",frameInset:"2.5%",frameOffset:"5%",frameSize:".3125%"},thumb:'<div style="top:.75em;left:.5em;bottom:.75em;border-left:1px solid"></div><div style="top:.75em;right:.5em;bottom:.75em;border-right:1px solid"></div><div style="top:.5em;left:.75em;right:.75em;border-top:1px solid"></div><div style="bottom:.5em;left:.75em;right:.75em;border-bottom:1px solid"></div>'};e.frameEdgeSeparate=gv;var bv={shape:{frameColor:[1,1,1],frameStyle:"edge",frameInset:"2.5%",frameSize:".3125%"},thumb:'<div style="top:-.5em;left:.5em;right:.5em;bottom:-.5em; box-shadow: inset 0 0 0 1px currentColor"></div><div style="top:.5em;left:-.5em;right:-.5em;bottom:.5em;box-shadow:inset 0 0 0 1px currentColor"></div>'};e.frameEdgeCross=bv;var yv={shape:{frameColor:[1,1,1],frameStyle:"edge",frameOffset:"1.5%",frameSize:".3125%"},thumb:'<div style="top:.3125em;left:.5em;bottom:.3125em;border-left:1px solid"></div><div style="top:.3125em;right:.5em;bottom:.3125em;border-right:1px solid"></div><div style="top:.5em;left:.3125em;right:.3125em;border-top:1px solid"></div><div style="bottom:.5em;left:.3125em;right:.3125em;border-bottom:1px solid"></div>'};e.frameEdgeOverlap=yv;var $v={shape:{frameColor:[1,1,1],frameStyle:"hook",frameInset:"2.5%",frameSize:".3125%",frameLength:"5%"},thumb:'<div style="top:.5em;left:.5em;width:.75em;height:.75em; border-left: 1px solid;border-top: 1px solid;"></div><div style="top:.5em;right:.5em;width:.75em;height:.75em; border-right: 1px solid;border-top: 1px solid;"></div><div style="bottom:.5em;left:.5em;width:.75em;height:.75em; border-left: 1px solid;border-bottom: 1px solid;"></div><div style="bottom:.5em;right:.5em;width:.75em;height:.75em; border-right: 1px solid;border-bottom: 1px solid;"></div>'};e.frameHook=$v;var xv={shape:{frameColor:[1,1,1],frameStyle:"polaroid"},thumb:'<rect stroke-width="20%" x="-5%" y="-5%" width="110%" height="96%"/>'};e.framePolaroid=xv;var wv={frameStyles:{solidSharp:pv,solidRound:hv,lineSingle:vv,lineMultiple:mv,edgeSeparate:gv,edgeCross:bv,edgeOverlap:yv,hook:$v,polaroid:xv},frameOptions:[[void 0,function(t){return t.labelNone}],["solidSharp",function(t){return t.frameLabelMatSharp}],["solidRound",function(t){return t.frameLabelMatRound}],["lineSingle",function(t){return t.frameLabelLineSingle}],["lineMultiple",function(t){return t.frameLabelLineMultiple}],["edgeCross",function(t){return t.frameLabelEdgeCross}],["edgeSeparate",function(t){return t.frameLabelEdgeSeparate}],["edgeOverlap",function(t){return t.frameLabelEdgeOverlap}],["hook",function(t){return t.frameLabelCornerHooks}],["polaroid",function(t){return t.frameLabelPolaroid}]]},Pv=function(t,g,b){var e=Math.max(t,g,b),n=e-Math.min(t,g,b),r=n&&(e==t?(g-b)/n:e==g?2+(b-t)/n:4+(t-g)/n);return[60*(r<0?r+6:r)/360,e&&n/e,e]},kv=function(t,s,e){var n,g,b,i=Math.floor(6*t),r=6*t-i,p=e*(1-s),q=e*(1-r*s),o=e*(1-(1-r)*s);switch(i%6){case 0:n=e,g=o,b=p;break;case 1:n=q,g=e,b=p;break;case 2:n=p,g=e,b=o;break;case 3:n=p,g=q,b=e;break;case 4:n=o,g=p,b=e;break;case 5:n=e,g=p,b=q}return[n,g,b]};function Sv(t){var div,span,e;return{c:function(){div=element("div"),span=element("span"),xa(div,"class","PinturaColorPreview"),xa(div,"title",t[0]),xa(div,"style",e="--color:".concat(t[1]))},m:function(t,e){pa(t,div,e),sa(div,span)},p:function(t,n){var r=(0,w.default)(n,1)[0];1&r&&xa(div,"title",t[0]),2&r&&e!==(e="--color:".concat(t[1]))&&xa(div,"style",e)},i:Do,o:Do,d:function(t){t&&ha(div)}}}function Rv(t,e,n){var r,o=e.color,c=void 0===o?void 0:o,l=e.title,title=void 0===l?void 0:l;return t.$$set=function(t){"color"in t&&n(2,c=t.color),"title"in t&&n(0,title=t.title)},t.$$.update=function(){4&t.$$.dirty&&n(1,r=c?zr(c):"transparent")},[title,r,c]}var Cv=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Rv,Sv,Go,{color:2,title:0}),r}return(0,d.default)(n)}(Pu);function Mv(t){var span,e;return{c:function(){span=element("span"),e=text(t[0])},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,n){1&n[0]&&Pa(e,t[0])},d:function(t){t&&ha(span)}}}function Tv(t){var span,e,n,r;e=new Cv({props:{color:t[4],title:rf(t[8],t[10])}});var o=!t[9]&&Mv(t);return{c:function(){span=element("span"),yu(e.$$.fragment),n=ma(),o&&o.c(),xa(span,"slot","label"),xa(span,"class","PinturaButtonLabel")},m:function(t,c){pa(t,span,c),$u(e,span,null),sa(span,n),o&&o.m(span,null),r=!0},p:function(t,n){var r={};16&n[0]&&(r.color=t[4]),1280&n[0]&&(r.title=rf(t[8],t[10])),e.$set(r),t[9]?o&&(o.d(1),o=null):o?o.p(t,n):((o=Mv(t)).c(),o.m(span,null))},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){t&&ha(span),xu(e),o&&o.d()}}}function Iv(t){var e,n,r,o,c,l,d,f,h,v,m,y,$;h=new qs({props:{class:"PinturaHuePicker",knobStyle:"background-color:".concat(t[19]),onchange:t[24],value:t[14],min:0,max:1,step:.01}});var x=t[11]&&Av(t);return{c:function(){e=element("div"),n=element("div"),r=element("div"),o=element("div"),f=ma(),yu(h.$$.fragment),v=ma(),x&&x.c(),xa(o,"role","button"),xa(o,"aria-label","Saturation slider"),xa(o,"class","PinturaPickerKnob"),xa(o,"tabindex","0"),xa(o,"style",c="background-color:".concat(t[18],";")),xa(r,"class","PinturaPickerKnobController"),xa(r,"style",l="transform:translate(".concat(t[22],"%,").concat(t[21],"%)")),xa(n,"class","PinturaSaturationPicker"),xa(n,"style",d="background-color: ".concat(t[19])),xa(e,"class","PinturaPicker")},m:function(c,l){pa(c,e,l),sa(e,n),sa(n,r),sa(r,o),t[32](n),sa(e,f),$u(h,e,null),sa(e,v),x&&x.m(e,null),m=!0,y||($=[ba(o,"nudge",t[27]),ra(Us.call(null,o,{preventDefault:!0})),ba(n,"pointerdown",t[26])],y=!0)},p:function(t,f){(!m||262144&f[0]&&c!==(c="background-color:".concat(t[18],";")))&&xa(o,"style",c),(!m||6291456&f[0]&&l!==(l="transform:translate(".concat(t[22],"%,").concat(t[21],"%)")))&&xa(r,"style",l),(!m||524288&f[0]&&d!==(d="background-color: ".concat(t[19])))&&xa(n,"style",d);var v={};524288&f[0]&&(v.knobStyle="background-color:".concat(t[19])),16384&f[0]&&(v.value=t[14]),h.$set(v),t[11]?x?(x.p(t,f),2048&f[0]&&cu(x,1)):((x=Av(t)).c(),cu(x,1),x.m(e,null)):x&&(au(),lu(x,1,1,(function(){x=null})),uu())},i:function(t){m||(cu(h.$$.fragment,t),cu(x),m=!0)},o:function(t){lu(h.$$.fragment,t),lu(x),m=!1},d:function(n){n&&ha(e),t[32](null),xu(h),x&&x.d(),y=!1,jo($)}}}function Av(t){var e,n;return e=new qs({props:{class:"PinturaOpacityPicker",knobStyle:"background-color:".concat(t[16]),trackStyle:"background-image:linear-gradient(to right,".concat(t[17],",").concat(t[18],")"),onchange:t[25],value:t[15],min:0,max:1,step:.01}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};65536&n[0]&&(r.knobStyle="background-color:".concat(t[16])),393216&n[0]&&(r.trackStyle="background-image:linear-gradient(to right,".concat(t[17],",").concat(t[18],")")),32768&n[0]&&(r.value=t[15]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Ev(t){var e,n;return e=new Ef({props:{label:rf(t[10].labelColorPalette,t[10]),class:vs(["PinturaColorPresets",t[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"]),hideLabel:!1,name:t[1],value:t[4],optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:t[2].map(t[33]),selectedIndex:t[3],optionMapper:t[7],optionLabelClass:t[6],onchange:t[34],$$slots:{option:[zv,function(t){return{45:t.option}},function(t){return[0,t.option?16384:0]}],group:[Lv,function(t){return{45:t.option}},function(t){return[0,t.option?16384:0]}]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};1024&n[0]&&(r.label=rf(t[10].labelColorPalette,t[10])),512&n[0]&&(r.class=vs(["PinturaColorPresets",t[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"])),2&n[0]&&(r.name=t[1]),16&n[0]&&(r.value=t[4]),1028&n[0]&&(r.options=t[2].map(t[33])),8&n[0]&&(r.selectedIndex=t[3]),128&n[0]&&(r.optionMapper=t[7]),64&n[0]&&(r.optionLabelClass=t[6]),512&n[0]|49152&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Lv(t){var span,e,n=t[45].label+"";return{c:function(){span=element("span"),e=text(n),xa(span,"slot","group")},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){16384&r[1]&&n!==(n=t[45].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function Fv(t){var span,e,n=t[45].label+"";return{c:function(){span=element("span"),e=text(n),xa(span,"class","PinturaButtonLabel")},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){16384&r[1]&&n!==(n=t[45].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function zv(t){var span,e,n,r;e=new Cv({props:{title:t[45].label,color:t[45].value}});var o=!t[9]&&Fv(t);return{c:function(){span=element("span"),yu(e.$$.fragment),n=ma(),o&&o.c(),xa(span,"slot","option")},m:function(t,c){pa(t,span,c),$u(e,span,null),sa(span,n),o&&o.m(span,null),r=!0},p:function(t,n){var r={};16384&n[1]&&(r.title=t[45].label),16384&n[1]&&(r.color=t[45].value),e.$set(r),t[9]?o&&(o.d(1),o=null):o?o.p(t,n):((o=Fv(t)).c(),o.m(span,null))},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){t&&ha(span),xu(e),o&&o.d()}}}function Ov(t){var div,e,n,r=t[13]&&Iv(t),o=t[12]&&Ev(t);return{c:function(){div=element("div"),r&&r.c(),e=ma(),o&&o.c(),xa(div,"slot","details"),xa(div,"class","PinturaColorPickerPanel")},m:function(t,c){pa(t,div,c),r&&r.m(div,null),sa(div,e),o&&o.m(div,null),n=!0},p:function(t,n){t[13]?r?(r.p(t,n),8192&n[0]&&cu(r,1)):((r=Iv(t)).c(),cu(r,1),r.m(div,e)):r&&(au(),lu(r,1,1,(function(){r=null})),uu()),t[12]?o?(o.p(t,n),4096&n[0]&&cu(o,1)):((o=Ev(t)).c(),cu(o,1),o.m(div,null)):o&&(au(),lu(o,1,1,(function(){o=null})),uu())},i:function(t){n||(cu(r),cu(o),n=!0)},o:function(t){lu(r),lu(o),n=!1},d:function(t){t&&ha(div),r&&r.d(),o&&o.d()}}}function Bv(t){var e,n;return e=new Yd({props:{buttonClass:vs(["PinturaColorPickerButton",t[5]]),$$slots:{details:[Ov],label:[Tv]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};32&n[0]&&(r.buttonClass=vs(["PinturaColorPickerButton",t[5]])),8388575&n[0]|32768&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Dv(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,input,k,S,R,C=e.label,label=void 0===C?void 0:C,M=e.name,T=void 0===M?void 0:M,I=e.options,A=void 0===I?[]:I,E=e.selectedIndex,L=void 0===E?-1:E,F=e.value,z=void 0===F?void 0:F,O=e.buttonClass,B=void 0===O?void 0:O,D=e.optionLabelClass,_=void 0===D?void 0:D,U=e.optionMapper,N=void 0===U?void 0:U,W=e.onchange,j=void 0===W?void 0:W,V=e.title,title=void 0===V?void 0:V,G=e.hidePresetLabel,H=void 0===G||G,Z=e.locale,X=void 0===Z?void 0:Z,Y=e.enableOpacity,K=void 0===Y||Y,J=e.enablePresets,Q=void 0===J||J,tt=e.enablePicker,et=void 0===tt||tt,nt=function(t,e){if(h=[t[0],t[1],t[2]],e){var r=Pv.apply(void 0,(0,P.default)(h));n(14,c=r[0]),n(29,l=r[1]),n(30,d=r[2]),n(15,f=kr(t[3])?t[3]:1)}n(16,v=zr(t)),n(17,m=zr([].concat((0,P.default)(h),[0]))),n(18,y=zr([].concat((0,P.default)(h),[1]))),n(19,$=zr(kv(c,1,1)))},it=function(){var t=kv(c,l,d),e=[].concat((0,P.default)(t),[f]);nt(e),j(e)},ot=function(t){var e=3===t.length?[].concat((0,P.default)(t),[1]):t;nt(e,!0),j(e)},at=function(t,e){var b,r=Zu(t.x/e.width,0,1),o=Zu(t.y/e.height,0,1);b=1-o,n(29,l=r),n(30,d=b),0===f&&n(15,f=1),it()},ut=function(t){var e=fe(ne(t),R);at(de(re(S),e),k)},ct=function t(e){k=void 0,document.documentElement.removeEventListener("pointermove",ut),document.documentElement.removeEventListener("pointerup",t)};return t.$$set=function(t){"label"in t&&n(0,label=t.label),"name"in t&&n(1,T=t.name),"options"in t&&n(2,A=t.options),"selectedIndex"in t&&n(3,L=t.selectedIndex),"value"in t&&n(4,z=t.value),"buttonClass"in t&&n(5,B=t.buttonClass),"optionLabelClass"in t&&n(6,_=t.optionLabelClass),"optionMapper"in t&&n(7,N=t.optionMapper),"onchange"in t&&n(28,j=t.onchange),"title"in t&&n(8,title=t.title),"hidePresetLabel"in t&&n(9,H=t.hidePresetLabel),"locale"in t&&n(10,X=t.locale),"enableOpacity"in t&&n(11,K=t.enableOpacity),"enablePresets"in t&&n(12,Q=t.enablePresets),"enablePicker"in t&&n(13,et=t.enablePicker)},t.$$.update=function(){16&t.$$.dirty[0]|1&t.$$.dirty[1]&&(!z||x&&Ku(z,x)||(n(31,x=(0,P.default)(z)),nt(z,!0))),536870912&t.$$.dirty[0]&&n(22,r=100*l),1073741824&t.$$.dirty[0]&&n(21,o=100-100*d)},[label,T,A,L,z,B,_,N,title,H,X,K,Q,et,c,f,v,m,y,$,input,o,r,ot,function(t){n(14,c=t),0===f&&n(15,f=1),it()},function(t){n(15,f=t),it()},function(t){t.stopPropagation(),k=Te(input.offsetWidth,input.offsetHeight),S=function(t){return te(t.offsetX,t.offsetY)}(t),R=ne(t),at(S,k),document.documentElement.addEventListener("pointermove",ut),document.documentElement.addEventListener("pointerup",ct)},function(t){k=Te(input.offsetWidth,input.offsetHeight);var e=r/100*k.width,n=o/100*k.height;at({x:e+t.detail.x,y:n+t.detail.y},k)},j,l,d,x,function(t){ja[t?"unshift":"push"]((function(){n(20,input=t)}))},function(t){var e=(0,w.default)(t,2),n=e[0],label=e[1];return[n,vt(label)?label(X):label]},function(t){return ot(t.value)}]}var _v=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Dv,Bv,Go,{label:0,name:1,options:2,selectedIndex:3,value:4,buttonClass:5,optionLabelClass:6,optionMapper:7,onchange:28,title:8,hidePresetLabel:9,locale:10,enableOpacity:11,enablePresets:12,enablePicker:13},null,[-1,-1]),r}return(0,d.default)(n)}(Pu),Uv=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Nv=null,Wv=function(){if(null===Nv)if(Z())try{Nv=!1===document.fonts.check("16px TestNonExistingFont")}catch(t){Nv=!1}else Nv=!1;return Nv},jv=function(t,e){return function(n){return n[e?"".concat(e).concat(Uv(t)):t]}},Vv=function(t){return[t,"".concat(t)]},Gv=function(t,e){return function(n){return[t[n],jv(n,e)]}},Hv=[1,.2549,.2118],Zv="0.5%",Xv=[1,1,1,0],qv={eraser:function(){return{eraseRadius:0}},path:function(){return{points:[]}},line:function(){return{x1:0,y1:0,x2:0,y2:0,disableErase:!1}},rectangle:function(){return{x:0,y:0,width:0,height:0}},ellipse:function(){return{x:0,y:0,rx:0,ry:0}},text:function(){return{x:0,y:0,text:"Text"}}},Yv=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(qv[t]){var r=n||{},o=r.position,c=void 0===o?"relative":o,l=r.inputMode,d=void 0===l?"drag":l;return[z(z({},qv[t]()),e),{position:c,inputMode:d}]}};e.createMarkupEditorToolStyle=Yv;var Kv=function(t){return z({sharpie:Yv("path",{strokeWidth:Zv,strokeColor:[].concat(Hv),disableErase:!1,disableResize:!0,disableMove:!0}),eraser:Yv("eraser"),path:Yv("path",{pathClose:void 0,strokeWidth:Zv,strokeColor:[].concat(Hv),backgroundColor:[0,0,0,0]},{inputMode:"step"}),line:Yv("line",{strokeColor:[].concat(Hv),strokeWidth:Zv}),arrow:Yv("line",{lineStart:"none",lineEnd:"arrow-solid",strokeColor:[].concat(Hv),strokeWidth:Zv}),rectangle:Yv("rectangle",{strokeColor:[].concat(Xv),backgroundColor:[].concat(Hv)}),ellipse:Yv("ellipse",{strokeColor:[].concat(Xv),backgroundColor:[].concat(Hv)}),text:Yv("text",{color:[].concat(Hv),fontSize:"2%"})},t)},Jv=function(t,label,e){return[t,label||jv(t,"shapeLabelTool"),z({icon:jv(t,"shapeIconTool")},e)]},Qv=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:["move","view","sharpie","eraser","path","line","arrow","rectangle","ellipse","text","preset"]).map((function(t){return ht(t)?Jv(t):Array.isArray(t)?st(t[1])?Jv(t[0],void 0,t[1]):Jv(t[0],t[1],t[2]):void 0})).filter(Boolean)},tm=function(){return{transparent:[1,1,1,0],white:[1,1,1],silver:[.8667,.8667,.8667],gray:[.6667,.6667,.6667],black:[0,0,0],navy:[0,.1216,.2471],blue:[0,.4549,.851],aqua:[.498,.8588,1],teal:[.2235,.8,.8],olive:[.2392,.6,.4392],green:[.1804,.8,.251],yellow:[1,.8627,0],orange:[1,.5216,.1059],red:[1,.2549,.2118],maroon:[.5216,.0784,.2941],fuchsia:[.9412,.0706,.7451],purple:[.6941,.051,.7882]}};e.createDefaultColorOptions=tm;var nm=function(){return[16,18,20,24,30,36,48,64,72,96,128,144]};e.createDefaultFontSizeOptions=nm;var rm=nm;e.createDefaultLineHeightOptions=rm;var im=function(){return{extraSmall:"2%",small:"4%",mediumSmall:"8%",medium:"10%",mediumLarge:"15%",large:"20%",extraLarge:"25%"}};e.createDefaultFontScaleOptions=im;var om=function(){return{extraSmall:"40%",small:"60%",mediumSmall:"100%",medium:"120%",mediumLarge:"140%",large:"180%",extraLarge:"220%"}};e.createDefaultLineHeightScaleOptions=om;e.createDefaultStrokeWidthOptions=function(){return[1,2,3,4,6,8,12,16,20,24,32,48,64]};var am=function(){return{extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"}};e.createDefaultStrokeScaleOptions=am;var um=function(){return["bar","arrow","arrowSolid","circle","circleSolid","square","squareSolid"]};e.createDefaultLineEndStyleOptions=um;var cm=function(){return[["Helvetica, Arial, Verdana, 'Droid Sans', sans-serif","Sans Serif"],["'Arial Black', 'Avenir-Black', 'Arial Bold'","Black"],["'Arial Narrow', 'Futura-CondensedMedium'","Narrow"],["'Trebuchet MS'","Humanist"],["Georgia, 'Avenir-Black', 'Times New Roman', 'Droid Serif', serif","Serif"],["Palatino","Old-Style"],["'Times New Roman', 'TimesNewRomanPSMT'","Transitional"],["Menlo, Monaco, 'Lucida Console', monospace","Monospaced"],["'Courier New', monospace","Slab Serif"]]};e.createDefaultFontFamilyOptions=cm;var lm=function(){return["left","center","right"]};e.createDefaultTextAlignOptions=lm;var sm=function(){return[["normal","bold"],["italic","normal"],["italic","bold"]]};e.createDefaultFontStyleOptions=sm;var dm=function(t){return Object.keys(t).map(Gv(t,"shapeTitleColor"))};e.createMarkupEditorColorOptions=dm;e.createMarkupEditorFontSizeOptions=function(t){return t.map(Vv)};var fm=function(t){return Object.keys(t).map(Gv(t,"labelSize"))};e.createMarkupEditorFontScaleOptions=fm;e.createMarkupEditorLineHeightOptions=function(t){return t.map(Vv)};var pm=function(t){return Object.keys(t).map(Gv(t,"labelSize"))};e.createMarkupEditorLineHeightScaleOptions=pm;e.createMarkupEditorStrokeWidthOptions=function(t){return t.map(Vv)};var hm=function(t){return Object.keys(t).map(Gv(t,"labelSize"))};e.createMarkupEditorStrokeScaleOptions=hm;var vm=function(t){return(0,P.default)(t)};e.createMarkupEditorFontFamilyOptions=vm;var mm=function(t){return t.map((function(style){return[style,function(t){return t["shapeLabelFontStyle".concat(style.filter((function(t){return"normal"!==t})).map(Uv).join(""))]}]}))};e.createMarkupEditorFontStyleOptions=mm;var gm=function(t){return t.map((function(style){return[$p(style),function(t){return t["shapeTitleLineDecoration".concat(Uv(style))]},{icon:function(t){return t["shapeIconLineDecoration".concat(Uv(style))]}}]}))};e.createMarkupEditorLineEndStyleOptions=gm;var bm=function(t,e){var n=e||{},r=n.defaultKey,o=n.defaultValue,c=n.defaultOptions,l=[];return r&&(l[0]=[o,function(t){return t[r]},z({},c)]),[].concat(l,(0,P.default)(t))},ym=function(t){return t.split(",").map((function(t){return t.trim()})).some((function(t){return document.fonts.check("16px ".concat(t))}))},$m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[_v,z({title:function(t){return t.labelColor},options:bm(t)},e)]};e.createMarkupEditorColorControl=$m;var xm=function(){return[ip,z({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})]},wm="PinturaFontTest",Pm=function(t){return[Hf,{title:function(t){return t.shapeTitleFontFamily},onload:function(t){var e=t.options,n=void 0===e?[]:e;Wv()&&n.map((function(t){return(0,w.default)(t,1)[0]})).filter(Boolean).filter((function(t){return!ym(t)})).forEach((function(t){var e="".concat(wm,"-").concat(t.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase());document.getElementById(e)||document.body.append(J("span",{textContent:" ",id:e,class:wm,style:"font-family:".concat(t,";font-size:0;color:transparent;")}))}))},ondestroy:function(){Wv()&&document.querySelectorAll(".PinturaFontTest").forEach((function(t){return t.remove()}))},optionLabelStyle:function(t){return"font-family: ".concat(t)},options:bm(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defaultKey:"labelDefault"}),optionFilter:function(t){if(!Wv())return!0;var e=(0,w.default)(t,1)[0];return!e||ym(e)}}]};e.createMarkupEditorFontFamilyControl=Pm;var km=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[_v,z({title:function(t){return t.shapeTitleBackgroundColor},options:bm(t)},e)]};e.createMarkupEditorBackgroundColorControl=km;var Sm=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[_v,z({title:function(t){return t.shapeTitleStrokeColor},options:bm(t),buttonClass:"PinturaColorPickerButtonStroke",onchange:function(t,n){var r=n.strokeWidth;(kr(r)||ht(r)?parseFloat(r):0)>0||(n.strokeWidth=e&&e.defaultStrokeWidth||"0.5%")}},e)]};e.createMarkupEditorStrokeColorControl=Sm;var Rm=function(t){return[Hf,{title:function(t){return t.shapeTitleStrokeWidth},options:function(e){return Rr(e,"backgroundColor")?bm(t,{defaultKey:"shapeLabelStrokeNone"}):bm(t)},onchange:function(t,e){if(t){var n=e.strokeColor||[];if(!n[3]){var r=(0,P.default)(n);r[3]=1,e.strokeColor[3]=r}}}}]};e.createMarkupEditorStrokeWidthControl=Rm;var Cm=function(t,e,n){return[Hf,{title:function(t){return t[e]},options:bm(t,{defaultKey:"labelNone",defaultOptions:{icon:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H14"/></g>'}}),optionIconStyle:n}]},Mm=function(t){return Cm(t,"shapeTitleLineStart","transform: scaleX(-1)")};e.createMarkupEditorLineStartStyleControl=Mm;var Tm=function(t){return Cm(t,"shapeTitleLineEnd")};e.createMarkupEditorLineEndStyleControl=Tm;var Im=function(t){return[_v,{title:function(t){return t.shapeTitleTextColor},options:bm(t)}]};e.createMarkupEditorFontColorControl=Im;var Am=function(t){return[Hf,{title:function(t){return t.shapeTitleFontStyle},optionLabelStyle:function(t){return t&&"font-style:".concat(t[0],";font-weight:").concat(t[1])},options:bm(t,{defaultKey:"shapeLabelFontStyleNormal"})}]};e.createMarkupEditorFontStyleControl=Am;var Em=function(t,e){return e||t.find((function(t){return"4%"===(0,w.default)(t,1)[0]}))||(e={defaultKey:"labelAuto",defaultValue:"4%"}),[Hf,{title:function(t){return t.shapeTitleFontSize},options:bm(t,e)}]};e.createMarkupEditorFontSizeControl=Em;var Lm=function(t){return[Ef,{title:function(t){return t.shapeTitleTextAlign},options:bm(t)}]};e.createMarkupEditorTextAlignControl=Lm;var Fm=function(t,e){return e||t.find((function(t){return"120%"===(0,w.default)(t,1)[0]}))||(e={defaultKey:"labelAuto",defaultValue:"120%"}),[Hf,{title:function(t){return t.shapeTitleLineHeight},options:bm(t,e)}]};e.createMarkupEditorLineHeightControl=Fm;var zm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.colorOptions,n=void 0===e?dm({transparent:[1,1,1,0],white:[1,1,1],silver:[.8667,.8667,.8667],gray:[.6667,.6667,.6667],black:[0,0,0],navy:[0,.1216,.2471],blue:[0,.4549,.851],aqua:[.498,.8588,1],teal:[.2235,.8,.8],olive:[.2392,.6,.4392],green:[.1804,.8,.251],yellow:[1,.8627,0],orange:[1,.5216,.1059],red:[1,.2549,.2118],maroon:[.5216,.0784,.2941],fuchsia:[.9412,.0706,.7451],purple:[.6941,.051,.7882]}):e,r=t.lineEndStyleOptions,o=void 0===r?gm(["bar","arrow","arrowSolid","circle","circleSolid","square","squareSolid"]):r,c=t.fontFamilyOptions,l=void 0===c?vm([["Helvetica, Arial, Verdana, 'Droid Sans', sans-serif","Sans Serif"],["'Arial Black', 'Avenir-Black', 'Arial Bold'","Black"],["'Arial Narrow', 'Futura-CondensedMedium'","Narrow"],["'Trebuchet MS'","Humanist"],["Georgia, 'Avenir-Black', 'Times New Roman', 'Droid Serif', serif","Serif"],["Palatino","Old-Style"],["'Times New Roman', 'TimesNewRomanPSMT'","Transitional"],["Menlo, Monaco, 'Lucida Console', monospace","Monospaced"],["'Courier New', monospace","Slab Serif"]]):c,d=t.fontStyleOptions,f=void 0===d?mm([["normal","bold"],["italic","normal"],["italic","bold"]]):d,h=t.textAlignOptions,v=void 0===h?function(t){return t.map((function(t){return[t,function(e){return e["shapeTitleTextAlign".concat(Uv(t))]},{hideLabel:!0,icon:function(e){return e["shapeIconTextAlign".concat(Uv(t))]}}]}))}(["left","center","right"]):h,m=t.strokeWidthOptions,y=void 0===m?hm({extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"}):m,$=t.fontSizeOptions,x=void 0===$?fm({extraSmall:"2%",small:"4%",mediumSmall:"8%",medium:"10%",mediumLarge:"15%",large:"20%",extraLarge:"25%"}):$,P=t.lineHeightOptions,k=void 0===P?pm({extraSmall:"40%",small:"60%",mediumSmall:"100%",medium:"120%",mediumLarge:"140%",large:"180%",extraLarge:"220%"}):P,S=[x,k,y].map((function(t){return Array.isArray(t)&&t.every(kr)?t.map(Vv):t})),R=(0,w.default)(S,3);x=R[0],k=R[1],y=R[2];var C={defaultColor:n&&$m(n),defaultNumber:xm(),defaultPercentage:xm({getValue:function(t){return parseFloat(t)},setValue:function(t){return"".concat(t,"%")},step:.05,label:function(t,e,n){return"".concat(Math.round(t/n*100),"%")},labelClass:"PinturaPercentageLabel"}),backgroundColor:n&&km(n),strokeColor:n&&Sm(n),strokeWidth:y&&Rm(y),lineStart:o&&Mm(o),lineEnd:o&&Tm(o),color:n&&Im(n),fontFamily:l&&Pm(l),fontStyle_fontWeight:f&&Am(f),fontSize:x&&Em(x),lineHeight:k&&Fm(k),textAlign:v&&Lm(v),cornerRadius:["defaultPercentage",{min:0,max:50,title:function(t){return t.shapeTitleCornerRadius}}],frameColor:["defaultColor"],frameSize:["defaultPercentage",{min:.2,max:10,title:function(t){return t.labelSize}}],frameInset:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelInset}}],frameOffset:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelOffset}}],frameRadius:["defaultPercentage",{min:.5,max:10,title:function(t){return t.labelRadius}}],frameAmount:["defaultNumber",{min:1,max:5,step:1,title:function(t){return t.labelAmount}}]};return Object.entries(t).forEach((function(t){var e=(0,w.default)(t,2),n=e[0],r=e[1];C[n]||(C[n]=r)})),C};function Om(t){var div,e,n,r,o=t[4].default,c=qo(o,t,t[3],null);return{c:function(){div=element("div"),c&&c.c(),xa(div,"class",t[0])},m:function(o,l){pa(o,div,l),c&&c.m(div,null),e=!0,n||(r=[ba(div,"measure",(function(){Vo(t[1]&&t[2])&&(t[1]&&t[2]).apply(this,arguments)})),ra(os.call(null,div))],n=!0)},p:function(n,r){var l=(0,w.default)(r,1)[0];t=n,c&&c.p&&(!e||8&l)&&Jo(c,o,t,t[3],e?Ko(o,t[3],l,null):Qo(t[3]),null),(!e||1&l)&&xa(div,"class",t[0])},i:function(t){e||(cu(c,t),e=!0)},o:function(t){lu(c,t),e=!1},d:function(t){t&&ha(div),c&&c.d(t),n=!1,jo(r)}}}function Bm(t,e,n){var r=e.$$slots,o=void 0===r?{}:r,c=e.$$scope,l=Da(),d=e.class,f=void 0===d?null:d,h=!1;return za((function(){return n(1,h=!0)})),t.$$set=function(t){"class"in t&&n(0,f=t.class),"$$scope"in t&&n(3,c=t.$$scope)},[f,h,function(t){var e=t.detail;return l("measure",e)},c,o]}var Dm=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Bm,Om,Go,{class:0}),r}return(0,d.default)(n)}(Pu),_m=function(t){return{}},Um=function(t){return{}},Nm=function(t){return{}},Wm=function(t){return{}},jm=function(t){return{}},Vm=function(t){return{}};function Gm(t){var div,e,n=t[4].header,r=qo(n,t,t[3],Vm);return{c:function(){div=element("div"),r&&r.c(),xa(div,"class","PinturaUtilHeader")},m:function(t,n){pa(t,div,n),r&&r.m(div,null),e=!0},p:function(t,o){r&&r.p&&(!e||8&o)&&Jo(r,n,t,t[3],e?Ko(n,t[3],o,jm):Qo(t[3]),Vm)},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){t&&ha(div),r&&r.d(t)}}}function Hm(t){var div,e,n=t[4].footer,r=qo(n,t,t[3],Um);return{c:function(){div=element("div"),r&&r.c(),xa(div,"class","PinturaUtilFooter")},m:function(t,n){pa(t,div,n),r&&r.m(div,null),e=!0},p:function(t,o){r&&r.p&&(!e||8&o)&&Jo(r,n,t,t[3],e?Ko(n,t[3],o,_m):Qo(t[3]),Um)},i:function(t){e||(cu(r,t),e=!0)},o:function(t){lu(r,t),e=!1},d:function(t){t&&ha(div),r&&r.d(t)}}}function Zm(t){var e,div,n,r,o,c,l=t[1]&&Gm(t),d=t[4].main,f=qo(d,t,t[3],Wm),h=f||function(t){var e,n;return(e=new Dm({props:{class:"PinturaStage"}})).$on("measure",t[5]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:Do,i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}(t),v=t[2]&&Hm(t);return{c:function(){l&&l.c(),e=ma(),div=element("div"),h&&h.c(),n=ma(),v&&v.c(),r=ma(),o=ga(),xa(div,"class","PinturaUtilMain")},m:function(d,f){l&&l.m(d,f),pa(d,e,f),pa(d,div,f),h&&h.m(div,null),t[6](div),pa(d,n,f),v&&v.m(d,f),pa(d,r,f),pa(d,o,f),c=!0},p:function(t,n){var o=(0,w.default)(n,1)[0];t[1]?l?(l.p(t,o),2&o&&cu(l,1)):((l=Gm(t)).c(),cu(l,1),l.m(e.parentNode,e)):l&&(au(),lu(l,1,1,(function(){l=null})),uu()),f&&f.p&&(!c||8&o)&&Jo(f,d,t,t[3],c?Ko(d,t[3],o,Nm):Qo(t[3]),Wm),t[2]?v?(v.p(t,o),4&o&&cu(v,1)):((v=Hm(t)).c(),cu(v,1),v.m(r.parentNode,r)):v&&(au(),lu(v,1,1,(function(){v=null})),uu())},i:function(t){c||(cu(l),cu(h,t),cu(v),cu(false),c=!0)},o:function(t){lu(l),lu(h,t),lu(v),lu(false),c=!1},d:function(c){l&&l.d(c),c&&ha(e),c&&ha(div),h&&h.d(c),t[6](null),c&&ha(n),v&&v.d(c),c&&ha(r),c&&ha(o)}}}function Xm(t,e,n){var r=e,o=r.$$slots,c=void 0===o?{}:o,l=r.$$scope,d=e.hasHeader,f=void 0===d?!!e.$$slots.header:d,h=e.hasFooter,v=void 0===h?!!e.$$slots.footer:h,m=e.root,y=void 0===m?void 0:m;return t.$$set=function(t){n(7,e=Uo(Uo({},e),ta(t))),"hasHeader"in t&&n(1,f=t.hasHeader),"hasFooter"in t&&n(2,v=t.hasFooter),"root"in t&&n(0,y=t.root),"$$scope"in t&&n(3,l=t.$$scope)},e=ta(e),[y,f,v,l,c,function(e){Na.call(this,t,e)},function(t){ja[t?"unshift":"push"]((function(){n(0,y=t)}))}]}var qm=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Xm,Zm,Go,{hasHeader:1,hasFooter:2,root:0}),r}return(0,d.default)(n)}(Pu);function Ym(t){var div,e;return{c:function(){xa(div=element("div"),"class","PinturaRangeInputMeter"),xa(div,"style",e="transform: translateX(".concat(t[9].x-t[11].x,"px) translateY(").concat(t[9].y-t[11].y,"px)"))},m:function(e,n){pa(e,div,n),div.innerHTML=t[7]},p:function(t,n){128&n[0]&&(div.innerHTML=t[7]),512&n[0]&&e!==(e="transform: translateX(".concat(t[9].x-t[11].x,"px) translateY(").concat(t[9].y-t[11].y,"px)"))&&xa(div,"style",e)},d:function(t){t&&ha(div)}}}function Km(t){var e,span,n,button,r,o,c,l,d,f,h,v=t[9]&&Ym(t);return{c:function(){e=element("div"),span=element("span"),n=ma(),button=element("button"),r=text(t[1]),c=ma(),l=element("div"),v&&v.c(),xa(span,"class","PinturaRangeInputValue"),xa(button,"class","PinturaRangeInputReset"),xa(button,"type","button"),button.disabled=o=t[0]===t[2],xa(l,"class","PinturaRangeInputInner"),xa(l,"style",t[8]),xa(l,"data-value-limited",t[5]),xa(e,"class","PinturaRangeInput"),xa(e,"tabindex","0")},m:function(o,m){pa(o,e,m),sa(e,span),span.innerHTML=t[3],sa(e,n),sa(e,button),sa(button,r),sa(e,c),sa(e,l),v&&v.m(l,null),f||(h=[ba(button,"click",t[16]),ba(l,"interactionstart",t[12]),ba(l,"interactionupdate",t[14]),ba(l,"interactionend",t[15]),ba(l,"interactionrelease",t[13]),ra(d=ld.call(null,l,{inertia:t[6]})),ba(l,"measure",t[36]),ra(os.call(null,l)),ba(e,"wheel",t[18],{passive:!1}),ba(e,"nudge",t[19]),ra(Us.call(null,e,{direction:"horizontal",preventDefault:!0}))],f=!0)},p:function(t,e){8&e[0]&&(span.innerHTML=t[3]),2&e[0]&&Pa(r,t[1]),5&e[0]&&o!==(o=t[0]===t[2])&&(button.disabled=o),t[9]?v?v.p(t,e):((v=Ym(t)).c(),v.m(l,null)):v&&(v.d(1),v=null),256&e[0]&&xa(l,"style",t[8]),32&e[0]&&xa(l,"data-value-limited",t[5]),d&&Vo(d.update)&&64&e[0]&&d.update.call(null,{inertia:t[6]})},i:Do,o:Do,d:function(t){t&&ha(e),v&&v.d(),f=!1,jo(h)}}}function Jm(t,e,n){var r,o,c,l,d,f,h,v,m,y=e.labelReset,x=void 0===y?"Reset":y,w=e.direction,P=void 0===w?"x":w,k=e.min,S=void 0===k?0:k,R=e.max,C=void 0===R?1:R,M=e.base,base=void 0===M?S:M,T=e.value,I=void 0===T?0:T,A=e.valueLabel,E=void 0===A?0:A,L=e.valueMin,F=void 0===L?void 0:L,O=e.valueMax,B=void 0===O?void 0:O,D=e.oninputstart,_=void 0===D?N:D,U=e.oninputmove,W=void 0===U?N:U,j=e.oninputend,V=void 0===j?N:j,G=e.elasticity,H=void 0===G?0:G,Z=e.nudgeMultiplier,X=void 0===Z?void 0:Z,Y=e.step,K=void 0===Y?8:Y,J=Ua("isAnimated");Xo(t,J,(function(t){return n(6,v=t)}));var Q,svg,tt,et=function(t,e,n){return Math.ceil((t-n)/e)*e+n},nt={x:2,y:0},it=function(t,e,n){return"M ".concat(t-n," ").concat(e," a ").concat(n," ").concat(n," 0 1 0 0 -1")};var ot,at=void 0,ut=!1,ct={snap:!1,elastic:!1},lt=function(t,e,n){var r=t[P]+e[P],o=Zu(r,ot[1][P],ot[0][P]),c=H?o+sd(r-o,H):o,l=n.elastic?c:o,d=te(0,0);return d[P]=l,st.set(d,{hard:n.snap}),Zu(pt(d,P),S,C)},st=Zl();Xo(t,st,(function(t){return n(9,m=t)}));var ft=function(t,e){var n=.5*(Q[e]-l[e])-(Ns(t,S,C)*l[e]-.5*l[e]);return{x:"x"===e?n:0,y:"y"===e?n:0}},pt=function(t,e){var n=-(t[e]-.5*Q[e])/l[e];return S+n*r},ht=st.subscribe((function(t){t&&at&&W(Zu(pt(t,P),S,C))})),vt=function(t){var e=[ft(null!=F?F:S,P),ft(null!=B?B:C,P)],n={x:"x"===P?m.x+t:0,y:"y"===P?m.y+t:0},r=Zu(n[P],e[1][P],e[0][P]),o=z(z({},m),{},(0,$.default)({},P,r));na(st,m=o,m);var c=Zu(pt(o,P),S,C);_(),W(c),V(c)};Ba((function(){ht()}));return t.$$set=function(t){"labelReset"in t&&n(1,x=t.labelReset),"direction"in t&&n(20,P=t.direction),"min"in t&&n(21,S=t.min),"max"in t&&n(22,C=t.max),"base"in t&&n(2,base=t.base),"value"in t&&n(0,I=t.value),"valueLabel"in t&&n(3,E=t.valueLabel),"valueMin"in t&&n(23,F=t.valueMin),"valueMax"in t&&n(24,B=t.valueMax),"oninputstart"in t&&n(25,_=t.oninputstart),"oninputmove"in t&&n(26,W=t.oninputmove),"oninputend"in t&&n(27,V=t.oninputend),"elasticity"in t&&n(28,H=t.elasticity),"nudgeMultiplier"in t&&n(29,X=t.nudgeMultiplier),"step"in t&&n(30,K=t.step)},t.$$.update=function(){if(6291456&t.$$.dirty[0]&&n(32,r=C-S),10485760&t.$$.dirty[0]&&n(34,o=null!=F?Math.max(F,S):S),20971520&t.$$.dirty[0]&&n(33,c=null!=B?Math.min(B,C):C),6291460&t.$$.dirty[0]&&n(35,d=Ns(base,S,C)),16&t.$$.dirty[0]|16&t.$$.dirty[1]&&Q){for(var e,m=.5*Q.y,y=40*d,$="",x=Q.y,w="",i=0;i<=40;i++){var k=nt.x+10*i,R=m;$+=it(k,R,i%5==0?2:.75)+" ",e=k+nt.x,i===y&&(w='<path d="M'.concat(k," ").concat(R-4,' l2 3 l-2 -1 l-2 1 z"/>'))}n(7,svg='<svg width="'.concat(e,'" height="').concat(x,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ').concat(e," ").concat(x,'" aria-hidden="true" focusable="false">\n        ').concat(w,'\n        <rect rx="4" ry="4" y="').concat(m-4,'"" height="8"/>\n        <path fill-rule="evenodd" d="').concat($.trim(),'"/></svg>')),n(31,tt={x:e-2*nt.x,y:x})}16&t.$$.dirty[0]|1&t.$$.dirty[1]&&(l=Q&&tt),6291456&t.$$.dirty[0]|12&t.$$.dirty[1]&&n(5,f=o!==S||c!==C),32&t.$$.dirty[0]|12&t.$$.dirty[1]&&n(8,h=f?function(t,e){var n=1/40,r=Ns(t,S,C),o=Ns(e,S,C),c=Yt(et(r,n,0)-.0125),l=Yt(et(o,n,0)-.0125);return"--range-mask-from:".concat(100*c,"%;--range-mask-to:").concat(100*l,"%")}(o,c):""),1048657&t.$$.dirty[0]|2&t.$$.dirty[1]&&r&&Q&&Q.x&&Q.y&&st.set(ft(I,P),{hard:!1===v})},[I,x,base,E,Q,f,v,svg,h,m,J,nt,function(){ut=!1,at=Zo(st),ot=[ft(null!=F?F:S,P),ft(null!=B?B:C,P)],_()},function(){ut=!0},function(t){var e=t.detail;ct.snap=!ut,ct.elastic=!ut,lt(at,e.translation,ct)},function(t){var e=t.detail;ct.snap=!1,ct.elastic=!1;var n=lt(at,e.translation,ct);if(at=void 0,ot=void 0,Math.abs(n-base)<.01)return V(base);V(n)},function(){n(0,I=Zu(base,o,c)),_(),V(I)},st,function(t){t.preventDefault(),t.stopPropagation();var e=vd(t)*K;vt(e)},function(t){var e=t.detail;vt(e[P]*Math.abs(X||8))},P,S,C,F,B,_,W,V,H,X,K,tt,r,c,o,d,function(t){return n(4,Q=function(t){return te(t.width,t.height)}(t.detail))}]}var Qm=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Jm,Km,Go,{labelReset:1,direction:20,min:21,max:22,base:2,value:0,valueLabel:3,valueMin:23,valueMax:24,oninputstart:25,oninputmove:26,oninputend:27,elasticity:28,nudgeMultiplier:29,step:30},null,[-1,-1]),r}return(0,d.default)(n)}(Pu);function tg(t){var e,n,r,o,c,l=t[7].default,d=qo(l,t,t[6],null);return{c:function(){e=element("div"),n=element("div"),d&&d.c(),xa(n,"class","PinturaToolbarInner"),xa(e,"class","PinturaToolbar"),xa(e,"data-layout",t[1]),xa(e,"data-overflow",t[0])},m:function(l,f){pa(l,e,f),sa(e,n),d&&d.m(n,null),r=!0,o||(c=[ba(n,"measure",t[3]),ra(os.call(null,n)),ba(e,"measure",t[2]),ra(os.call(null,e))],o=!0)},p:function(t,n){var o=(0,w.default)(n,1)[0];d&&d.p&&(!r||64&o)&&Jo(d,l,t,t[6],r?Ko(l,t[6],o,null):Qo(t[6]),null),(!r||2&o)&&xa(e,"data-layout",t[1]),(!r||1&o)&&xa(e,"data-overflow",t[0])},i:function(t){r||(cu(d,t),r=!0)},o:function(t){lu(d,t),r=!1},d:function(t){t&&ha(e),d&&d.d(t),o=!1,jo(c)}}}function eg(t,e,n){var r,o,c=e.$$slots,l=void 0===c?{}:c,d=e.$$scope,f=0,h=0,v=0,m=function(){n(0,o="compact"===r&&f>v?"overflow":void 0)};return t.$$set=function(t){"$$scope"in t&&n(6,d=t.$$scope)},t.$$.update=function(){48&t.$$.dirty&&n(1,r=h>v?"compact":"default")},[o,r,function(t){var e=t.detail.width;n(5,v=e),m()},function(t){var e=t.detail.width;e>h&&n(4,h=e),f=e,o||m()},h,v,d,l]}var ng=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,eg,tg,Go,{}),r}return(0,d.default)(n)}(Pu),rg=(R={},(0,$.default)(R,Nt,(function(rect){return{x:rect.x,y:rect.y}})),(0,$.default)(R,Ht,(function(rect){return{x:rect.x+rect.width,y:rect.y}})),(0,$.default)(R,Wt,(function(rect){return{x:rect.x+rect.width,y:rect.y}})),(0,$.default)(R,Zt,(function(rect){return{x:rect.x+rect.width,y:rect.y+rect.height}})),(0,$.default)(R,jt,(function(rect){return{x:rect.x,y:rect.y+rect.height}})),(0,$.default)(R,Xt,(function(rect){return{x:rect.x,y:rect.y+rect.height}})),(0,$.default)(R,Vt,(function(rect){return{x:rect.x,y:rect.y}})),(0,$.default)(R,Gt,(function(rect){return{x:rect.x,y:rect.y}})),R);function ig(t,e,i){var n=t.slice();return n[14]=e[i].key,n[15]=e[i].translate,n[16]=e[i].scale,n[17]=e[i].type,n[18]=e[i].opacity,n}function og(t,e){var div,n,r,o,c,l,d,f;return{key:t,first:null,c:function(){xa(div=element("div"),"role","button"),xa(div,"aria-label",n="Drag ".concat(e[17]," ").concat(e[14])),xa(div,"tabindex",r="edge"===e[17]?-1:0),xa(div,"class","PinturaRectManipulator"),xa(div,"data-direction",o=e[14]),xa(div,"data-shape",c="".concat("edge"===e[17]?"edge":"".concat(e[0]))),xa(div,"style",l="--tx:".concat(e[15].x,";--ty:").concat(e[15].y,";--sx:").concat(e[16].x,";--sy:").concat(e[16].y,";opacity:").concat(e[18])),this.first=div},m:function(t,n){pa(t,div,n),d||(f=[ba(div,"nudge",(function(){Vo(e[6](e[14]))&&e[6](e[14]).apply(this,arguments)})),ra(Us.call(null,div,{preventDefault:!0})),ba(div,"interactionstart",(function(){Vo(e[5]("resizestart",e[14]))&&e[5]("resizestart",e[14]).apply(this,arguments)})),ba(div,"interactionupdate",(function(){Vo(e[5]("resizemove",e[14]))&&e[5]("resizemove",e[14]).apply(this,arguments)})),ba(div,"interactionend",(function(){Vo(e[5]("resizeend",e[14]))&&e[5]("resizeend",e[14]).apply(this,arguments)})),ra(ld.call(null,div))],d=!0)},p:function(t,d){e=t,2&d&&n!==(n="Drag ".concat(e[17]," ").concat(e[14]))&&xa(div,"aria-label",n),2&d&&r!==(r="edge"===e[17]?-1:0)&&xa(div,"tabindex",r),2&d&&o!==(o=e[14])&&xa(div,"data-direction",o),3&d&&c!==(c="".concat("edge"===e[17]?"edge":"".concat(e[0])))&&xa(div,"data-shape",c),2&d&&l!==(l="--tx:".concat(e[15].x,";--ty:").concat(e[15].y,";--sx:").concat(e[16].x,";--sy:").concat(e[16].y,";opacity:").concat(e[18]))&&xa(div,"style",l)},d:function(t){t&&ha(div),d=!1,jo(f)}}}function ag(t){for(var e,n=[],r=new Map,o=t[1],c=function(t){return t[14]},i=0;i<o.length;i+=1){var l=ig(t,o,i),d=c(l);r.set(d,n[i]=og(d,l))}return{c:function(){for(var t=0;t<n.length;t+=1)n[t].c();e=ga()},m:function(t,r){for(var o=0;o<n.length;o+=1)n[o].m(t,r);pa(t,e,r)},p:function(t,l){var d=(0,w.default)(l,1)[0];99&d&&(o=t[1],n=vu(n,d,c,1,t,o,r,e.parentNode,pu,og,e,ig))},i:Do,o:Do,d:function(t){for(var r=0;r<n.length;r+=1)n[r].d(t);t&&ha(e)}}}function ug(t,e,n){var r,o,c,l,d=e.rect,rect=void 0===d?null:d,f=e.visible,h=void 0!==f&&f,v=e.style,style=void 0===v?void 0:v,m=Ua("isAnimated");Xo(t,m,(function(t){return n(11,l=t)}));var y=Zl(void 0,{precision:1e-4,stiffness:.2,damping:.4});Xo(t,y,(function(t){return n(10,c=t)}));var $,x=Zl(0,{precision:.001});Xo(t,x,(function(t){return n(9,o=t)}));var w=Da();return t.$$set=function(t){"rect"in t&&n(7,rect=t.rect),"visible"in t&&n(8,h=t.visible),"style"in t&&n(0,style=t.style)},t.$$.update=function(){2304&t.$$.dirty&&y.set(h?1:.5,{hard:!1===l}),2304&t.$$.dirty&&x.set(h?1:0,{hard:!1===l}),1664&t.$$.dirty&&n(1,r=Object.keys(Ut).map((function(t,i){var e=Ut[t],n=rg[e](rect),r=1===e.length?"edge":"corner",l="corner"===r;return{key:e,type:r,scale:{x:/^(t|b)$/.test(e)?rect.width:l?Zu(c,.5,1.25):1,y:/^(r|l)$/.test(e)?rect.height:l?Zu(c,.5,1.25):1},translate:{x:n.x,y:n.y},opacity:o}})))},[style,r,m,y,x,function(t,e){return function(n){var r=n.detail;$&&e!==$||"resizestart"!==t&&void 0===$||("resizestart"===t&&($=e),"resizeend"===t&&($=void 0),w(t,{direction:e,translation:r&&r.translation}))}},function(t){return function(e){var n=e.detail;w("resizestart",{direction:t,translation:{x:0,y:0}}),w("resizemove",{direction:t,translation:n}),w("resizeend",{direction:t,translation:{x:0,y:0}})}},rect,h,o,c,l]}var cg=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ug,ag,Go,{rect:7,visible:8,style:0}),r}return(0,d.default)(n)}(Pu),lg=function(element){function t(t,e){element.dispatchEvent(new CustomEvent(t,{detail:e}))}var e=function(e){e.preventDefault(),element.addEventListener("gesturechange",n),element.addEventListener("gestureend",r),t("gesturedown")},n=function(e){e.preventDefault(),t("gestureupdate",e.scale)},r=function(e){t("gestureup",e.scale),e.preventDefault(),o()},o=function(){element.removeEventListener("gesturechange",n),element.removeEventListener("gestureend",r)};return element.addEventListener("gesturestart",e),{destroy:function(){o(),element.removeEventListener("gesturestart",e)}}},sg=(C={},(0,$.default)(C,Nt,jt),(0,$.default)(C,Wt,Vt),(0,$.default)(C,jt,Nt),(0,$.default)(C,Vt,Wt),(0,$.default)(C,Gt,Zt),(0,$.default)(C,Ht,Xt),(0,$.default)(C,Zt,Gt),(0,$.default)(C,Xt,Ht),C),dg=function(t){var e=t===Vt||t===Wt,n=t===Nt||t===jt;return[t===Wt||t===Ht||t===Zt,t===Vt||t===Xt||t===Gt,t===Nt||t===Ht||t===Gt,t===jt||t===Zt||t===Xt,e,n,e||n]},fg=function(rect,t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=t.target,o=t.translate,c=n.aspectRatio,l=n.minSize,d=n.maxSize,f=qt[sg[r]],h=de(te(rect.x,rect.y),te(f[0]*rect.width,f[1]*rect.height)),v=qt[r],m=de(Ne(rect),te(v[0]*rect.width,v[1]*rect.height)),y=dg(r),$=(0,w.default)(y,7),x=$[0],P=$[1],k=$[2],S=$[3],R=$[4],C=$[5],M=$[6],T=o.x,I=o.y;R?I=0:C&&(T=0);var A=pg(h,r,e,{aspectRatio:c,minSize:l,maxSize:d}),E=A.inner,L=A.outer,F=dn(rect),z=(0,w.default)(F,4),O=z[0],B=z[1],b=z[2],D=z[3];if(x?D=h.x:P&&(B=h.x),S?O=h.y:k&&(b=h.y),x){var _=E.x+E.width,U=L.x+L.width;B=Zu(m.x+T,_,U)}else if(P){var N=L.x,W=E.x;D=Zu(m.x+T,N,W)}if(S){var j=E.y+E.height,V=L.y+L.height;b=Zu(m.y+I,j,V)}else if(k){var G=L.y,H=E.y;O=Zu(m.y+I,G,H)}if(D>E.x&&(D=E.x),B<E.x+E.width&&(B=E.x+E.width),O>E.y&&(O=E.y),b<E.y+E.height&&(b=E.y+E.height),D<L.x){var Z=L.x-D;D=L.x,B+=Z}if(B>L.x+L.width){var X=B-(L.x+L.width);B=L.x+L.width,D-=X}if(O<L.y){var Y=L.y-O;O=L.y,b+=Y}if(b>L.y+L.height){var K=b-(L.y+L.height);b=L.y+L.height,O-=K}if(c)if(M){var J=B-D,Q=b-O;R?(Q=J/c,O=h.y-.5*Q,b=h.y+.5*Q):C&&(J=Q*c,D=h.x-.5*J,B=h.x+.5*J)}else{var tt=te(m.x+T-h.x,m.y+I-h.y);r===Ht?(tt.x=Math.max(0,tt.x),tt.y=Math.min(0,tt.y)):r===Zt?(tt.x=Math.max(0,tt.x),tt.y=Math.max(0,tt.y)):r===Xt?(tt.x=Math.min(0,tt.x),tt.y=Math.max(0,tt.y)):r===Gt&&(tt.x=Math.min(0,tt.x),tt.y=Math.min(0,tt.y));var et=ae(tt),nt=ae(te(E.width,E.height)),it=ae(te(L.width,L.height)),ot=Zu(et,nt,it),at=te(c,1),ut=he(ue(at),ot);r===Ht?(B=h.x+ut.x,O=h.y-ut.y):r===Zt?(B=h.x+ut.x,b=h.y+ut.y):r===Xt?(D=h.x-ut.x,b=h.y+ut.y):r===Gt&&(D=h.x-ut.x,O=h.y-ut.y)}return Xe(D,O,B-D,b-O)},pg=function(t,e,n,r){var o=r.aspectRatio,c=r.minSize,l=r.maxSize,d=e===Wt||e===Ht||e===Zt,f=e===Vt||e===Xt||e===Gt,h=e===Nt||e===Ht||e===Gt,v=e===jt||e===Zt||e===Xt,m=e===Vt||e===Wt,y=e===Nt||e===jt,$=Ne(n);d?($.x=t.x,$.width-=t.x):f&&($.width=t.x),v?($.y=t.y,$.height-=t.y):h&&($.height=t.y);var x=function(t,e){return Ue(0,0,t,e)}(Math.min($.width,l.width),Math.min($.height,l.height));if(o)if(m){var w=Math.min(t.y,n.height-t.y);x.height=Math.min(2*w,x.height)}else if(y){var P=Math.min(t.x,n.width-t.x);x.width=Math.min(2*P,x.width)}var k,S,R,b,C=o?Re(ln(je(c),o)):c,M=o?Re(sn(x,o)):x;d?k=t.x:f&&(S=t.x),v?R=t.y:h&&(b=t.y),d?S=k+C.width:f&&(k=S-C.width),v?b=R+C.height:h&&(R=b-C.height),m?(R=t.y-.5*C.height,b=t.y+.5*C.height):y&&(k=t.x-.5*C.width,S=t.x+.5*C.width);var T=Ge([te(k,R),te(S,b)]);return d?S=k+M.width:f&&(k=S-M.width),v?b=R+M.height:h&&(R=b-M.height),m?(R=t.y-.5*M.height,b=t.y+.5*M.height):y&&(k=t.x-.5*M.width,S=t.x+.5*M.width),k=Math.max(n.x,k),S=Math.min(n.x+n.width,S),R=Math.max(n.y,R),b=Math.min(n.y+n.height,b),{inner:T,outer:Ge([te(k,R),te(S,b)])}},hg=function(t){return 180*t/Math.PI};function vg(t){var div,e,n;return e=new Qm({props:{elasticity:t[5],min:t[9],max:t[10],value:t[11],valueMin:Math.max(t[9],t[0]),valueMax:Math.min(t[10],t[1]),labelReset:t[6],base:t[12],valueLabel:"".concat(Math.round(hg(t[11])),"&deg;"),oninputstart:t[2],oninputmove:t[17],oninputend:t[18]}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaImageRotator")},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,n){var r=(0,w.default)(n,1)[0],o={};32&r&&(o.elasticity=t[5]),512&r&&(o.min=t[9]),1024&r&&(o.max=t[10]),2048&r&&(o.value=t[11]),513&r&&(o.valueMin=Math.max(t[9],t[0])),1026&r&&(o.valueMax=Math.min(t[10],t[1])),64&r&&(o.labelReset=t[6]),4096&r&&(o.base=t[12]),2048&r&&(o.valueLabel="".concat(Math.round(hg(t[11])),"&deg;")),4&r&&(o.oninputstart=t[2]),392&r&&(o.oninputmove=t[17]),400&r&&(o.oninputend=t[18]),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function mg(t,e,n){var r,o,c,l,d,f,h,v=e.rotation,m=e.valueMin,y=e.valueMax,$=e.oninputstart,x=void 0===$?N:$,w=e.oninputmove,P=void 0===w?N:w,k=e.oninputend,S=void 0===k?N:k,R=e.elasticity,C=void 0===R?0:R,M=e.labelReset,T=void 0===M?void 0:M,I=e.rotationMin,A=void 0===I?void 0:I,E=e.rotationMax,L=void 0===E?void 0:E;return t.$$set=function(t){"rotation"in t&&n(13,v=t.rotation),"valueMin"in t&&n(0,m=t.valueMin),"valueMax"in t&&n(1,y=t.valueMax),"oninputstart"in t&&n(2,x=t.oninputstart),"oninputmove"in t&&n(3,P=t.oninputmove),"oninputend"in t&&n(4,S=t.oninputend),"elasticity"in t&&n(5,C=t.elasticity),"labelReset"in t&&n(6,T=t.labelReset),"rotationMin"in t&&n(14,A=t.rotationMin),"rotationMax"in t&&n(15,L=t.rotationMax)},t.$$.update=function(){16384&t.$$.dirty&&n(9,r=A+1e-9),32768&t.$$.dirty&&n(10,o=L-1e-9),1536&t.$$.dirty&&n(12,c=r+.5*(o-r)),32768&t.$$.dirty&&n(16,l=2*L),8192&t.$$.dirty&&n(8,d=Math.sign(v)),73728&t.$$.dirty&&n(7,f=Math.round(Math.abs(v)/l)*l),8576&t.$$.dirty&&n(11,h=v-d*f)},[m,y,x,P,S,C,T,f,d,r,o,h,c,v,A,L,l,function(t){return P(d*f+t)},function(t){return S(d*f+t)}]}var gg=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,mg,vg,Go,{rotation:13,valueMin:0,valueMax:1,oninputstart:2,oninputmove:3,oninputend:4,elasticity:5,labelReset:6,rotationMin:14,rotationMax:15}),r}return(0,d.default)(n)}(Pu);function bg(t){var div,p,e,n,r;return{c:function(){div=element("div"),p=element("p"),e=text(t[0]),n=text(" Ã— "),r=text(t[1]),xa(div,"class","PinturaImageInfo")},m:function(t,o){pa(t,div,o),sa(div,p),sa(p,e),sa(p,n),sa(p,r)},p:function(t,n){var o=(0,w.default)(n,1)[0];1&o&&Pa(e,t[0]),2&o&&Pa(r,t[1])},i:Do,o:Do,d:function(t){t&&ha(div)}}}function yg(t,e,n){var r=e.width,o=e.height;return t.$$set=function(t){"width"in t&&n(0,r=t.width),"height"in t&&n(1,o=t.height)},[r,o]}var $g=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,yg,bg,Go,{width:0,height:1}),r}return(0,d.default)(n)}(Pu);function xg(t){var e,n;return e=new Ef({props:{class:"PinturaPresetListFilter",layout:"row",options:t[8],selectedIndex:t[7],onchange:t[10]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};256&n&&(r.options=t[8]),128&n&&(r.selectedIndex=t[7]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function wg(t){var e,n;return e=new Hf({props:{icon:t[0],label:t[1],labelClass:t[2],hideLabel:t[3],options:t[9],selectedIndex:t[4],onchange:t[5],optionMapper:t[6],$$slots:{controls:[xg]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r=(0,w.default)(n,1)[0],o={};1&r&&(o.icon=t[0]),2&r&&(o.label=t[1]),4&r&&(o.labelClass=t[2]),8&r&&(o.hideLabel=t[3]),512&r&&(o.options=t[9]),16&r&&(o.selectedIndex=t[4]),32&r&&(o.onchange=t[5]),64&r&&(o.optionMapper=t[6]),262528&r&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}var style='fill="none" stroke="currentColor"';function Pg(t,e,n){var r,o,c,l=e.icon,label=e.label,d=e.labelClass,f=e.hideLabel,h=e.options,v=e.selectedIndex,m=e.onchange,y=e.optionMapper,$=e.filter,filter=void 0===$?"landscape":$,x=e.onfilterchange,P=void 0===x?N:x,k=function(t,e,n,r,o){return"\n    <rect ".concat(style,' x="').concat(t,'" y="').concat(e,'" width="').concat(n,'" height="').concat(r,'" rx="').concat(o,'"/>')},S=function(t,e){return"<path ".concat(style,' d="M').concat(t," ").concat(e,' l2 2 l3 -4"/>')};return t.$$set=function(t){"icon"in t&&n(0,l=t.icon),"label"in t&&n(1,label=t.label),"labelClass"in t&&n(2,d=t.labelClass),"hideLabel"in t&&n(3,f=t.hideLabel),"options"in t&&n(12,h=t.options),"selectedIndex"in t&&n(4,v=t.selectedIndex),"onchange"in t&&n(5,m=t.onchange),"optionMapper"in t&&n(6,y=t.optionMapper),"filter"in t&&n(11,filter=t.filter),"onfilterchange"in t&&n(13,P=t.onfilterchange)},t.$$.update=function(){6144&t.$$.dirty&&n(9,r=function(t,map){return(t||[]).map((function(option){return ht(option[0])?(option[1]=option[1].map(map),option):map(option)}))}(h,function(filter){return function(t){var e=(0,w.default)(t,3),n=e[0],label=e[1],r=e[2],o=void 0===r?{}:r;return kr(n)&&(o.hidden="landscape"===filter?n<1:n>1),[n,label,o]}}(filter))),2048&t.$$.dirty&&n(7,o="landscape"===filter?0:1),128&t.$$.dirty&&n(8,c=[["landscape","Landscape",{hideLabel:!0,icon:k(2,6,19,12,2)+(0===o?S(9,12):"")}],["portrait","Portrait",{hideLabel:!0,icon:k(5,3,13,18,2)+(1===o?S(9,12):"")}]])},[l,label,d,f,v,m,y,o,c,r,function(t){n(11,filter=t.value),P(t.value)},filter,h,P]}var kg=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Pg,wg,Go,{icon:0,label:1,labelClass:2,hideLabel:3,options:12,selectedIndex:4,onchange:5,optionMapper:6,filter:11,onfilterchange:13}),r}return(0,d.default)(n)}(Pu),Sg=function(t){return se(t,(function(t){return Yt(t,6)}))},Rg=function(t){return pn(t,(function(t){return Yt(t,6)}))},Cg=function(a,b){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(a-b)<t},Mg=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=o.aspectRatio;t=Rg(t),r=r.map(Sg);var l=Qe(t,sg[n.target]),d=se(l,(function(t){return Yt(t,6)})),f=c?ln(o.minSize,c):o.minSize,h=c?sn(o.maxSize,c):o.maxSize,v=Qe(e,n.target);if(be(v,l)<1){e=Ne(t);var m=Math.min(f.width/t.width,f.height/t.height);Ke(e,m,l)}e=Je(Ne(e),f,h,l);var rect=Ne(e);e=Rg(e);var y,$=wn(r,1),x=fn(t),P=fn(e),k=x.findIndex((function(t){return le(se(t,(function(t){return Yt(t,6)})),d)})),S=function(line){return $.map((function(t){return gn(t,line)})).filter(Boolean).pop()};if(c){var R=P.map((function(t,e){if(e!==k){var n=te(l.x-t.x,l.y-t.y);ue(n),he(n,.5);var r=te(l.x-n.x,l.y-n.y),o=Oe(r,Sg(t)),c=S(o);if(c){var d=x[e];return{intersection:c,cornerDist:be(l,d),intersectionDist:be(l,c)}}}})).filter(Boolean);if(R.length){var C=R.reduce((function(t,e){var n=e.intersectionDist/e.cornerDist;return n<t?n:t}),Number.MAX_SAFE_INTEGER);rect=Ne(t),Ke(rect,C,l)}}else{var M=1===n.target.length,T=!(r[0].y===r[1].y||r[0].x===r[1].x),I=x.map((function(t,e){if(e!==k){var n=P[e],r=!Cg(n.x,d.x)&&!Cg(n.y,d.y);if((M||T||!r)&&(!M||!Cg(n.x,d.x)&&!Cg(n.y,d.y))){var o=re(M?t:l),c=fe(re(o),n);ue(c),he(c,.5),M?de(o,c):fe(o,c);var f=Oe(o,n),h=S(f);if(h)return h}}})).filter(Boolean);if(I.length){var A=dg(n.target),E=(0,w.default)(A,4),L=E[0],F=E[1],z=E[2],O=E[3],B=dn(e),D=(0,w.default)(B,4),_=D[0],U=D[1],b=D[2],N=D[3];I.forEach((function(t){var e=t.x,n=t.y,r=Yt(e,6),o=Yt(n,6);z&&!Cg(o,d.y)&&(_=Math.max(_,n)),L&&!Cg(r,d.x)&&(U=Math.min(U,e)),O&&!Cg(o,d.y)&&(b=Math.min(b,n)),F&&!Cg(r,d.x)&&(N=Math.max(N,e))})),rect=Ue((y=[_,U,b,N])[3],y[0],y[1]-y[3],y[2]-y[0]),Ke(rect,.9999,l)}}return Je(rect,f,h,l),rect};function Tg(t){var e,n;return e=new vp({props:{items:t[11]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};2048&n[0]&&(r.items=t[11]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Ig(t){var div,e,n;return e=new ng({props:{$$slots:{default:[Tg]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"slot","header")},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,n){var r={};2048&n[0]|2&n[7]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function Ag(t){var button,e;return button=new rd({props:{onclick:t[88],label:t[4].cropLabelButtonRecenter,icon:t[4].cropIconButtonRecenter,class:"PinturaButtonCenter",disabled:!t[9],hideLabel:!0,style:"opacity: ".concat(t[29],"; transform: translate3d(").concat(t[30].x,"px, ").concat(t[30].y,"px, 0)")}}),{c:function(){yu(button.$$.fragment)},m:function(t,n){$u(button,t,n),e=!0},p:function(t,e){var n={};16&e[0]&&(n.label=t[4].cropLabelButtonRecenter),16&e[0]&&(n.icon=t[4].cropIconButtonRecenter),512&e[0]&&(n.disabled=!t[9]),1610612736&e[0]&&(n.style="opacity: ".concat(t[29],"; transform: translate3d(").concat(t[30].x,"px, ").concat(t[30].y,"px, 0)")),button.$set(n)},i:function(t){e||(cu(button.$$.fragment,t),e=!0)},o:function(t){lu(button.$$.fragment,t),e=!1},d:function(t){xu(button,t)}}}function Eg(t){var e,n;return(e=new cg({props:{rect:t[8],visible:t[12],style:t[1]}})).$on("resizestart",t[68]),e.$on("resizemove",t[69]),e.$on("resizeend",t[70]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};256&n[0]&&(r.rect=t[8]),4096&n[0]&&(r.visible=t[12]),2&n[0]&&(r.style=t[1]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Lg(t){var e,n;return e=new $g({props:{width:Math.round(t[13].width),height:Math.round(t[13].height)}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};8192&n[0]&&(r.width=Math.round(t[13].width)),8192&n[0]&&(r.height=Math.round(t[13].height)),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Fg(t){var e,n,r,o,c,l,d,f,h=t[21]&&t[10]&&Ag(t),v=t[21]&&Eg(t),m=t[22]&&Lg(t);return{c:function(){e=element("div"),n=element("div"),h&&h.c(),r=ma(),v&&v.c(),c=ma(),m&&m.c(),xa(n,"class","PinturaStage"),xa(e,"slot","main")},m:function(y,$){pa(y,e,$),sa(e,n),h&&h.m(n,null),sa(n,r),v&&v.m(n,null),t[162](n),sa(e,c),m&&m.m(e,null),l=!0,d||(f=[ra(os.call(null,n)),ba(n,"measure",t[160]),ba(n,"wheel",(function(){Vo(t[2]&&t[87])&&(t[2]&&t[87]).apply(this,arguments)}),{passive:!1}),ba(n,"interactionstart",t[74]),ba(n,"interactionupdate",t[75]),ba(n,"interactionrelease",t[77]),ba(n,"interactionend",t[76]),ra(o=ld.call(null,n,{drag:!0,inertia:!0,pinch:t[2],shouldStartInteraction:Vg,getEventPosition:t[163]})),ba(n,"gesturedown",t[84]),ba(n,"gestureupdate",t[85]),ba(n,"gestureup",t[86]),ra(lg.call(null,n))],d=!0)},p:function(c,l){(t=c)[21]&&t[10]?h?(h.p(t,l),2098176&l[0]&&cu(h,1)):((h=Ag(t)).c(),cu(h,1),h.m(n,r)):h&&(au(),lu(h,1,1,(function(){h=null})),uu()),t[21]?v?(v.p(t,l),2097152&l[0]&&cu(v,1)):((v=Eg(t)).c(),cu(v,1),v.m(n,null)):v&&(au(),lu(v,1,1,(function(){v=null})),uu()),o&&Vo(o.update)&&16777220&l[0]&&o.update.call(null,{drag:!0,inertia:!0,pinch:t[2],shouldStartInteraction:Vg,getEventPosition:t[163]}),t[22]?m?(m.p(t,l),4194304&l[0]&&cu(m,1)):((m=Lg(t)).c(),cu(m,1),m.m(e,null)):m&&(au(),lu(m,1,1,(function(){m=null})),uu())},i:function(t){l||(cu(h),cu(v),cu(m),l=!0)},o:function(t){lu(h),lu(v),lu(m),l=!1},d:function(n){n&&ha(e),h&&h.d(),v&&v.d(),t[162](null),m&&m.d(),d=!1,jo(f)}}}function zg(t){for(var e,n,r,o,c=[{class:"PinturaControlList"},{tabs:t[7]},t[18]],l={$$slots:{default:[Og,function(t){return{217:t.tab}},function(t){return[0,0,0,0,0,0,0,t.tab?1:0]}]},$$scope:{ctx:t}},i=0;i<c.length;i+=1)l=Uo(l,c[i]);(e=new Ps({props:l})).$on("select",t[161]);for(var d=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:t[17]},t[18]],f={$$slots:{default:[_g,function(t){return{216:t.panel}},function(t){return[0,0,0,0,0,0,t.panel?1073741824:0]}]},$$scope:{ctx:t}},h=0;h<d.length;h+=1)f=Uo(f,d[h]);return r=new zs({props:f}),{c:function(){yu(e.$$.fragment),n=ma(),yu(r.$$.fragment)},m:function(t,c){$u(e,t,c),pa(t,n,c),$u(r,t,c),o=!0},p:function(t,n){var o=262272&n[0]?mu(c,[c[0],128&n[0]&&{tabs:t[7]},262144&n[0]&&gu(t[18])]):{};3&n[7]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);var l=393216&n[0]?mu(d,[d[0],d[1],131072&n[0]&&{panels:t[17]},262144&n[0]&&gu(t[18])]):{};511721496&n[0]|1073741824&n[6]|2&n[7]&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i:function(t){o||(cu(e.$$.fragment,t),cu(r.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),lu(r.$$.fragment,t),o=!1},d:function(t){xu(e,t),t&&ha(n),xu(r,t)}}}function Og(t){var span,e,n=t[217].label+"";return{c:function(){span=element("span"),e=text(n)},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){1&r[7]&&n!==(n=t[217].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function Bg(t){var e,n;return e=new Qm({props:{elasticity:t[25]*t[43],base:jg,min:t[23],max:Wg,valueMin:t[27][0],valueMax:t[27][1],value:t[28],labelReset:t[4].labelReset,valueLabel:"".concat(Math.round(100*t[28]),"%"),oninputstart:t[81],oninputmove:t[82],oninputend:t[83]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[0]&&(r.elasticity=t[25]*t[43]),8388608&n[0]&&(r.min=t[23]),134217728&n[0]&&(r.valueMin=t[27][0]),134217728&n[0]&&(r.valueMax=t[27][1]),268435456&n[0]&&(r.value=t[28]),16&n[0]&&(r.labelReset=t[4].labelReset),268435456&n[0]&&(r.valueLabel="".concat(Math.round(100*t[28]),"%")),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Dg(t){var e,n;return e=new gg({props:{elasticity:t[25]*t[43],rotation:t[14],labelReset:t[4].labelReset,valueMin:t[26][0],valueMax:t[26][1],rotationMin:-t[3],rotationMax:t[3],oninputstart:t[71],oninputmove:t[72],oninputend:t[73]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[0]&&(r.elasticity=t[25]*t[43]),16384&n[0]&&(r.rotation=t[14]),16&n[0]&&(r.labelReset=t[4].labelReset),67108864&n[0]&&(r.valueMin=t[26][0]),67108864&n[0]&&(r.valueMax=t[26][1]),8&n[0]&&(r.rotationMin=-t[3]),8&n[0]&&(r.rotationMax=t[3]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function _g(t){var e,n,r,o,c=[Dg,Bg],l=[];function d(t,e){return t[216]===t[93]+"-rotation"?0:t[216]===t[93]+"-zoom"?1:-1}return~(e=d(t))&&(n=l[e]=c[e](t)),{c:function(){n&&n.c(),r=ga()},m:function(t,n){~e&&l[e].m(t,n),pa(t,r,n),o=!0},p:function(t,o){var f=e;(e=d(t))===f?~e&&l[e].p(t,o):(n&&(au(),lu(l[f],1,1,(function(){l[f]=null})),uu()),~e?((n=l[e])?n.p(t,o):(n=l[e]=c[e](t)).c(),cu(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){o||(cu(n),o=!0)},o:function(t){lu(n),o=!1},d:function(t){~e&&l[e].d(t),t&&ha(r)}}}function Ug(t){var div,e,n=t[19]&&zg(t);return{c:function(){div=element("div"),n&&n.c(),xa(div,"slot","footer"),xa(div,"style",t[16])},m:function(t,r){pa(t,div,r),n&&n.m(div,null),e=!0},p:function(t,r){t[19]?n?(n.p(t,r),524288&r[0]&&cu(n,1)):((n=zg(t)).c(),cu(n,1),n.m(div,null)):n&&(au(),lu(n,1,1,(function(){n=null})),uu()),(!e||65536&r[0])&&xa(div,"style",t[16])},i:function(t){e||(cu(n),e=!0)},o:function(t){lu(n),e=!1},d:function(t){t&&ha(div),n&&n.d()}}}function Ng(t){var e,n,r;function o(e){t[164](e)}var c={hasHeader:t[20],$$slots:{footer:[Ug],main:[Fg],header:[Ig]},$$scope:{ctx:t}};return void 0!==t[15]&&(c.root=t[15]),e=new qm({props:c}),ja.push((function(){return bu(e,"root",o,t[15])})),e.$on("measure",t[165]),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(t,r){var o={};1048576&r[0]&&(o.hasHeader=t[20]),2146402302&r[0]|2&r[7]&&(o.$$scope={dirty:r,ctx:t}),!n&&32768&r[0]&&(n=!0,o.root=t[15],Ka((function(){return n=!1}))),e.$set(o)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}var Wg=1,jg=0,Vg=function(t,element){return t.target===element};function Gg(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,k,S,R,C,M,T,I,A,E,L,F,O,B,D,_,U,N,W,j,V,G,H,Z,X,Y,K,J,Q,tt,et,nt,it,ot,at,ut,ct,lt,st,ft,pt,ht,vt,mt,gt,bt,yt,xt,wt,Pt,kt,St,Rt,Ct,Mt,Tt,It,At,Et,Lt,Ot,Bt=Do,Ut=function(){return Bt(),Bt=Ho(Nt,(function(t){return n(12,N=t)})),Nt};t.$$.on_destroy.push((function(){return Bt()}));var Nt=e.isActive;Ut();var Wt=e.stores,jt=e.cropImageSelectionCornerStyle,Vt=void 0===jt?"circle":jt,Kt=e.cropWillRenderImageSelectionGuides,Jt=void 0===Kt?function(t,e){var n="rotate"==t;return{rows:n?5:3,cols:n?5:3,opacity:.25*e}}:Kt,Qt=e.cropAutoCenterImageSelectionTimeout,ee=void 0===Qt?void 0:Qt,ne=e.cropEnableZoomMatchImageAspectRatio,oe=void 0===ne||ne,ce=e.cropEnableRotateMatchImageAspectRatio,se=void 0===ce?"never":ce,pe=e.cropEnableRotationInput,ve=void 0===pe||pe,me=e.cropEnableZoom,ge=void 0===me||me,be=e.cropEnableZoomInput,ye=void 0===be||be,$e=e.cropEnableZoomAutoHide,xe=void 0===$e||$e,we=e.cropEnableImageSelection,Pe=void 0===we||we,Se=e.cropEnableInfoIndicator,Me=void 0!==Se&&Se,Ie=e.cropEnableZoomTowardsWheelPosition,Oe=void 0===Ie||Ie,Be=e.cropEnableLimitWheelInputToCropSelection,De=void 0===Be||Be,_e=e.cropEnableCenterImageSelection,Ue=void 0===_e||_e,We=e.cropEnableButtonRotateLeft,Ve=void 0===We||We,Ge=e.cropEnableButtonRotateRight,He=void 0!==Ge&&Ge,Je=e.cropEnableButtonFlipHorizontal,Qe=void 0===Je||Je,rn=e.cropEnableButtonFlipVertical,on=void 0!==rn&&rn,an=e.cropSelectPresetOptions,fn=void 0===an?void 0:an,hn=e.cropEnableSelectPreset,vn=void 0===hn||hn,mn=e.cropEnableFilterMatchAspectRatio,gn=void 0===mn||mn,bn=e.cropSelectPresetFilter,yn=void 0!==bn&&bn,$n=e.cropEnableButtonToggleCropLimit,xn=void 0!==$n&&$n,wn=e.cropWillRenderTools,Pn=void 0===wn?zt:wn,kn=e.cropActiveTransformTool,Sn=void 0===kn?"rotation":kn,Rn=e.cropMinimizeToolbar,Cn=void 0===Rn?"auto":Rn,Mn=e.cropInteractionFocus,Tn=void 0===Mn?"image":Mn,In=e.cropRotationRange,An=void 0===In?Dt:In,En=e.cropMaskOpacity,Ln=void 0===En?.85:En,Fn=e.locale,zn=void 0===Fn?{}:Fn,On=Ua("isAnimated");Xo(t,On,(function(t){return n(139,W=t)}));var Bn=Ua("elasticityMultiplier");Xo(t,Bn,(function(t){return n(25,Tt=t)}));var Dn=Ua("redrawTrigger");Xo(t,Dn,(function(t){return n(159,Mt=t)}));var _n=Ua("imageIsStatic");Xo(t,_n,(function(t){return n(145,K=t)}));var Un=Ua("imageStaticVisualCorners");Xo(t,Un,(function(t){return n(181,yt=t)}));var Nn="idle",Wn=Ru();Xo(t,Wn,(function(t){return n(156,St=t)}));var jn,Vn=function(){return void 0===gt},Gn=function(t){return 1/t},Hn=function(filter){gn&&yn!==filter&&(n(95,yn=filter),gt&&1!==gt&&Zn()&&na(Lr,gt=Gn(gt),gt))},Zn=function(){if(1===gt||!r)return!1;var t=Gn(gt);return!!ef(St).find((function(e){return(0,w.default)(e,1)[0]===t}))},Xn=function(t,e,n){return _t(n)?e.width===Math.round(t.height)||e.height===Math.round(t.width):e.width===Math.round(t.width)||e.height===Math.round(t.height)},qn=function(){return(Vn()||"always"===se&&Zn())&&function(t,e,n){var r=ze(Le(ke(e),n),(function(t){return Math.abs(Math.round(t))})),o=Ee(r),c=qe(t);return le(o,c)}(J,ct,lt)&&Xn(J,ct,lt)},Yn=function(t){if("never"!==se&&qn()){na(yr,lt+=t,lt);var e=_t(lt),n=e?ct.height:ct.width,r=e?ct.width:ct.height;na(Tr,J=Xe(0,0,n,r),J),Vn()||na(Lr,gt=Ft(n,r),gt)}else na(yr,lt+=t,lt)},Kn=Wt,Jn=Kn.history,Qn=Kn.env,er=Kn.isInteracting,nr=Kn.isInteractingFraction,rr=Kn.isTransformingImage,ir=Kn.rootRect,or=Kn.stageRect,ar=(Kn.utilRect,Kn.utilRectPadded),ur=Kn.rootLineColor,cr=Kn.allowPan,lr=Kn.allowZoom,sr=Kn.rangeInputElasticity,dr=Kn.presentationScalar,fr=Kn.utilTools,pr=Kn.imagePreviewModifiers,vr=Kn.imageOutlineOpacity,mr=Kn.imageFlipX,gr=Kn.imageFlipY,yr=Kn.imageRotation,$r=Kn.imageRotationRange,xr=Kn.imageOutputSize,wr=Kn.imageSelectionRect,Pr=Kn.imageSelectionRectSnapshot,kr=Kn.imageSelectionRectIntent,Sr=Kn.imageSelectionRectPresentation,Rr=Kn.imageCropRectIntent,Mr=Kn.imageCropRectOrigin,Tr=Kn.imageCropRect,Ir=Kn.imageCropMinSize,Ar=Kn.imageCropMaxSize,Er=Kn.imageCropRange,Lr=Kn.imageCropAspectRatio,Fr=Kn.imageCropLimitToImage,zr=Kn.imageSize,Or=Kn.imageScalar,Br=Kn.imageOverlayMarkup,Dr=Kn.stagePadded,_r=Kn.stageRecenter;Xo(t,Qn,(function(t){return n(140,j=t)})),Xo(t,er,(function(t){return n(144,Y=t)})),Xo(t,rr,(function(t){return n(174,at=t)})),Xo(t,ir,(function(t){return n(24,pt=t)})),Xo(t,or,(function(t){return n(151,ot=t)})),Xo(t,ar,(function(t){return n(148,et=t)})),Xo(t,dr,(function(t){return n(147,tt=t)})),Xo(t,fr,(function(t){return n(183,wt=t)})),Xo(t,pr,(function(t){return n(173,Z=t)})),Xo(t,mr,(function(t){return n(158,Ct=t)})),Xo(t,gr,(function(t){return n(157,Rt=t)})),Xo(t,yr,(function(t){return n(14,lt=t)})),Xo(t,$r,(function(t){return n(26,It=t)})),Xo(t,xr,(function(t){return n(184,Pt=t)})),Xo(t,wr,(function(t){return n(150,it=t)})),Xo(t,Pr,(function(t){return n(149,nt=t)})),Xo(t,kr,(function(t){return n(182,xt=t)})),Xo(t,Sr,(function(t){return n(143,X=t)})),Xo(t,Rr,(function(t){return n(176,ht=t)})),Xo(t,Mr,(function(t){return n(178,mt=t)})),Xo(t,Tr,(function(t){return n(13,J=t)})),Xo(t,Ir,(function(t){return n(154,ft=t)})),Xo(t,Ar,(function(t){return n(180,bt=t)})),Xo(t,Er,(function(t){return n(177,vt=t)})),Xo(t,Lr,(function(t){return n(179,gt=t)})),Xo(t,Fr,(function(t){return n(153,st=t)})),Xo(t,zr,(function(t){return n(152,ct=t)})),Xo(t,Or,(function(t){return n(146,Q=t)})),Xo(t,Br,(function(t){return n(172,G=t)})),Xo(t,Dr,(function(t){return n(142,H=t)}));var Ur=function(t,e){var n={target:t,translate:e},r=Ae(ke(ft),tt),o=Ae(ke(bt),tt),c=fg(nt,n,z(z({},et),{},{x:0,y:0}),{aspectRatio:gt,minSize:r,maxSize:o});if(c=function(t,e,n){var r=dn(t),o=(0,w.default)(r,4),c=o[0],l=o[1],b=o[2],d=o[3],f=z({},t);if(c<e.y&&(t.height=t.height-(e.y-c),t.y=e.y),l>e.x+e.width&&(t.width=e.x+e.width-t.x),b>e.y+e.height&&(t.height=e.y+e.height-t.y),d<e.x&&(t.width=t.width-(e.x-d),t.x=e.x),n){var h=Math.min(1,f.width/t.width,f.height/t.height);return tn(f,h)}return t}(c,z(z({},et),{},{x:0,y:0}),gt),!st)return{boundsLimited:c,boundsIntent:c};var l=Mg(nt,c,n,yt,{aspectRatio:gt,minSize:r,maxSize:o});return{boundsLimited:l,boundsIntent:l}},Nr=function(t,e){var n={target:t,translate:e},r=Ae(ke(ft),tt),o=Ae(ke(bt),tt),c=function(rect,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.target,r=t.translate,o=e.aspectRatio,c=e.minSize,l=qt[sg[n]],d=de(Ne(rect),te(l[0]*rect.width,l[1]*rect.height)),f=qt[n],h=de(Ne(rect),te(f[0]*rect.width,f[1]*rect.height)),v=dg(n),m=(0,w.default)(v,7),y=m[0],$=m[1],x=m[2],P=m[3],k=m[4],S=m[5],R=m[6],C=r.x,M=r.y;k?M=0:S&&(C=0);var T=dn(rect),I=(0,w.default)(T,4),A=I[0],E=I[1],b=I[2],L=I[3];if(y?L=d.x:$&&(E=d.x),P?A=d.y:x&&(b=d.y),y?E=h.x+C:$&&(L=h.x+C),P?b=h.y+M:x&&(A=h.y+M),c&&k&&b-A<c.height){var F=c.height-(b-A);A-=.5*F,b+=.5*F}if(c&&S&&E-L<c.width){var z=c.width-(E-L);L-=.5*z,E+=.5*z}if(o)if(R){var O=E-L,B=b-A;k?(B=O/o,A=d.y-.5*B,b=d.y+.5*B):S&&(O=B*o,L=d.x-.5*O,E=d.x+.5*O)}else{var D=te(h.x+C-d.x,h.y+M-d.y);n===Ht?(D.x=Math.max(0,D.x),D.y=Math.min(0,D.y)):n===Zt?(D.x=Math.max(0,D.x),D.y=Math.max(0,D.y)):n===Xt?(D.x=Math.min(0,D.x),D.y=Math.max(0,D.y)):n===Gt&&(D.x=Math.min(0,D.x),D.y=Math.min(0,D.y));var _=ae(D),U=te(o,1),N=he(ue(U),_);n===Ht?(E=d.x+N.x,A=d.y-N.y):n===Zt?(E=d.x+N.x,b=d.y+N.y):n===Xt?(L=d.x-N.x,b=d.y+N.y):n===Gt&&(L=d.x-N.x,A=d.y-N.y)}return Xe(L,A,E-L,b-A)}(nt,n,{aspectRatio:gt,minSize:r});return{boundsLimited:fg(nt,n,z(z({},et),{},{x:0,y:0}),{aspectRatio:gt,minSize:r,maxSize:o}),boundsIntent:c}},Wr=void 0,jr=void 0,Vr=function(t){var e=t.translation,n=t.scalar;K&&(n=1,e=ie(re(e)));var r,o=Math.min(it.width/J.width,it.height/J.height),c=he(re(e),1/o);if(jr){var l=fe(re(jr),e);jr=e,r=Ye(Ne(J),l)}else r=Ye(Ne(Wr),ie(re(c))),void 0!==n&&Ke(r,1/n);na(Rr,ht=r,ht),na(Tr,J=r,J)},Gr=Cu([Er,Tr],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];if(o){var c=(0,w.default)(r,2),l=c[0],d=c[1],f=nn(o);e([Re(pn(ln(l,f),Yt)),Re(pn(sn(d,f),Yt))])}}));Xo(t,Gr,(function(t){return n(175,ut=t)}));var Hr=Cu([zr,Fr,Ir,Ar,Er,yr],(function(t,e){var n=(0,w.default)(t,6),r=n[0],o=n[1],c=n[2],l=(n[3],n[4]),d=n[5];if(r){var f,h,v=l[0],m=l[1];o?(f=function(t,e,n){return _t(n)?1-1/Math.min(t.height/e.width,t.width/e.height):1-1/Math.min(t.width/e.width,t.height/e.height)}(r,m,d),h=Math.min(v.width/c.width,v.height/c.height)):(f=-1,h=1),e([f,h].map((function(t){return Yt(t)})))}}));Xo(t,Hr,(function(t){return n(27,At=t)}));var Zr=Cu([zr,Tr,Er,yr],(function(t,e){var n,r=(0,w.default)(t,4),o=r[0],c=r[1],l=r[2],d=r[3];if(!o||!c)return e(0);var f=l[0],h=l[1],v=c.width,m=c.height,y=nn(c),$=_t(d)?Te(o.height,o.width):o,x=sn($,y);if(v<=x.width||m<=x.height){var P=x.width-f.width,k=x.height-f.height;n=0===P||0===k?1:1-Math.min((v-f.width)/P,(m-f.height)/k)}else{var S=h.width-x.width,R=h.height-x.height,C=sn({width:S,height:R},y);n=-Math.min((v-x.width)/C.width,(m-x.height)/C.height)}e(n)}));Xo(t,Zr,(function(t){return n(28,Et=t)}));var Xr,qr,Yr=function(t){var e,n,r,o=nn(Wr),c=_t(lt)?Te(ct.height,ct.width):ct,l=sn(c,o);if(t>=0){var d=l.width-vt[0].width,f=l.height-vt[0].height;e=l.width-d*t,n=l.height-f*t,r=ln({width:e,height:n},o)}else{var h=vt[1].width-l.width,v=vt[1].height-l.height;e=l.width+h*-t,n=l.height+v*-t,r=sn({width:e,height:n},o)}e=r.width,n=r.height;var m=Wr.x+.5*Wr.width-.5*e,y=Wr.y+.5*Wr.height-.5*n;na(Tr,J={x:m,y:y,width:e,height:n},J)},Kr=function(t){var e=Ke(Ne(Xr),1/t);na(Rr,ht=e,ht),na(Tr,J=e,J)};Da();var Jr,Qr=function(){_r.set({})},ti=Zl(0,{precision:1e-4});Xo(t,ti,(function(t){return n(29,Lt=t)}));var ei=Zl();Xo(t,ei,(function(t){return n(30,Ot=t)}));var ni=Cu([Lr,xr,Wn],(function(t,e){var n=(0,w.default)(t,3),o=n[0],c=n[1],l=n[2];if(r){var d=ef(l),f=(0,P.default)(d).map((function(option){return option[0]})).sort((function(a,b){return Cr(a[0])&&!Cr(b[0])?1:-1})).find((function(t){if(Cr(t)&&c){var e=(0,w.default)(t,2),n=e[0],r=e[1],l=c.width===n&&c.height===r,d=o===Ft(n,r);return l&&d}return t===o}));if(!f)return e(void 0);e(d.map((function(option){return option[0]})).findIndex((function(t){return Cr(t)?Ku(t,f):t===f})))}}));Xo(t,ni,(function(t){return n(155,kt=t)}));var ri=function(t,e){if(r&&-1!==t&&void 0!==t){var n=ef(e)[t][0];return n?Cr(n)?Ft(n[0],n[1]):n:void 0}},ii=Cu([ur,Sr,nr],(function(t,e){var n=(0,w.default)(t,3),r=n[0],o=n[1],c=n[2],l=Jt(Nn,c),d=l.rows,f=l.cols,h=l.opacity;if(!o||h<=0)return e([]);for(var v=o.x,m=o.y,y=o.width,$=o.height,x=y/f,P=$/d,k=[],S=1;S<=d-1;S++){var R=m+P*S;k.push({id:"image-selection-guide-row-".concat(S),points:[te(v,R),te(v+y,R)],opacity:h,strokeWidth:1,strokeColor:r})}for(var C=1;C<=f-1;C++){var M=v+x*C;k.push({id:"image-selection-guide-col-".concat(C),points:[te(M,m),te(M,m+$)],opacity:h,strokeWidth:1,strokeColor:r})}e(k)}));Xo(t,ii,(function(t){return n(141,V=t)}));var oi,ai="crop-".concat($t()),ui=ai+"-"+(ve?Sn:"zoom"),ci=ui,si=void 0,di=Zl(W?20:0);Xo(t,di,(function(t){return n(138,U=t)}));return t.$$set=function(t){"isActive"in t&&Ut(n(0,Nt=t.isActive)),"stores"in t&&n(97,Wt=t.stores),"cropImageSelectionCornerStyle"in t&&n(1,Vt=t.cropImageSelectionCornerStyle),"cropWillRenderImageSelectionGuides"in t&&n(98,Jt=t.cropWillRenderImageSelectionGuides),"cropAutoCenterImageSelectionTimeout"in t&&n(99,ee=t.cropAutoCenterImageSelectionTimeout),"cropEnableZoomMatchImageAspectRatio"in t&&n(100,oe=t.cropEnableZoomMatchImageAspectRatio),"cropEnableRotateMatchImageAspectRatio"in t&&n(101,se=t.cropEnableRotateMatchImageAspectRatio),"cropEnableRotationInput"in t&&n(102,ve=t.cropEnableRotationInput),"cropEnableZoom"in t&&n(2,ge=t.cropEnableZoom),"cropEnableZoomInput"in t&&n(103,ye=t.cropEnableZoomInput),"cropEnableZoomAutoHide"in t&&n(104,xe=t.cropEnableZoomAutoHide),"cropEnableImageSelection"in t&&n(105,Pe=t.cropEnableImageSelection),"cropEnableInfoIndicator"in t&&n(106,Me=t.cropEnableInfoIndicator),"cropEnableZoomTowardsWheelPosition"in t&&n(107,Oe=t.cropEnableZoomTowardsWheelPosition),"cropEnableLimitWheelInputToCropSelection"in t&&n(108,De=t.cropEnableLimitWheelInputToCropSelection),"cropEnableCenterImageSelection"in t&&n(109,Ue=t.cropEnableCenterImageSelection),"cropEnableButtonRotateLeft"in t&&n(110,Ve=t.cropEnableButtonRotateLeft),"cropEnableButtonRotateRight"in t&&n(111,He=t.cropEnableButtonRotateRight),"cropEnableButtonFlipHorizontal"in t&&n(112,Qe=t.cropEnableButtonFlipHorizontal),"cropEnableButtonFlipVertical"in t&&n(113,on=t.cropEnableButtonFlipVertical),"cropSelectPresetOptions"in t&&n(114,fn=t.cropSelectPresetOptions),"cropEnableSelectPreset"in t&&n(115,vn=t.cropEnableSelectPreset),"cropEnableFilterMatchAspectRatio"in t&&n(116,gn=t.cropEnableFilterMatchAspectRatio),"cropSelectPresetFilter"in t&&n(95,yn=t.cropSelectPresetFilter),"cropEnableButtonToggleCropLimit"in t&&n(117,xn=t.cropEnableButtonToggleCropLimit),"cropWillRenderTools"in t&&n(118,Pn=t.cropWillRenderTools),"cropActiveTransformTool"in t&&n(119,Sn=t.cropActiveTransformTool),"cropMinimizeToolbar"in t&&n(120,Cn=t.cropMinimizeToolbar),"cropInteractionFocus"in t&&n(121,Tn=t.cropInteractionFocus),"cropRotationRange"in t&&n(3,An=t.cropRotationRange),"cropMaskOpacity"in t&&n(122,Ln=t.cropMaskOpacity),"locale"in t&&n(4,zn=t.locale)},t.$$.update=function(){var e;4096&t.$$.dirty[0]|268435456&t.$$.dirty[3]&&_n.set("selection"===Tn&&N),2097152&t.$$.dirty[3]&&n(129,r=fn&&Array.isArray(fn)&&fn.length),2097152&t.$$.dirty[3]|32&t.$$.dirty[4]&&Wn.set(r?fn:[]),4096&t.$$.dirty[0]&&N&&vr.set(1),4096&t.$$.dirty[0]&&cr.set(!N),4096&t.$$.dirty[0]&&lr.set(!N),65536&t.$$.dirty[4]&&n(124,$="overlay"===j.layoutMode),4194304&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(128,I=vn&&!$),83886080&t.$$.dirty[4]&&n(137,f=et&&it&&un(et,it)),67117056&t.$$.dirty[4]&&n(135,h=!(!it||!f)),67119104&t.$$.dirty[4]&&n(133,v=h&&en(it,f,(function(t){return Yt(t,5)}))),16400&t.$$.dirty[0]|52297732&t.$$.dirty[3]|1879114288&t.$$.dirty[4]|31&t.$$.dirty[5]&&n(11,o=Mt&&Pn([Ve&&["Button","rotate-left",{label:zn.cropLabelButtonRotateLeft,labelClass:"PinturaToolbarContentWide",icon:zn.cropIconButtonRotateLeft,onclick:function(){Yn(-Math.PI/2),Jn.write()}}],He&&["Button","rotate-right",{label:zn.cropLabelButtonRotateRight,labelClass:"PinturaToolbarContentWide",icon:zn.cropIconButtonRotateRight,onclick:function(){Yn(Math.PI/2),Jn.write()}}],Qe&&["Button","flip-horizontal",{label:zn.cropLabelButtonFlipHorizontal,labelClass:"PinturaToolbarContentWide",icon:zn.cropIconButtonFlipHorizontal,onclick:function(){_t(lt)?na(gr,Rt=!Rt,Rt):na(mr,Ct=!Ct,Ct),Jn.write()}}],on&&["Button","flip-vertical",{label:zn.cropLabelButtonFlipVertical,labelClass:"PinturaToolbarContentWide",icon:zn.cropIconButtonFlipVertical,onclick:function(){_t(lt)?na(mr,Ct=!Ct,Ct):na(gr,Rt=!Rt,Rt),Jn.write()}}],I&&r&&[!1===yn?"Dropdown":kg,"select-preset",{icon:rf(zn.cropIconSelectPreset,zn,ri(kt,St)),label:rf(zn.cropLabelSelectPreset,zn,ri(kt,St)),labelClass:"PinturaToolbarContentWide",options:St,filter:yn,onfilterchange:Hn,selectedIndex:kt,onchange:function(t){var e=t.value;Cr(e)?(na(Lr,gt=Ft(e[0],e[1]),gt),na(xr,Pt=Ce(e),Pt)):na(Lr,gt=e,gt),v&&Qr(),Jn.write()},optionMapper:function(option){var t=!1,e=Cr(option.value)?option.value[0]/option.value[1]:option.value;if(e){var n=Vu(ct,lt,e);t=n.width<ft.width||n.height<ft.height}return option.icon=function(t){var e,n,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.width,d=void 0===l?24:l,f=c.height,h=void 0===f?24:f,v=c.bounds,m=void 0===v?16:v,y=c.radius,$=void 0===y?3:y,x=Cr(t)?Ft(t[0],t[1]):t,w=!!x;o=(r=(x=w?x:1)>1?m:x*m)/x,e=Math.round(.5*(d-r)),n=Math.round(.5*(h-o));var P=w?"currentColor":"none",k=w?"none":"currentColor",S=d/16,R=[d/12,d/6].join(" ");return'<rect fill="'.concat(P,'" stroke="').concat(k,'" stroke-width="').concat(S,'" stroke-dasharray="').concat(R,'" x="').concat(e,'" y="').concat(n,'" width="').concat(r,'" height="').concat(o,'" rx="').concat($,'"/>')}(option.value,{bounds:14}),z(z({},option),{},{disabled:t})}}],xn&&["Dropdown","select-crop-limit",{icon:rf(zn.cropIconCropBoundary,zn,st),label:zn.cropLabelCropBoundary,labelClass:"PinturaToolbarContentWide",onchange:function(t){var e=t.value;na(Fr,st=e,st),Jn.write()},options:[[!0,zn.cropLabelCropBoundaryEdge,{icon:rf(zn.cropIconCropBoundary,zn,!0)}],[!1,zn.cropLabelCropBoundaryNone,{icon:rf(zn.cropIconCropBoundary,zn,!1)}]]}]].filter(Boolean),j,(function(){return Dn.set({})})).filter(Boolean)),6144&t.$$.dirty[0]|134217728&t.$$.dirty[3]|65537&t.$$.dirty[4]&&na(fr,wt=N&&"never"!==Cn&&("always"===Cn||"short"===j.verticalSpace||$)?o.map((function(t){var e=(0,w.default)(t,3),n=e[0],r=e[1],o=e[2];return Array.isArray(o)?[n,r,o]:[n,r,z(z({},o),{},{hideLabel:!0})]})):[],wt),536870912&t.$$.dirty[4]&&n(23,c=st?0:-1),150994944&t.$$.dirty[4]&&n(130,l=et&&te(-(ot.x-et.x),-(ot.y-et.y))),524352&t.$$.dirty[4]&&n(131,d=X&&te(Bd(X.x+.5*X.width+l.x),Bd(X.y+.5*X.height+l.y))),33554432&t.$$.dirty[4]&&n(134,m=null!=nt),16785408&t.$$.dirty[4]&&n(136,y=et&&f&&(f.height===et.height||f.width===et.width)),12587008&t.$$.dirty[4]&&n(132,x=!y&&tt<1&&Q<1),3840&t.$$.dirty[4]&&n(9,k=h&&!m&&(!v||x)),8192&t.$$.dirty[0]|8192&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(22,S=Me&&!!J&&!$),524352&t.$$.dirty[4]&&n(8,M=X&&l&&{x:X.x+l.x,y:X.y+l.y,width:X.width,height:X.height}),256&t.$$.dirty[0]|4096&t.$$.dirty[3]|1&t.$$.dirty[4]&&n(21,R=Pe&&!!M&&!$),65600&t.$$.dirty[3]|2097280&t.$$.dirty[4]&&n(10,C=Ue&&!!d&&!ee&&!K),512&t.$$.dirty[0]|1073741888&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&k&&ee&&!Y&&(clearTimeout(Jr),n(123,Jr=setTimeout(Qr,ee))),1073741824&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&Y&&clearTimeout(Jr),1536&t.$$.dirty[0]|32768&t.$$.dirty[4]&&ti.set(C&&k?1:0,{hard:!1===W}),32896&t.$$.dirty[4]&&ei.set(d,{hard:!1===W}),4096&t.$$.dirty[0]|262144&t.$$.dirty[4]&&(N&&!H?(na(pr,Z.crop={maskOpacity:Ln,maskMarkupOpacity:Ln},Z),pr.set(Z)):(delete Z.crop,pr.set(Z))),131072&t.$$.dirty[4]&&V&&(e=G.filter((function(t){return!/^image\-selection\-guide/.test(t.id)})),na(Br,G=N?[].concat((0,P.default)(e),(0,P.default)(V)):e,G)),65536&t.$$.dirty[4]&&n(127,T="short"!==j.verticalSpace),134217728&t.$$.dirty[3]|9&t.$$.dirty[4]&&n(20,A="never"===Cn&&!$||T&&"always"!==Cn),4&t.$$.dirty[0]|1024&t.$$.dirty[3]&&n(126,E=ge&&ye),2048&t.$$.dirty[3]|12&t.$$.dirty[4]&&n(125,L=xe?T&&E:E),512&t.$$.dirty[3]|2&t.$$.dirty[4]&&n(19,F=ve||L),2&t.$$.dirty[4]&&(L||n(5,ci=ui)),32&t.$$.dirty[0]&&n(18,O={name:ai,selected:ci}),16&t.$$.dirty[0]|512&t.$$.dirty[3]|2&t.$$.dirty[4]&&n(7,B=[ve&&{id:ai+"-rotation",label:zn.cropLabelTabRotation},L&&{id:ai+"-zoom",label:zn.cropLabelTabZoom}].filter(Boolean)),128&t.$$.dirty[0]&&n(17,D=B.map((function(t){return t.id}))),64&t.$$.dirty[0]|1&t.$$.dirty[4]&&oi&&!oi.children.length&&$&&oi.dispatchEvent(new CustomEvent("measure",{detail:oi.rect})),4096&t.$$.dirty[0]|32768&t.$$.dirty[4]&&W&&di.set(N?0:20),16384&t.$$.dirty[4]&&n(16,_=U?"transform: translateY(".concat(U,"px)"):void 0)},[Nt,Vt,ge,An,zn,ci,oi,B,M,k,C,o,N,J,lt,si,_,D,O,F,A,R,S,c,pt,Tt,It,At,Et,Lt,Ot,On,Bn,Dn,_n,Un,Wn,Qn,er,rr,ir,or,ar,sr,dr,fr,pr,mr,gr,yr,$r,xr,wr,Pr,kr,Sr,Rr,Mr,Tr,Ir,Ar,Er,Lr,Fr,zr,Or,Br,Dr,function(){Nn="select",na(er,Y=!0,Y),na(Pr,nt=Ne(it),nt),jn=K?Ur:Nr},function(t){var e=t.detail,n=jn(e.direction,e.translation),r=n.boundsLimited,o=n.boundsIntent;na(rr,at=!0,at),na(kr,xt=o,xt),na(wr,it=r,it)},function(t){var e=t.detail,n=jn(e.direction,e.translation).boundsLimited;na(rr,at=!1,at),na(er,Y=!1,Y),na(kr,xt=void 0,xt),ae(e.translation)&&(na(wr,it=n,it),Jn.write()),na(Pr,nt=void 0,nt),Nn=void 0},function(){Nn="rotate",na(er,Y=!0,Y),na(Mr,mt=Ne(J),mt)},function(t){na(rr,at=!0,at),na(yr,lt=t,lt)},function(t){na(rr,at=!1,at),na(er,Y=!1,Y),na(yr,lt=t,lt),Jn.write(),na(Mr,mt=void 0,mt)},function(){Nn="pan",jr=void 0,na(er,Y=!0,Y),Wr=Ne(J)},function(t){var e=t.detail;na(rr,at=!0,at),Vr(e)},function(t){var e=t.detail;na(rr,at=!1,at),na(er,Y=!1,Y),(ae(e.translation)>0||0!==e.scalar)&&(Vr(e),Jn.write()),na(Rr,ht=void 0,ht),Wr=void 0},function(t){var e=t.detail.translation;K&&(e=ie(re(e))),jr=e,na(er,Y=!1,Y)},Gr,Hr,Zr,function(){Nn="zoom",na(er,Y=!0,Y),Wr=Ne(J)},function(t){na(rr,at=!1,at),Yr(t)},function(t){Yr(t),Jn.write(),na(rr,at=!1,at),na(er,Y=!1,Y),Wr=void 0},function(){Nn="zoom",Wr||(Xr=Ne(J),na(er,Y=!0,Y))},function(t){var e=t.detail;Xr&&(na(rr,at=!0,at),Kr(e))},function(t){var e=t.detail;Xr&&(na(rr,at=!1,at),na(er,Y=!1,Y),Kr(e),na(Rr,ht=void 0,ht),Xr=void 0,Jn.write())},function(t){var e=Up(t,pt,ot);if(!De||cn(it,e)){Nn="zoom",na(er,Y=!0,Y),na(rr,at=!0,at),t.preventDefault(),t.stopPropagation();var n=vd(t),r=1+n/100,o=Ne(J),c=1===Math.min(J.width/ft.width,J.height/ft.height);if(oe&&st){var l=Xn(J,ct,lt);if(Vn()&&l&&n>0&&v){na(er,Y=!1,Y),na(rr,at=!1,at);var d=_t(lt)?je({height:ct.width,width:ct.height}):je(ct);if(en(o,d))return;if(clearTimeout(qr),en(Jn.state.crop,d))return;return na(Tr,J=d,J),void Jn.write()}}var f=qe(J);if(Oe&&"selection"!==Tn&&n<0&&!c){var h=fe(re(e),it),m=Math.min(it.width/J.width,it.height/J.height),y=Ke(Ne(it),1.1);f=cn(y,e)?de(Ne(J),he(h,1/m)):f}var $=Ke(Ne(J),r,f);if(Fe(ut[1],$)||($=Ze(qe($),ut[1])),Fe($,ut[0])||($=Ze(qe($),ut[0])),en(o,$,Yt))return na(er,Y=!1,Y),void na(rr,at=!1,at);na(Tr,J=pn($,(function(t){return Yt(t,5)})),J),na(er,Y=!1,Y),na(rr,at=!1,at),clearTimeout(qr),qr=setTimeout((function(){Jn.write()}),500)}},Qr,ti,ei,ni,ii,ai,di,yn,"crop",Wt,Jt,ee,oe,se,ve,ye,xe,Pe,Me,Oe,De,Ue,Ve,He,Qe,on,fn,vn,gn,xn,Pn,Sn,Cn,Tn,Ln,Jr,$,L,E,T,I,r,l,d,x,v,m,h,y,f,U,W,j,V,H,X,Y,K,Q,tt,et,nt,it,ot,ct,st,ft,kt,St,Rt,Ct,Mt,function(e){Na.call(this,t,e)},function(t){var e=t.detail;return n(5,ci=e)},function(t){ja[t?"unshift":"push"]((function(){n(6,oi=t)}))},function(t){return _p(t)},function(t){n(15,si=t)},function(e){Na.call(this,t,e)}]}var Hg={util:["crop",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Gg,Ng,Go,{name:96,isActive:0,stores:97,cropImageSelectionCornerStyle:1,cropWillRenderImageSelectionGuides:98,cropAutoCenterImageSelectionTimeout:99,cropEnableZoomMatchImageAspectRatio:100,cropEnableRotateMatchImageAspectRatio:101,cropEnableRotationInput:102,cropEnableZoom:2,cropEnableZoomInput:103,cropEnableZoomAutoHide:104,cropEnableImageSelection:105,cropEnableInfoIndicator:106,cropEnableZoomTowardsWheelPosition:107,cropEnableLimitWheelInputToCropSelection:108,cropEnableCenterImageSelection:109,cropEnableButtonRotateLeft:110,cropEnableButtonRotateRight:111,cropEnableButtonFlipHorizontal:112,cropEnableButtonFlipVertical:113,cropSelectPresetOptions:114,cropEnableSelectPreset:115,cropEnableFilterMatchAspectRatio:116,cropSelectPresetFilter:95,cropEnableButtonToggleCropLimit:117,cropWillRenderTools:118,cropActiveTransformTool:119,cropMinimizeToolbar:120,cropInteractionFocus:121,cropRotationRange:3,cropMaskOpacity:122,locale:4},null,[-1,-1,-1,-1,-1,-1,-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[96]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[97]},set:function(t){this.$$set({stores:t}),eu()}},{key:"cropImageSelectionCornerStyle",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({cropImageSelectionCornerStyle:t}),eu()}},{key:"cropWillRenderImageSelectionGuides",get:function(){return this.$$.ctx[98]},set:function(t){this.$$set({cropWillRenderImageSelectionGuides:t}),eu()}},{key:"cropAutoCenterImageSelectionTimeout",get:function(){return this.$$.ctx[99]},set:function(t){this.$$set({cropAutoCenterImageSelectionTimeout:t}),eu()}},{key:"cropEnableZoomMatchImageAspectRatio",get:function(){return this.$$.ctx[100]},set:function(t){this.$$set({cropEnableZoomMatchImageAspectRatio:t}),eu()}},{key:"cropEnableRotateMatchImageAspectRatio",get:function(){return this.$$.ctx[101]},set:function(t){this.$$set({cropEnableRotateMatchImageAspectRatio:t}),eu()}},{key:"cropEnableRotationInput",get:function(){return this.$$.ctx[102]},set:function(t){this.$$set({cropEnableRotationInput:t}),eu()}},{key:"cropEnableZoom",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({cropEnableZoom:t}),eu()}},{key:"cropEnableZoomInput",get:function(){return this.$$.ctx[103]},set:function(t){this.$$set({cropEnableZoomInput:t}),eu()}},{key:"cropEnableZoomAutoHide",get:function(){return this.$$.ctx[104]},set:function(t){this.$$set({cropEnableZoomAutoHide:t}),eu()}},{key:"cropEnableImageSelection",get:function(){return this.$$.ctx[105]},set:function(t){this.$$set({cropEnableImageSelection:t}),eu()}},{key:"cropEnableInfoIndicator",get:function(){return this.$$.ctx[106]},set:function(t){this.$$set({cropEnableInfoIndicator:t}),eu()}},{key:"cropEnableZoomTowardsWheelPosition",get:function(){return this.$$.ctx[107]},set:function(t){this.$$set({cropEnableZoomTowardsWheelPosition:t}),eu()}},{key:"cropEnableLimitWheelInputToCropSelection",get:function(){return this.$$.ctx[108]},set:function(t){this.$$set({cropEnableLimitWheelInputToCropSelection:t}),eu()}},{key:"cropEnableCenterImageSelection",get:function(){return this.$$.ctx[109]},set:function(t){this.$$set({cropEnableCenterImageSelection:t}),eu()}},{key:"cropEnableButtonRotateLeft",get:function(){return this.$$.ctx[110]},set:function(t){this.$$set({cropEnableButtonRotateLeft:t}),eu()}},{key:"cropEnableButtonRotateRight",get:function(){return this.$$.ctx[111]},set:function(t){this.$$set({cropEnableButtonRotateRight:t}),eu()}},{key:"cropEnableButtonFlipHorizontal",get:function(){return this.$$.ctx[112]},set:function(t){this.$$set({cropEnableButtonFlipHorizontal:t}),eu()}},{key:"cropEnableButtonFlipVertical",get:function(){return this.$$.ctx[113]},set:function(t){this.$$set({cropEnableButtonFlipVertical:t}),eu()}},{key:"cropSelectPresetOptions",get:function(){return this.$$.ctx[114]},set:function(t){this.$$set({cropSelectPresetOptions:t}),eu()}},{key:"cropEnableSelectPreset",get:function(){return this.$$.ctx[115]},set:function(t){this.$$set({cropEnableSelectPreset:t}),eu()}},{key:"cropEnableFilterMatchAspectRatio",get:function(){return this.$$.ctx[116]},set:function(t){this.$$set({cropEnableFilterMatchAspectRatio:t}),eu()}},{key:"cropSelectPresetFilter",get:function(){return this.$$.ctx[95]},set:function(t){this.$$set({cropSelectPresetFilter:t}),eu()}},{key:"cropEnableButtonToggleCropLimit",get:function(){return this.$$.ctx[117]},set:function(t){this.$$set({cropEnableButtonToggleCropLimit:t}),eu()}},{key:"cropWillRenderTools",get:function(){return this.$$.ctx[118]},set:function(t){this.$$set({cropWillRenderTools:t}),eu()}},{key:"cropActiveTransformTool",get:function(){return this.$$.ctx[119]},set:function(t){this.$$set({cropActiveTransformTool:t}),eu()}},{key:"cropMinimizeToolbar",get:function(){return this.$$.ctx[120]},set:function(t){this.$$set({cropMinimizeToolbar:t}),eu()}},{key:"cropInteractionFocus",get:function(){return this.$$.ctx[121]},set:function(t){this.$$set({cropInteractionFocus:t}),eu()}},{key:"cropRotationRange",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({cropRotationRange:t}),eu()}},{key:"cropMaskOpacity",get:function(){return this.$$.ctx[122]},set:function(t){this.$$set({cropMaskOpacity:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({locale:t}),eu()}}]),n}(Pu)]};function Zg(t){var e,n,r,span,o,c,l,option=t[76],d=(vt(t[76].label)?t[76].label(t[2]):t[76].label)+"";function f(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t)[51].apply(e,[t[76]].concat(r))}var h=function(){return t[52](n,option)},v=function(){return t[52](null,option)};return{c:function(){e=element("div"),n=element("div"),r=ma(),span=element("span"),o=text(d),xa(n,"class",Kg),xa(e,"slot","option"),xa(e,"class","PinturaFilterOption")},m:function(t,d){pa(t,e,d),sa(e,n),h(),sa(e,r),sa(e,span),sa(span,o),c||(l=[ba(n,"measure",f),ra(os.call(null,n))],c=!0)},p:function(e,n){option!==(t=e)[76]&&(v(),option=t[76],h()),4&n[0]|16384&n[2]&&d!==(d=(vt(t[76].label)?t[76].label(t[2]):t[76].label)+"")&&Pa(o,d)},d:function(t){t&&ha(e),v(),c=!1,jo(l)}}}function Xg(t){var e,n;return e=new Ef({props:{locale:t[2],layout:"row",options:t[3],selectedIndex:t[12],onchange:t[32],$$slots:{option:[Zg,function(t){return{76:t.option}},function(t){return[0,0,t.option?16384:0]}]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};4&n[0]&&(r.locale=t[2]),8&n[0]&&(r.options=t[3]),4096&n[0]&&(r.selectedIndex=t[12]),1028&n[0]|49152&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function qg(t){var div,e,n,r,o,c,l,d;function f(e){t[54](e)}function h(e){t[55](e)}function v(e){t[56](e)}var m={elasticity:t[13]*t[19],onscroll:t[53],$$slots:{default:[Xg]},$$scope:{ctx:t}};return void 0!==t[4]&&(m.maskFeatherStartOpacity=t[4]),void 0!==t[5]&&(m.maskFeatherEndOpacity=t[5]),void 0!==t[6]&&(m.maskFeatherSize=t[6]),e=new bd({props:m}),ja.push((function(){return bu(e,"maskFeatherStartOpacity",f,t[4])})),ja.push((function(){return bu(e,"maskFeatherEndOpacity",h,t[5])})),ja.push((function(){return bu(e,"maskFeatherSize",v,t[6])})),e.$on("measure",t[57]),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"slot","footer"),xa(div,"style",t[11])},m:function(n,r){pa(n,div,r),$u(e,div,null),c=!0,l||(d=[ba(div,"transitionend",t[30]),ba(div,"measure",t[58]),ra(os.call(null,div,{observePosition:!0}))],l=!0)},p:function(t,l){var d={};8192&l[0]&&(d.elasticity=t[13]*t[19]),128&l[0]&&(d.onscroll=t[53]),5132&l[0]|32768&l[2]&&(d.$$scope={dirty:l,ctx:t}),!n&&16&l[0]&&(n=!0,d.maskFeatherStartOpacity=t[4],Ka((function(){return n=!1}))),!r&&32&l[0]&&(r=!0,d.maskFeatherEndOpacity=t[5],Ka((function(){return r=!1}))),!o&&64&l[0]&&(o=!0,d.maskFeatherSize=t[6],Ka((function(){return o=!1}))),e.$set(d),(!c||2048&l[0])&&xa(div,"style",t[11])},i:function(t){c||(cu(e.$$.fragment,t),c=!0)},o:function(t){lu(e.$$.fragment,t),c=!1},d:function(t){t&&ha(div),xu(e),l=!1,jo(d)}}}function Yg(t){var e,n;return(e=new qm({props:{$$slots:{footer:[qg]},$$scope:{ctx:t}}})).$on("measure",t[59]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};16380&n[0]|32768&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}var Kg="PinturaFilterPreview";function Jg(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,k,S,R,C,M,T,I,A,E=Do,L=function(){return E(),E=Ho(D,(function(t){return n(43,v=t)})),D},F=Do,O=function(){return F(),F=Ho(B,(function(t){return n(49,M=t)})),B};t.$$.on_destroy.push((function(){return E()})),t.$$.on_destroy.push((function(){return F()}));var B=e.isActive;O();var D=e.isActiveFraction;L();var _=e.stores,U=e.locale,N=e.filterFunctions,W=e.filterOptions,j=Ua("elasticityMultiplier");Xo(t,j,(function(t){return n(13,A=t)}));var V=_,G=V.history,H=V.interfaceImages,Z=V.stageRectBase,X=V.utilRect,Y=V.animation,K=V.scrollElasticity,J=V.imageSize,Q=V.imagePreview,tt=V.imageCropRect,et=V.imageRotation,nt=V.imageFlipX,it=V.imageFlipY,ot=V.imageBackgroundColor,at=V.imageGamma,ut=V.imageColorMatrix,ct=V.allowPan,lt=V.allowZoom,st=V.allowZoomControls;Xo(t,H,(function(t){return n(60,m=t)})),Xo(t,Z,(function(t){return n(48,C=t)})),Xo(t,X,(function(t){return n(47,R=t)})),Xo(t,Y,(function(t){return n(50,T=t)})),Xo(t,J,(function(t){return n(62,$=t)})),Xo(t,Q,(function(t){return n(42,h=t)})),Xo(t,ot,(function(t){return n(61,y=t)})),Xo(t,at,(function(t){return n(44,x=t)})),Xo(t,ut,(function(t){return n(40,d=t)}));var ft=Ru({});Xo(t,ft,(function(t){return n(46,S=t)}));var pt=function(t,rect){return na(ft,S[t.value]=rect,S)},ht=Cu(ft,(function(t){if(t[void 0]){var e=t[void 0];return I&&Ie(I,e)?I:ke(e)}}));Xo(t,ht,(function(t){return n(63,I=t)}));var mt=Cu([B,ht,tt,J,et,nt,it],(function(t,e){var n=(0,w.default)(t,7),r=n[0],o=n[1],c=n[2],l=n[3],d=n[4],f=n[5],h=n[6];if(!r||!o||!l)return k;var v=je(l),m=qe(v),y=Hu(l,c,d),$=qe(y),x=fe(re(m),$),P=ie(re(x)),S=Math.max(o.width/c.width,o.height/c.height);e({origin:P,translation:x,rotation:{x:h?Math.PI:0,y:f?Math.PI:0,z:d},scale:S})}));Xo(t,mt,(function(t){return n(45,k=t)}));var gt,bt=Zl(T?20:0);Xo(t,bt,(function(t){return n(39,l=t)}));var yt,$t,xt,wt,Pt,kt,St={},Rt={x:0,y:0},Ct=Ru([]);Xo(t,Ct,(function(t){return n(41,f=t)}));var Mt=function(t){var e=z(z({},t),{},{data:h,size:$,offset:z({},t.offset),mask:z({},t.mask),backgroundColor:y});return e.opacity=v,e.offset.y+=l,e.mask.y+=l,e.id="filter",e},Tt=function(){return m.filter((function(t){return"filter"!==t.id}))};Ba((function(){H.set([])}));return t.$$set=function(t){"isActive"in t&&O(n(0,B=t.isActive)),"isActiveFraction"in t&&L(n(1,D=t.isActiveFraction)),"stores"in t&&n(34,_=t.stores),"locale"in t&&n(2,U=t.locale),"filterFunctions"in t&&n(35,N=t.filterFunctions),"filterOptions"in t&&n(3,W=t.filterOptions)},t.$$.update=function(){if(262144&t.$$.dirty[1]&&ct.set(M),262144&t.$$.dirty[1]&&lt.set(M),262144&t.$$.dirty[1]&&st.set(M),8&t.$$.dirty[0]&&n(38,r=ef(W)),640&t.$$.dirty[1]&&n(12,o=function(t,e){if(!t||!t.filter||!e)return 0;var n=t.filter;return e.findIndex((function(t){var e=(0,w.default)(t,1)[0];if(!N[e])return!1;var r=N[e]();return Ku(r,n)}))}(d,r)),786432&t.$$.dirty[1]&&T&&bt.set(M?0:20),512&t.$$.dirty[0]|458752&t.$$.dirty[1]&&M&&R&&C&&kt&&n(37,Pt={x:C.x-R.x,y:C.y-R.y+kt.y}),496&t.$$.dirty[0]|58096&t.$$.dirty[1]&&k&&Pt&&Rt&&wt&&gt){var e=Pt.x+wt.x+Rt.x,h=Pt.y,m=wt.x+Pt.x,y=m+wt.width;Ct.set(r.map((function(t,i){var n=(0,w.default)(t,1)[0],r=S[n],o=Rt.x+r.x,c=o+r.width;if(c<0||o>wt.width)return!1;var l=e+r.x,f=h+r.y,v=function(t){return{origin:re(t.origin),translation:re(t.translation),rotation:z({},t.rotation),scale:t.scale}}(k);v.offset=te(.5*r.width+l,.5*r.height+f);v.maskOpacity=1,v.mask=Xe(l+0,f,r.width+0,r.height),v.maskFeather=[1,0,1,0,1,y,1,y],o<xt&&yt<1&&(v.maskFeather[0]=yt,v.maskFeather[1]=m,v.maskFeather[2]=1,v.maskFeather[3]=m+xt),c>wt.width-xt&&$t<1&&(v.maskFeather[4]=$t,v.maskFeather[5]=y-xt,v.maskFeather[6]=1,v.maskFeather[7]=y),v.maskCornerRadius=gt[n];var $=d&&Object.keys(d).filter((function(t){return"filter"!=t})).map((function(t){return d[t]}))||[];return vt(N[n])&&$.push(N[n]()),v.colorMatrix=$.length?Oo($):void 0,v.gamma=x,v})).filter(Boolean))}if(7424&t.$$.dirty[1])if(v>0&&f){var $=[].concat((0,P.default)(Tt()),(0,P.default)(f.map(Mt)));H.set($)}else H.set(Tt());256&t.$$.dirty[1]&&n(11,c=l?"transform: translateY(".concat(l,"px)"):void 0)},[B,D,U,W,yt,$t,xt,Rt,wt,kt,St,c,o,A,j,H,Z,X,Y,K,J,Q,ot,at,ut,ft,pt,ht,mt,bt,function(t){t.target.className===Kg&&n(36,gt=Object.keys(St).reduce((function(t,e){var element=St[e],style=getComputedStyle(element),n=["top-left","top-right","bottom-left","bottom-right"].map((function(t){return style.getPropertyValue("border-".concat(t,"-radius"))})).map(hd).map((function(t){return 1.25*t}));return t[e]=n,t}),{}))},Ct,function(t){var e=t.value;na(ut,d=z(z({},d),{},{filter:vt(N[e])?N[e]():void 0}),d),G.write()},"filter",_,N,gt,Pt,r,l,d,f,h,v,x,k,S,R,C,M,T,function(option,t){return pt(option,t.detail)},function(t,option){ja[t?"unshift":"push"]((function(){St[option.value]=t,n(10,St)}))},function(t){return n(7,Rt=t)},function(t){n(4,yt=t)},function(t){n(5,$t=t)},function(t){n(6,xt=t)},function(t){return n(8,wt=t.detail)},function(t){return n(9,kt=t.detail)},function(e){Na.call(this,t,e)}]}var Qg={util:["filter",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Jg,Yg,Go,{name:33,isActive:0,isActiveFraction:1,stores:34,locale:2,filterFunctions:35,filterOptions:3},null,[-1,-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[33]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"isActiveFraction",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({isActiveFraction:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[34]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({locale:t}),eu()}},{key:"filterFunctions",get:function(){return this.$$.ctx[35]},set:function(t){this.$$set({filterFunctions:t}),eu()}},{key:"filterOptions",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({filterOptions:t}),eu()}}]),n}(Pu)]};function tb(t){var span,e,n=t[42].label+"";return{c:function(){span=element("span"),e=text(n)},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){2048&r[1]&&n!==(n=t[42].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function eb(t){for(var e,n,r=[{class:"PinturaControlList"},{tabs:t[1]},t[5]],o={$$slots:{default:[tb,function(t){return{42:t.tab}},function(t){return[0,t.tab?2048:0]}]},$$scope:{ctx:t}},i=0;i<r.length;i+=1)o=Uo(o,r[i]);return(e=new Ps({props:o})).$on("select",t[24]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var o=34&n[0]?mu(r,[r[0],2&n[0]&&{tabs:t[1]},32&n[0]&&gu(t[5])]):{};6144&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function nb(t){for(var e,n,r=[t[7][t[41]]],o={},i=0;i<r.length;i+=1)o=Uo(o,r[i]);return e=new Qm({props:o}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var o=128&n[0]|1024&n[1]?mu(r,[gu(t[7][t[41]])]):{};e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function rb(t){var div,e,n,r,o;e=new bd({props:{elasticity:t[6]*t[9],class:"PinturaControlListScroller",$$slots:{default:[eb]},$$scope:{ctx:t}}});for(var c=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:t[4]},t[5]],l={$$slots:{default:[nb,function(t){return{41:t.panel}},function(t){return[0,t.panel?1024:0]}]},$$scope:{ctx:t}},i=0;i<c.length;i+=1)l=Uo(l,c[i]);return r=new zs({props:l}),{c:function(){div=element("div"),yu(e.$$.fragment),n=ma(),yu(r.$$.fragment),xa(div,"slot","footer"),xa(div,"style",t[3])},m:function(t,c){pa(t,div,c),$u(e,div,null),sa(div,n),$u(r,div,null),o=!0},p:function(t,n){var l={};64&n[0]&&(l.elasticity=t[6]*t[9]),38&n[0]|4096&n[1]&&(l.$$scope={dirty:n,ctx:t}),e.$set(l);var d=48&n[0]?mu(c,[c[0],c[1],16&n[0]&&{panels:t[4]},32&n[0]&&gu(t[5])]):{};128&n[0]|5120&n[1]&&(d.$$scope={dirty:n,ctx:t}),r.$set(d),(!o||8&n[0])&&xa(div,"style",t[3])},i:function(t){o||(cu(e.$$.fragment,t),cu(r.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),lu(r.$$.fragment,t),o=!1},d:function(t){t&&ha(div),xu(e),xu(r)}}}function ib(t){var e,n;return(e=new qm({props:{$$slots:{footer:[rb]},$$scope:{ctx:t}}})).$on("measure",t[25]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};254&n[0]|4096&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function ob(t,e,n){var r,o,c,l,d,f,h,v,m,y,x,P=Do,k=function(){return P(),P=Ho(R,(function(t){return n(21,h=t)})),R};t.$$.on_destroy.push((function(){return P()}));var S=e.stores,R=e.isActive;k();var C=e.locale,M=void 0===C?{}:C,T=e.finetuneControlConfiguration,I=e.finetuneOptions,A=e.finetuneNudgePrecision,E=void 0===A?void 0:A,L=S,F=L.history,O=L.animation,B=L.scrollElasticity,D=L.rangeInputElasticity,_=L.imageColorMatrix,U=L.imageConvolutionMatrix,N=L.imageGamma,W=L.imageVignette,j=L.imageNoise,V=L.allowPan,G=L.allowZoom,H=L.allowZoomControls;Xo(t,O,(function(t){return n(22,v=t)}));var Z={imageColorMatrix:_,imageConvolutionMatrix:U,imageGamma:N,imageVignette:W,imageNoise:j},X=Ua("elasticityMultiplier");Xo(t,X,(function(t){return n(6,y=t)}));var Y="finetune-".concat($t()),K=Ru({});Xo(t,K,(function(t){return n(23,m=t)}));var J=Ru({});Xo(t,J,(function(t){return n(7,x=t)}));var Q=[],tt=Zl(v?20:0);Xo(t,tt,(function(t){return n(20,f=t)}));return t.$$set=function(t){"stores"in t&&n(15,S=t.stores),"isActive"in t&&k(n(0,R=t.isActive)),"locale"in t&&n(16,M=t.locale),"finetuneControlConfiguration"in t&&n(17,T=t.finetuneControlConfiguration),"finetuneOptions"in t&&n(18,I=t.finetuneOptions),"finetuneNudgePrecision"in t&&n(19,E=t.finetuneNudgePrecision)},t.$$.update=function(){var e;2097152&t.$$.dirty[0]&&V.set(h),2097152&t.$$.dirty[0]&&G.set(h),2097152&t.$$.dirty[0]&&H.set(h),327680&t.$$.dirty[0]&&n(1,r=I?I.map((function(t){var e=(0,w.default)(t,2),n=e[0],label=e[1];return{id:n,label:vt(label)?label(M):label}})):[]),2&t.$$.dirty[0]&&n(2,o=r.length&&r[0].id),4&t.$$.dirty[0]&&n(5,c={name:Y,selected:o}),2&t.$$.dirty[0]&&n(4,l=r.map((function(t){return t.id}))),131072&t.$$.dirty[0]&&T&&(e=T,Q&&Q.forEach((function(t){return t()})),Q=l.map((function(t){var n=e[t],r=n.getStore,o=n.getValue,c=void 0===o?zt:o;return r(Z).subscribe((function(e){var n=null!=e?c(e):e;na(K,m=z(z({},m),{},(0,$.default)({},t,n)),m)}))}))),8519680&t.$$.dirty[0]&&T&&m&&na(J,x=Object.keys(m).reduce((function(t,e){var n=T[e],base=n.base,r=n.min,o=n.max,c=n.getLabel,l=n.getStore,d=n.setValue,f=void 0===d?function(t,e){return t.set(e)}:d,h=l(Z),v=null!=m[e]?m[e]:base;return t[e]={base:base,min:r,max:o,value:v,valueLabel:c?c(v,r,o,o-r):Math.round(100*v),oninputmove:function(t){f(h,t)},oninputend:function(t){f(h,t),F.write()},elasticity:y*D,labelReset:M.labelReset,nudgeMultiplier:E},t}),{}),x),6291456&t.$$.dirty[0]&&v&&tt.set(h?0:20),1048576&t.$$.dirty[0]&&n(3,d=f?"transform: translateY(".concat(f,"px)"):void 0)},[R,r,o,d,l,c,y,x,O,B,X,K,J,tt,"finetune",S,M,T,I,E,f,h,v,m,function(t){var e=t.detail;return n(2,o=e)},function(e){Na.call(this,t,e)}]}var ab={util:["finetune",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ob,ib,Go,{name:14,stores:15,isActive:0,locale:16,finetuneControlConfiguration:17,finetuneOptions:18,finetuneNudgePrecision:19},null,[-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[14]}},{key:"stores",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({stores:t}),eu()}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({locale:t}),eu()}},{key:"finetuneControlConfiguration",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({finetuneControlConfiguration:t}),eu()}},{key:"finetuneOptions",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({finetuneOptions:t}),eu()}},{key:"finetuneNudgePrecision",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({finetuneNudgePrecision:t}),eu()}}]),n}(Pu)]},ub=function(t,e){var n=e.length;return t<0?t%n+n:t>=n?t%n:t};function cb(t,e,i){var n=t.slice();return n[48]=e[i].key,n[49]=e[i].index,n[50]=e[i].translate,n[51]=e[i].scale,n[14]=e[i].rotate,n[52]=e[i].dir,n[53]=e[i].center,n[54]=e[i].type,n[2]=e[i].visible,n}function lb(t){var div,e;return{c:function(){xa(div=element("div"),"class","PinturaShapeManipulator"),xa(div,"data-control","point"),xa(div,"style",e="pointer-events:none;transform: translate3d(".concat(t[53].x,"px, ").concat(t[53].y,"px, 0) scale(").concat(t[5],", ").concat(t[5],"); opacity: ").concat(t[4]))},m:function(t,e){pa(t,div,e)},p:function(t,n){56&n[0]&&e!==(e="pointer-events:none;transform: translate3d(".concat(t[53].x,"px, ").concat(t[53].y,"px, 0) scale(").concat(t[5],", ").concat(t[5],"); opacity: ").concat(t[4]))&&xa(div,"style",e)},d:function(t){t&&ha(div)}}}function sb(t,e){var div,n,r,o,c,l,d,f,h;function v(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e)[19].apply(t,[e[49]].concat(r))}var m="edge"===e[54]&&e[2]&&lb(e);return{key:t,first:null,c:function(){div=element("div"),l=ma(),m&&m.c(),d=ga(),xa(div,"role","button"),xa(div,"aria-label",n="Drag ".concat(e[54]," ").concat(e[48])),xa(div,"tabindex",r="edge"===e[54]?-1:0),xa(div,"class","PinturaShapeManipulator"),xa(div,"data-control",o=e[54]),xa(div,"style",c="cursor:".concat(e[52]?e[52]+"-resize":"move",";opacity:").concat(e[4],";--tx:").concat(e[50].x,";--ty:").concat(e[50].y,";--r:").concat("edge"===e[54]?e[14]:0,"rad;--sx:").concat("point"===e[54]?e[5]:e[51].x,";--sy:").concat("point"===e[54]?e[5]:e[51].y,";")),this.first=div},m:function(t,n){pa(t,div,n),pa(t,l,n),m&&m.m(t,n),pa(t,d,n),f||(h=[ba(div,"keydown",e[7]),ba(div,"keyup",e[8]),ba(div,"nudge",v),ra(Us.call(null,div,{preventDefault:!0})),ba(div,"interactionstart",(function(){Vo(e[11]("start",e[49]))&&e[11]("start",e[49]).apply(this,arguments)})),ba(div,"interactionupdate",(function(){Vo(e[11]("move",e[49]))&&e[11]("move",e[49]).apply(this,arguments)})),ba(div,"interactionend",(function(){Vo(e[11]("end",e[49]))&&e[11]("end",e[49]).apply(this,arguments)})),ra(ld.call(null,div))],f=!0)},p:function(t,l){e=t,8&l[0]&&n!==(n="Drag ".concat(e[54]," ").concat(e[48]))&&xa(div,"aria-label",n),8&l[0]&&r!==(r="edge"===e[54]?-1:0)&&xa(div,"tabindex",r),8&l[0]&&o!==(o=e[54])&&xa(div,"data-control",o),56&l[0]&&c!==(c="cursor:".concat(e[52]?e[52]+"-resize":"move",";opacity:").concat(e[4],";--tx:").concat(e[50].x,";--ty:").concat(e[50].y,";--r:").concat("edge"===e[54]?e[14]:0,"rad;--sx:").concat("point"===e[54]?e[5]:e[51].x,";--sy:").concat("point"===e[54]?e[5]:e[51].y,";"))&&xa(div,"style",c),"edge"===e[54]&&e[2]?m?m.p(e,l):((m=lb(e)).c(),m.m(d.parentNode,d)):m&&(m.d(1),m=null)},d:function(t){t&&ha(div),t&&ha(l),m&&m.d(t),t&&ha(d),f=!1,jo(h)}}}function db(t){var div,e,n,r;return{c:function(){xa(div=element("div"),"role","button"),xa(div,"aria-label","Drag rotator"),xa(div,"tabindex","0"),xa(div,"class","PinturaShapeManipulator"),xa(div,"data-control","rotate"),xa(div,"style",e="transform: translate3d(".concat(t[0].x,"px, ").concat(t[0].y,"px, 0) scale(").concat(t[5],", ").concat(t[5],"); opacity: ").concat(t[4]))},m:function(e,o){pa(e,div,o),n||(r=[ba(div,"keydown",t[7]),ba(div,"keyup",t[8]),ba(div,"nudge",t[13]),ra(Us.call(null,div,{preventDefault:!0})),ba(div,"interactionstart",t[14]("start")),ba(div,"interactionupdate",t[14]("move")),ba(div,"interactionend",t[14]("end")),ra(ld.call(null,div))],n=!0)},p:function(t,n){49&n[0]&&e!==(e="transform: translate3d(".concat(t[0].x,"px, ").concat(t[0].y,"px, 0) scale(").concat(t[5],", ").concat(t[5],"); opacity: ").concat(t[4]))&&xa(div,"style",e)},d:function(t){t&&ha(div),n=!1,jo(r)}}}function fb(t){for(var e,n,r=[],o=new Map,c=t[3],l=function(t){return t[48]},i=0;i<c.length;i+=1){var d=cb(t,c,i),f=l(d);o.set(f,r[i]=sb(f,d))}var h=t[1]&&db(t);return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=ma(),h&&h.c(),n=ga()},m:function(t,o){for(var c=0;c<r.length;c+=1)r[c].m(t,o);pa(t,e,o),h&&h.m(t,o),pa(t,n,o)},p:function(t,d){6584&d[0]&&(c=t[3],r=vu(r,d,l,1,t,c,o,e.parentNode,pu,sb,e,cb)),t[1]?h?h.p(t,d):((h=db(t)).c(),h.m(n.parentNode,n)):h&&(h.d(1),h=null)},i:Do,o:Do,d:function(t){for(var o=0;o<r.length;o+=1)r[o].d(t);t&&ha(e),h&&h.d(t),t&&ha(n)}}}function pb(t,e,n){var r,o,c,l,d=Da(),f=.5*Dt,h=Bt-f,v=Bt+f,m=-Bt,y=m-f,$=m+f,x=Ot-f,P=-Ot+f,k=f,S=-f,R=Bt-Dt,C=R-f,M=R+f,T=Ot-Dt,I=T-f,A=T+f,E=m-Dt,L=E+f,F=E-f,O=m+Dt,B=O+f,D=O-f,_=e.visible,U=void 0!==_&&_,N=e.points,W=void 0===N?[]:N,j=e.rotatorPoint,V=void 0===j?void 0:j,G=e.enableDragEdges,H=void 0===G||G,Z=e.enableDragPoints,X=void 0===Z||Z,Y=e.enableRotatePoints,K=void 0===Y||Y,J=Ua("isAnimated");Xo(t,J,(function(t){return n(18,o=t)}));var Q=!1,tt=Zl(.5,{precision:1e-4,stiffness:.3,damping:.7});Xo(t,tt,(function(t){return n(5,l=t)}));var et=Zl(0,{precision:.001,stiffness:.3,damping:.7});Xo(t,et,(function(t){return n(4,c=t)}));var nt=function(t){var e="";return(t<=v&&t>=h||t>=y&&t<=$)&&(e="ns"),(t<=P||t>=x||t>=S&&t<=k)&&(e="ew"),(t>=I&&t<=A||t<=B&&t>=D)&&(e="nesw"),(t>=C&&t<=M||t<=L&&t>=F)&&(e="nwse"),e},it=function(t,e){d("resizestart",{indexes:t,translation:Qt()}),d("resizemove",{indexes:t,translation:e}),d("resizeend",{indexes:t,translation:Qt()})};return t.$$set=function(t){"visible"in t&&n(2,U=t.visible),"points"in t&&n(15,W=t.points),"rotatorPoint"in t&&n(0,V=t.rotatorPoint),"enableDragEdges"in t&&n(16,H=t.enableDragEdges),"enableDragPoints"in t&&n(17,X=t.enableDragPoints),"enableRotatePoints"in t&&n(1,K=t.enableRotatePoints)},t.$$.update=function(){262148&t.$$.dirty[0]&&tt.set(U?1:.5,{hard:!1===o}),262148&t.$$.dirty[0]&&et.set(U?1:0,{hard:!1===o}),32768&t.$$.dirty[0]&&n(3,r=function(t,e){for(var i=0,n=$e(t),r=[],o=t.length,c=function(){var e=ub(i-1,t),o=ub(i+1,t),c=t[e],l=t[i],d=t[o],f=Math.atan2(d.y-l.y,d.x-l.x);if(X){var a=ue(te(c.x-l.x,c.y-l.y)),b=ue(te(d.x-l.x,d.y-l.y)),h=te(a.x+b.x,a.y+b.y),v=H?X&&nt(Math.atan2(h.y,h.x)):void 0;r.push({index:[i],key:"point-".concat(i),type:"point",scale:{x:1,y:1},translate:{x:l.x,y:l.y},angle:void 0,rotate:K,center:l,dir:v})}if(!H)return"continue";if(Array.isArray(H)&&!H.some((function(t){var e=(0,w.default)(t,2),n=e[0],r=e[1];return i===n&&o===r})))return"continue";var m=te(l.x+.5*(d.x-l.x),l.y+.5*(d.y-l.y));r.push({index:[i,o],key:"edge-".concat(i),type:"edge",scale:{x:be(l,d),y:1},translate:{x:l.x,y:l.y},angle:f,rotate:f,center:m,visible:Array.isArray(H),dir:nt(Math.atan2(n.y-m.y,n.x-m.x))})};i<o;i++)c();return r}(W))},[V,K,U,r,c,l,J,function(t){return Q=t.shiftKey},function(t){return Q=!1},tt,et,function(t,e){return function(n){var r=n.detail,o=r&&r.translation?r.translation:te(0,0);d("resize".concat(t),z(z({},r),{},{indexes:e,translation:o,shiftKey:Q}))}},it,function(t){var e=t.detail;d("rotatestart",{translation:Qt()}),d("rotatemove",{translation:e}),d("rotateend",{translation:Qt()})},function(t){return function(e){var n=e.detail,r=n&&n.translation?n.translation:te(0,0);d("rotate".concat(t),{translation:r,shiftKey:Q})}},W,H,X,o,function(t,e){var n=e.detail;return it(t,n)}]}var hb=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,pb,fb,Go,{visible:2,points:15,rotatorPoint:0,enableDragEdges:16,enableDragPoints:17,enableRotatePoints:1},null,[-1,-1]),r}return(0,d.default)(n)}(Pu),vb=function(t,e){var n=_p(t);return fe(n,e)},mb=null,gb=function(t){if(null===mb&&(mb=Z()&&"visualViewport"in window),!mb)return!1;var e=visualViewport.height,n=function(){t(visualViewport.height<e?"visible":"hidden")};return visualViewport.addEventListener("resize",n),function(){return visualViewport.removeEventListener("resize",n)}};function bb(t){var e,n,r,o,c,l,d,f,h,v;r=new rd({props:{onclick:t[1],label:t[5],icon:t[7],hideLabel:!t[6]}});var m=t[20].default,y=qo(m,t,t[19],null);return d=new rd({props:{onclick:t[0],label:t[2],icon:t[4],hideLabel:!t[3],class:"PinturaInputFormButtonConfirm"}}),{c:function(){e=element("div"),n=element("div"),yu(r.$$.fragment),o=ma(),c=element("div"),y&&y.c(),l=ma(),yu(d.$$.fragment),xa(c,"class","PinturaInputFormFields"),xa(n,"class","PinturaInputFormInner"),xa(e,"class","PinturaInputForm"),xa(e,"style",t[9])},m:function(m,$){pa(m,e,$),sa(e,n),$u(r,n,null),sa(n,o),sa(n,c),y&&y.m(c,null),sa(n,l),$u(d,n,null),t[21](e),f=!0,h||(v=[ba(e,"focusin",t[10]),ba(e,"focusout",t[11]),ba(e,"measure",t[12]),ra(os.call(null,e))],h=!0)},p:function(t,n){var o={};2&n[0]&&(o.onclick=t[1]),32&n[0]&&(o.label=t[5]),128&n[0]&&(o.icon=t[7]),64&n[0]&&(o.hideLabel=!t[6]),r.$set(o),y&&y.p&&(!f||524288&n[0])&&Jo(y,m,t,t[19],f?Ko(m,t[19],n,null):Qo(t[19]),null);var c={};1&n[0]&&(c.onclick=t[0]),4&n[0]&&(c.label=t[2]),16&n[0]&&(c.icon=t[4]),8&n[0]&&(c.hideLabel=!t[3]),d.$set(c),(!f||512&n[0])&&xa(e,"style",t[9])},i:function(t){f||(cu(r.$$.fragment,t),cu(y,t),cu(d.$$.fragment,t),f=!0)},o:function(t){lu(r.$$.fragment,t),lu(y,t),lu(d.$$.fragment,t),f=!1},d:function(n){n&&ha(e),xu(r),y&&y.d(n),xu(d),t[21](null),h=!1,jo(v)}}}function yb(t,e,n){var r,o,style,c,l,d=e.$$slots,f=void 0===d?{}:d,h=e.$$scope,v=e.onconfirm,m=e.oncancel,y=e.autoFocus,$=void 0===y||y,x=e.autoPositionCursor,w=void 0===x||x,P=e.labelConfirm,k=e.labelConfirmShow,S=void 0===k||k,R=e.iconConfirm,C=e.labelCancel,M=e.labelCancelShow,T=void 0!==M&&M,I=e.iconCancel,A=e.panelOffset,E=void 0===A?Qt():A,L=!1,F=void 0,z=void 0,O="",B=0,D=function(){var t=c.querySelector("input, textarea");t.focus(),B>=1||t.select()},_=function(){L=!0,U||!rr()&&!at()||n(16,O="top:1em;bottom:auto;"),rr()&&function(element){var t,e=function(e){return t=e.touches[0].screenY},n=function(e){var n=e.touches[0].screenY,r=e.target;/textarea/i.test(r.nodeName)?(n>t?0==r.scrollTop&&e.preventDefault():n<t?r.scrollTop+r.offsetHeight==r.scrollHeight&&e.preventDefault():e.preventDefault(),t=n):e.preventDefault()};element.addEventListener("touchstart",e),element.addEventListener("touchmove",n)}(c),n(17,B=1)},U=gb((function(t){o?"hidden"!==t||L?(clearTimeout(z),z=void 0,n(16,O="top:".concat(visualViewport.height-F-E.y,"px")),"visible"===t?(n(8,c.dataset.layout="stick",c),D(),_()):(L=!1,n(17,B=0))):D():n(16,O="top: 4.5em; bottom: auto")}));return za((function(){$&&D()})),Ba((function(){U&&U()})),t.$$set=function(t){"onconfirm"in t&&n(0,v=t.onconfirm),"oncancel"in t&&n(1,m=t.oncancel),"autoFocus"in t&&n(13,$=t.autoFocus),"autoPositionCursor"in t&&n(14,w=t.autoPositionCursor),"labelConfirm"in t&&n(2,P=t.labelConfirm),"labelConfirmShow"in t&&n(3,S=t.labelConfirmShow),"iconConfirm"in t&&n(4,R=t.iconConfirm),"labelCancel"in t&&n(5,C=t.labelCancel),"labelCancelShow"in t&&n(6,T=t.labelCancelShow),"iconCancel"in t&&n(7,I=t.iconCancel),"panelOffset"in t&&n(15,E=t.panelOffset),"$$scope"in t&&n(19,h=t.$$scope)},t.$$.update=function(){256&t.$$.dirty[0]&&n(18,r=c&&getComputedStyle(c)),262144&t.$$.dirty[0]&&(o=r&&"1"===r.getPropertyValue("--editor-modal")),196608&t.$$.dirty[0]&&n(9,style="opacity:".concat(B,";").concat(O))},[v,m,P,S,R,C,T,I,c,style,function(t){var e;(function(element){return/textarea/i.test(element)})(t.target)&&(l=Date.now(),w&&((e=t.target).selectionStart=e.selectionEnd=e.value.length),clearTimeout(z),z=setTimeout(_,200))},function(t){Date.now()-l>50||(t.stopPropagation(),D())},function(t){var e=t.detail;F=e.height},$,w,E,O,B,r,h,f,function(t){ja[t?"unshift":"push"]((function(){n(8,c=t)}))}]}var $b=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,yb,bb,Go,{onconfirm:0,oncancel:1,autoFocus:13,autoPositionCursor:14,labelConfirm:2,labelConfirmShow:3,iconConfirm:4,labelCancel:5,labelCancelShow:6,iconCancel:7,panelOffset:15},null,[-1,-1]),r}return(0,d.default)(n)}(Pu),xb=function(text){return document.createTextNode(text)},wb=function(html){return(Ln()&&html.endsWith("<div><br></div>")?html.replace(/<div><br><\/div>$/,"<br><br>"):html).replace(/<div><br><\/div>/g,"<br>").replace(/<\/div>/g,"").replace(/<div>/g,"<br>")};function Pb(t){var pre,e,n,r;return{c:function(){xa(pre=element("pre"),"class","PinturaContentEditable"),xa(pre,"data-wrap-content",e=t[3]||t[4]?"wrap":"nowrap"),xa(pre,"contenteditable",""),xa(pre,"spellcheck",t[0]),xa(pre,"autocorrect",t[1]),xa(pre,"autocapitalize",t[2]),xa(pre,"style",t[6])},m:function(e,o){pa(e,pre,o),t[23](pre),n||(r=[ba(pre,"input",t[11]),ba(pre,"compositionend",t[10]),ba(pre,"paste",t[12]),ba(pre,"keydown",t[8]),ba(pre,"keyup",t[9]),ba(pre,"blur",t[7])],n=!0)},p:function(t,n){24&n[0]&&e!==(e=t[3]||t[4]?"wrap":"nowrap")&&xa(pre,"data-wrap-content",e),1&n[0]&&xa(pre,"spellcheck",t[0]),2&n[0]&&xa(pre,"autocorrect",t[1]),4&n[0]&&xa(pre,"autocapitalize",t[2]),64&n[0]&&xa(pre,"style",t[6])},i:Do,o:Do,d:function(e){e&&ha(pre),t[23](null),n=!1,jo(r)}}}function kb(t,e,n){var r,element,o=e.spellcheck,c=void 0===o?"false":o,l=e.autocorrect,d=void 0===l?"off":l,f=e.autocapitalize,h=void 0===f?"off":f,v=e.wrapLines,m=void 0===v||v,y=e.allowNewline,$=void 0===y||y,x=e.textStyles,w=void 0!==x&&x,P=e.formatInput,k=void 0===P?zt:P,S=e.formatPaste,R=void 0===S?zt:S,C=e.style,style=void 0===C?void 0:C,M=e.innerHTML,T=void 0===M?void 0:M,I=e.oninput,A=void 0===I?N:I,select=function(){if(element){var t=document.createRange();t.selectNodeContents(element);var e=_();e.removeAllRanges(),e.addRange(t)}},E=Da();document.execCommand("defaultParagraphSeparator",!1,"br");var L,F=function(html){return html.replace(/<\/?(?:i|b|em|strong)>/,"")},z=function(){n(13,T=element.innerHTML);var t=wb(T);E("input",t),A(t),requestAnimationFrame((function(){return element&&element.scrollTo(0,0)}))},O=function(){U(element);var html=w?element.innerHTML:F(element.innerHTML);n(5,element.innerHTML=k(html),element),W(element),z()},B=function(t){var e=J("span");return e.dataset.bookmark=t,e},D=function(t,e,n){var r=B(n);if(t.nodeType===Node.TEXT_NODE){var o=t.textContent;if("start"===n){var c=xb(o.substr(0,e)),l=xb(o.substr(e));t.replaceWith(c,r,l)}else{var d=xb(o.substr(0,e)),f=xb(o.substr(e));t.replaceWith(d,r,f)}}else t.nodeType===Node.ELEMENT_NODE&&t.insertBefore(r,t.childNodes[e])},_=function(){var t=element.getRootNode();return"getSelection"in t?t.getSelection():document.getSelection()},U=function(element){var t=_();if(t.getRangeAt&&t.rangeCount){var e=t.getRangeAt(0),n=e.startOffset,r=e.endOffset,o=e.startContainer,c=e.endContainer;if(element.contains(e.startContainer)&&element.contains(e.endContainer))if(o.nodeType===Node.TEXT_NODE&&o===c){var l=o.textContent,d=l.substr(0,n),f=B("start"),h=r-n>0?l.substr(n,r):"",v=B("end"),m=l.substr(r);o.replaceWith(d,f,h,v,m)}else D(o,n,"start"),D(c,r+(o===c?1:0),"end")}},W=function(element){var t=j(element,"start"),e=j(element,"end");if(t&&e){var n=document.createRange();n.setStart(t,0),n.setEnd(e,0);var r=_();r.removeAllRanges(),r.addRange(n),t.remove(),e.remove()}},j=function t(element,e){for(var n=element.children,i=0;i<n.length;i++){var r=n[i];if(r.dataset.bookmark===e)return r;if(r.children.length){var o=t(r,e);if(o)return o}}};return t.$$set=function(t){"spellcheck"in t&&n(0,c=t.spellcheck),"autocorrect"in t&&n(1,d=t.autocorrect),"autocapitalize"in t&&n(2,h=t.autocapitalize),"wrapLines"in t&&n(3,m=t.wrapLines),"allowNewline"in t&&n(4,$=t.allowNewline),"textStyles"in t&&n(14,w=t.textStyles),"formatInput"in t&&n(15,k=t.formatInput),"formatPaste"in t&&n(16,R=t.formatPaste),"style"in t&&n(17,style=t.style),"innerHTML"in t&&n(13,T=t.innerHTML),"oninput"in t&&n(18,A=t.oninput)},t.$$.update=function(){var html;if(32&t.$$.dirty[0]&&n(22,r=!!element),4202496&t.$$.dirty[0]&&r&&T&&(html=T)!==element.innerHTML&&(n(5,element.innerHTML=html,element),element===document.activeElement&&select()),131096&t.$$.dirty[0])if(!m&&$){var e=style.includes(":right")?"text-indent:-100px!important":style.includes(":center")?"":"min-width:calc(100% + 100px)!important";n(6,L=style+";overflow:visible;"+e)}else n(6,L=style)},[c,d,h,m,$,element,L,function(){E("blur")},function(t){if(/escape/i.test(t.code))return t.stopPropagation(),void E("cancel");/enter/i.test(t.code)&&(t.stopPropagation(),t.ctrlKey||t.metaKey?E("confirm"):$||t.preventDefault())},function(){},function(t){""!==t.data&&O()},function(t){var e=t.inputType;"insertCompositionText"!==e&&"deleteCompositionText"!==e&&O()},function(t){t.preventDefault();var e=t.clipboardData.getData("text/plain"),html=w?e:F(e),text=R(html);if(text.length){var n=_().getRangeAt(0);n.deleteContents(),n.insertNode(document.createTextNode(text)),z()}},T,w,k,R,style,A,function(){return O()},function(){return element&&element.focus()},select,r,function(t){ja[t?"unshift":"push"]((function(){n(5,element=t)}))}]}var Sb=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,kb,Pb,Go,{spellcheck:0,autocorrect:1,autocapitalize:2,wrapLines:3,allowNewline:4,textStyles:14,formatInput:15,formatPaste:16,style:17,innerHTML:13,oninput:18,confirm:19,focus:20,select:21},null,[-1,-1]),r}return(0,d.default)(n,[{key:"spellcheck",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({spellcheck:t}),eu()}},{key:"autocorrect",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({autocorrect:t}),eu()}},{key:"autocapitalize",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({autocapitalize:t}),eu()}},{key:"wrapLines",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({wrapLines:t}),eu()}},{key:"allowNewline",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({allowNewline:t}),eu()}},{key:"textStyles",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({textStyles:t}),eu()}},{key:"formatInput",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({formatInput:t}),eu()}},{key:"formatPaste",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({formatPaste:t}),eu()}},{key:"style",get:function(){return this.$$.ctx[17]},set:function(style){this.$$set({style:style}),eu()}},{key:"innerHTML",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({innerHTML:t}),eu()}},{key:"oninput",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({oninput:t}),eu()}},{key:"confirm",get:function(){return this.$$.ctx[19]}},{key:"focus",get:function(){return this.$$.ctx[20]}},{key:"select",get:function(){return this.$$.ctx[21]}}]),n}(Pu),Rb=function(t,e){return ht(t)?parseFloat(t)/100*e:t},Cb=function(t,e){return{x:Fr(t.x,e.width),y:Fr(t.y,e.height)}};function Mb(t,e,i){var n=t.slice();return n[218]=e[i],n[220]=i,n}function Tb(t,e){var li,button,n,r,span,o,c,l,d,f,h,v=e[218].name+"";function m(){return e[146](e[220])}return n=new Cv({props:{color:e[218].color}}),{key:t,first:null,c:function(){li=element("li"),button=element("button"),yu(n.$$.fragment),r=ma(),span=element("span"),o=text(v),l=ma(),xa(button,"class","PinturaShapeListItem"),xa(button,"type","button"),xa(button,"aria-label",c="Select shape "+e[218].name),this.first=li},m:function(t,e){pa(t,li,e),sa(li,button),$u(n,button,null),sa(button,r),sa(button,span),sa(span,o),sa(li,l),d=!0,f||(h=ba(button,"click",m),f=!0)},p:function(t,r){e=t;var l={};524288&r[0]&&(l.color=e[218].color),n.$set(l),(!d||524288&r[0])&&v!==(v=e[218].name+"")&&Pa(o,v),(!d||524288&r[0]&&c!==(c="Select shape "+e[218].name))&&xa(button,"aria-label",c)},i:function(t){d||(cu(n.$$.fragment,t),d=!0)},o:function(t){lu(n.$$.fragment,t),d=!1},d:function(t){t&&ha(li),xu(n),f=!1,h()}}}function Ib(t){var e,n;return(e=new hb({props:{visible:!0,points:t[10],rotatorPoint:t[25],enableDragEdges:t[15],enableDragPoints:t[27],enableRotatePoints:t[13]}})).$on("resizestart",t[35]),e.$on("resizemove",t[36]),e.$on("resizeend",t[37]),e.$on("rotatestart",t[38]),e.$on("rotatemove",t[39]),e.$on("rotateend",t[40]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};1024&n[0]&&(r.points=t[10]),33554432&n[0]&&(r.rotatorPoint=t[25]),32768&n[0]&&(r.enableDragEdges=t[15]),134217728&n[0]&&(r.enableDragPoints=t[27]),8192&n[0]&&(r.enableRotatePoints=t[13]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Ab(t){var e,n,r,o,c=[Lb,Eb],l=[];function d(t,e){return"modal"===t[4]?0:"inline"===t[4]?1:-1}return~(e=d(t))&&(n=l[e]=c[e](t)),{c:function(){n&&n.c(),r=ga()},m:function(t,n){~e&&l[e].m(t,n),pa(t,r,n),o=!0},p:function(t,o){var f=e;(e=d(t))===f?~e&&l[e].p(t,o):(n&&(au(),lu(l[f],1,1,(function(){l[f]=null})),uu()),~e?((n=l[e])?n.p(t,o):(n=l[e]=c[e](t)).c(),cu(n,1),n.m(r.parentNode,r)):n=null)},i:function(t){o||(cu(n),o=!0)},o:function(t){lu(n),o=!1},d:function(t){~e&&l[e].d(t),t&&ha(r)}}}function Eb(t){var div,e,n,r,o,c={formatInput:t[42],wrapLines:!!t[12].width,allowNewline:t[26],style:t[24]};return e=new Sb({props:c}),t[149](e),e.$on("input",t[43]),e.$on("keyup",t[46]),e.$on("cancel",t[48]),e.$on("confirm",t[47]),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaInlineInput"),xa(div,"style",t[23])},m:function(c,l){pa(c,div,l),$u(e,div,null),n=!0,r||(o=ba(div,"focusout",t[150]),r=!0)},p:function(t,r){var o={};4096&r[0]&&(o.wrapLines=!!t[12].width),67108864&r[0]&&(o.allowNewline=t[26]),16777216&r[0]&&(o.style=t[24]),e.$set(o),(!n||8388608&r[0])&&xa(div,"style",t[23])},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(n){n&&ha(div),t[149](null),xu(e),r=!1,o()}}}function Lb(t){var e,n;return e=new $b({props:{panelOffset:t[2],onconfirm:t[47],oncancel:t[48],labelCancel:t[5].shapeLabelInputCancel,iconCancel:t[5].shapeIconInputCancel,labelConfirm:t[5].shapeLabelInputConfirm,iconConfirm:t[5].shapeIconInputConfirm,$$slots:{default:[Fb]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};4&n[0]&&(r.panelOffset=t[2]),32&n[0]&&(r.labelCancel=t[5].shapeLabelInputCancel),32&n[0]&&(r.iconCancel=t[5].shapeIconInputCancel),32&n[0]&&(r.labelConfirm=t[5].shapeLabelInputConfirm),32&n[0]&&(r.iconConfirm=t[5].shapeIconInputConfirm),20971648&n[0]|16&n[7]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Fb(t){var textarea,e,n;return{c:function(){xa(textarea=element("textarea"),"spellcheck","false"),xa(textarea,"autocorrect","off"),xa(textarea,"autocapitalize","off"),xa(textarea,"style",t[24])},m:function(r,o){pa(r,textarea,o),t[147](textarea),ka(textarea,t[22]),e||(n=[ba(textarea,"keydown",t[45]),ba(textarea,"keypress",t[44]),ba(textarea,"keyup",t[46]),ba(textarea,"input",t[43]),ba(textarea,"input",t[148])],e=!0)},p:function(t,e){16777216&e[0]&&xa(textarea,"style",t[24]),4194304&e[0]&&ka(textarea,t[22])},d:function(r){r&&ha(textarea),t[147](null),e=!1,jo(n)}}}function zb(t){var div,e,n,r,o;return e=new vp({props:{items:t[20],key:t[9]}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaShapeControls"),xa(div,"style",t[21])},m:function(c,l){pa(c,div,l),$u(e,div,null),n=!0,r||(o=[ba(div,"measure",t[151]),ra(os.call(null,div))],r=!0)},p:function(t,r){var o={};1048576&r[0]&&(o.items=t[20]),512&r[0]&&(o.key=t[9]),e.$set(o),(!n||2097152&r[0])&&xa(div,"style",t[21])},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e),r=!1,jo(o)}}}function Ob(t){for(var div,nav,ul,e,n,r,o,c,l,d,f=[],h=new Map,v=t[19],m=function(t){return t[218].id},i=0;i<v.length;i+=1){var y=Mb(t,v,i),$=m(y);h.set($,f[i]=Tb($,y))}var x=t[14]&&Ib(t),w=t[11]&&Ab(t),P=t[16]>0&&zb(t);return{c:function(){div=element("div"),nav=element("nav"),ul=element("ul");for(var o=0;o<f.length;o+=1)f[o].c();e=ma(),x&&x.c(),n=ma(),w&&w.c(),r=ma(),P&&P.c(),xa(nav,"class","PinturaShapeList"),xa(nav,"data-visible",t[17]),xa(div,"class","PinturaShapeEditor"),xa(div,"tabindex","0")},m:function(h,v){pa(h,div,v),sa(div,nav),sa(nav,ul);for(var m=0;m<f.length;m+=1)f[m].m(ul,null);sa(div,e),x&&x.m(div,null),sa(div,n),w&&w.m(div,null),sa(div,r),P&&P.m(div,null),t[152](div),c=!0,l||(d=[ba(nav,"focusin",t[51]),ba(nav,"focusout",t[52]),ba(div,"keydown",(function(){Vo(t[1]?N:t[41])&&(t[1]?N:t[41]).apply(this,arguments)})),ba(div,"nudge",(function(){Vo(t[1]?N:t[50])&&(t[1]?N:t[50]).apply(this,arguments)})),ba(div,"measure",t[145]),ba(div,"pointermove",(function(){Vo(t[1]?N:t[53])&&(t[1]?N:t[53]).apply(this,arguments)})),ba(div,"interactionstart",(function(){Vo(t[1]?N:t[30])&&(t[1]?N:t[30]).apply(this,arguments)})),ba(div,"interactionupdate",(function(){Vo(t[1]?N:t[32])&&(t[1]?N:t[32]).apply(this,arguments)})),ba(div,"interactioncancel",(function(){Vo(t[1]?N:t[31])&&(t[1]?N:t[31]).apply(this,arguments)})),ba(div,"interactionrelease",(function(){Vo(t[1]?N:t[33])&&(t[1]?N:t[33]).apply(this,arguments)})),ba(div,"interactionend",(function(){Vo(t[1]?N:t[34])&&(t[1]?N:t[34]).apply(this,arguments)})),ra(os.call(null,div)),ra(Us.call(null,div)),ra(o=ld.call(null,div,{drag:!0,inertia:!0,multiTouch:!1,shouldStartInteraction:_b,getEventPosition:t[153]}))],l=!0)},p:function(e,l){t=e,524353&l[0]&&(v=t[19],au(),f=vu(f,l,m,1,t,v,h,ul,hu,Tb,null,Mb),uu()),(!c||131072&l[0])&&xa(nav,"data-visible",t[17]),t[14]?x?(x.p(t,l),16384&l[0]&&cu(x,1)):((x=Ib(t)).c(),cu(x,1),x.m(div,n)):x&&(au(),lu(x,1,1,(function(){x=null})),uu()),t[11]?w?(w.p(t,l),2048&l[0]&&cu(w,1)):((w=Ab(t)).c(),cu(w,1),w.m(div,r)):w&&(au(),lu(w,1,1,(function(){w=null})),uu()),t[16]>0?P?(P.p(t,l),65536&l[0]&&cu(P,1)):((P=zb(t)).c(),cu(P,1),P.m(div,null)):P&&(au(),lu(P,1,1,(function(){P=null})),uu()),o&&Vo(o.update)&&8&l[0]&&o.update.call(null,{drag:!0,inertia:!0,multiTouch:!1,shouldStartInteraction:_b,getEventPosition:t[153]})},i:function(t){if(!c){for(var e=0;e<v.length;e+=1)cu(f[e]);cu(x),cu(w),cu(P),c=!0}},o:function(t){for(var e=0;e<f.length;e+=1)lu(f[e]);lu(x),lu(w),lu(P),c=!1},d:function(e){e&&ha(div);for(var n=0;n<f.length;n+=1)f[n].d();x&&x.d(),w&&w.d(),P&&P.d(),t[152](null),l=!1,jo(d)}}}var Bb=256,Db="markup-hover",_b=function(t,element){return t.target===element};function Ub(t,e,n){var r,c,l,d,f,h,v,m,y,$,x,k,S,R,C,M,I,A,E,L,F,O,B,D,_,U,W,j,V,G,H,Z,X,Y,K,J,Q,tt,et,nt,it,ot,at,ut=e.uid,ct=void 0===ut?$t():ut,lt=e.ui,st=e.disabled,ft=void 0!==st&&st,pt=e.markup,vt=e.offset,mt=e.contextRotation,gt=void 0===mt?0:mt,bt=e.contextFlipX,yt=void 0!==bt&&bt,xt=e.contextFlipY,wt=void 0!==xt&&xt,Pt=e.contextZoom,kt=void 0===Pt?1:Pt,St=e.active,Rt=void 0!==St&&St,Ct=e.opacity,Mt=void 0===Ct?1:Ct,Tt=e.parentRect,It=e.rootRect,At=e.utilRect,Et=e.hoverColor,Lt=e.textInputMode,Ft=void 0===Lt?"inline":Lt,Ot=e.oninteractionstart,Bt=void 0===Ot?N:Ot,Dt=e.oninteractionupdate,_t=void 0===Dt?N:Dt,Ut=e.oninteractionrelease,Nt=void 0===Ut?N:Ut,Wt=e.oninteractionend,jt=void 0===Wt?N:Wt,Vt=e.oninteractioncancel,Gt=void 0===Vt?N:Vt,Ht=e.onaddshape,Zt=void 0===Ht?N:Ht,Xt=e.onupdateshape,qt=void 0===Xt?N:Xt,Kt=e.onselectshape,ee=void 0===Kt?N:Kt,ne=e.onremoveshape,ie=void 0===ne?N:ne,ae=e.ontapshape,pe=void 0===ae?N:ae,me=e.onhovershape,ye=void 0===me?N:me,Pe=e.onhovercanvas,ke=void 0===Pe?N:Pe,Re=e.ontapcanvas,Ce=void 0===Re?N:Re,Me=e.beforeSelectShape,Ie=void 0===Me?function(){return!0}:Me,Ae=e.beforeDeselectShape,Ee=void 0===Ae?function(){return!0}:Ae,Le=e.beforeRemoveShape,Fe=void 0===Le?function(){return!0}:Le,Be=e.beforeUpdateShape,_e=void 0===Be?function(t,e){return e}:Be,Ue=e.willRenderShapeControls,Ne=void 0===Ue?zt:Ue,We=e.willStartInteraction,je=void 0===We?function(t,rect){return!0}:We,Ze=e.mapEditorPointToImagePoint,Ye=e.mapImagePointToEditorPoint,Ke=e.eraseRadius,Je=void 0===Ke?void 0:Ke,Qe=e.selectRadius,tn=void 0===Qe?void 0:Qe,en=e.enableButtonFlipVertical,nn=void 0!==en&&en,rn=e.enableTapToAddText,on=void 0===rn||rn,un=e.locale,cn=Ua("isAnimated");Xo(t,cn,(function(t){return n(144,ot=t)}));var ln=function(t,e,n){var r=_e(z({},t),e,z({},n));lo(t,r,n)},pn=function(t,e){var n=be(t,e),r=ce(t,e),o=Math.PI/8,c=o*Math.round(r/o)-gt%o;e.x=t.x+n*Math.cos(c),e.y=t.y+n*Math.sin(c)},hn=function(t,e,n,r){var o=te(t.x-n.x,t.y-n.y),c=te(r.x-n.x,r.y-n.y),l=ve(c,c),d=ve(o,c)/l;d=(d=d<0?0:d)>1?1:d;var f=te(c.x*d+n.x-t.x,c.y*d+n.y-t.y);return ve(f,f)<=e*e},vn=function(t,e,n){for(var r=n.length,i=0;i<r-1;i++)if(hn(t,e,n[i],n[i+1]))return!0;return!1},mn=function(t,e,n){return!!$n(t,n)||(!!vn(t,e,n)||hn(t,e,n[0],n[n.length-1]))},gn=function(t,e,rect,n,r){return mn(t,e,an(rect,n,r||qe(rect)))},bn=Ua("keysPressed");Xo(t,bn,(function(t){return n(166,at=t)}));var xn,wn,kn,Sn,Rn=function(t,e,n){return 0===t||e&&n?t:e||n?-t:t},Cn=function(t,e){var n=Ye(t);return Ze(de(n,e))},Mn=function(t,e,n){if(Ri(t)){var r=Cn(yi(e),n),o=Cn($i(e),n);ln(t,{x1:r.x,y1:r.y,x2:o.x,y2:o.y},Tt)}else if(t.points)ln(t,{points:e.points.map((function(t){return Cn(t,n)}))},Tt);else if(ki(t)||xi(t)||Si(t)){var c=Cn(e,n);ln(t,c,Tt)}On()},Tn={0:1,1:0,2:3,3:2},In={0:3,1:2,2:1,3:0},An=function(){if(pt.length)return pt.find(Ei)},En=function(){if(pt.length)return pt.findIndex(Ei)},Ln=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!An())return Bi(t),Bn(t,e)},Fn=function(){var t=An();if(t)return t._isDraft=!1,On(),t},zn=function(){An()&&(pt.splice(En(),1),On())},On=function(){return n(0,pt)},Bn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pt.push(t),e&&On(),t},Dn=function(t){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter(Boolean).forEach((function(e){return delete t[e]})),e&&On()},_n=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=Object.assign(t,e),n&&On()},Un=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t[e]=n,r&&On()},Nn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];pt.forEach((function(e){return _n(e,t,!1)})),e&&On()},Wn=function(){return(0,P.default)(pt).reverse().find(Ii)},jn=function(){return!!Wn()},Vn=function(t){if(!Fe(t))return!1;n(0,pt=pt.filter((function(e){return e!==t}))),ie(t)},Gn=function(){var t=Wn();if(t){var e=pt.filter((function(t){return Ui(t)&&_i(t)})),n=e.findIndex((function(e){return e===t}));if(!1!==Vn(t)){if(Hn=t,e.length-1<=0)return Zn();var r=n-1<0?e.length-1:n-1;qn(e[r])}}},Hn=void 0,Zn=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).storePrevious,e=void 0===t||t;Object.keys(Ir).forEach((function(t){return Ir[t]={}})),e&&(Hn=Xn()),Nn({isSelected:!1,isEditing:!1,_prerender:!1})},Xn=function(){return pt.find(Ii)},qn=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Ei(t)){var n=Xn()||Hn,r=Ii(t);Hn=void 0,Ie(n,t)&&(Zn(),function(t){t.isSelected=!0}(t),!r&&ee(t),e&&On())}},Yn=function(t){kn&&kn.confirm&&t.isEditing&&kn.confirm(),_n(t,{isSelected:!1,isEditing:!1,_prerender:!1})},Kn=function(t){_n(t,{isSelected:!0,isEditing:!0,_prerender:"inline"===Ft})},Jn=function(t){_n(t,{isSelected:!0,isEditing:!1,_prerender:!1})},Qn=function(t){if(!t.length)return[];var e=t.filter(Fe);return n(0,pt=pt.filter((function(t){return!e.includes(t)}))),e},er=function(t){var e=qr(t.text,t);return Xe(t.x,t.y,t.width?Math.min(t.width,e.width):e.width,t.height?Math.min(t.height,e.height):e.height)},nr=function(t){if(Li(t))return Ve(t);if(Si(t))return He(t);var rect=er(t);return rect.width=Math.max(10,t.width||rect.width),rect},rr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return(0,P.default)(pt).reverse().filter(n).map((function(t){return{shape:t,priority:1}})).filter((function(n){var r=n.shape,o=oo(hi(r),Tt),c=e+(o.strokeWidth||0);if(ki(o))return gn(t,c,o,r.rotation);if(xi(o)){var l=nr(o),d=gn(t,c,l,r.rotation);if(d&&!Ii(r)){var f=er(o);"right"!==r.textAlign||r.flipX||(f.x=l.x+l.width-f.width),"center"===r.textAlign&&(f.x=l.x+.5*l.width-.5*f.width),gn(t,c,f,r.rotation,qe(l))||(n.priority=-1)}return d}return Si(o)?function(t,e,ellipse,n,r,o){var c=Pn(te(ellipse.x,ellipse.y),ellipse.rx,ellipse.ry,n,r,o,12);return mn(t,e,c)}(t,c,o,r.rotation,r.flipX,r.flipY):Ri(o)?hn(t,Math.max(16,c),yi(o),$i(o)):Ci(o)&&o.pathClose?mn(t,c,o.points):!!Ci(o)&&vn(t,Math.max(16,c),o.points)})).sort((function(a,b){return a.priority<b.priority?1:a.priority>b.priority?-1:0})).map((function(t){return t.shape}))},ir=function(t,a,b){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=Math.abs(e),line=Oe(a,b),r=De(line,n),o=function(t,e){var n=t.start,r=t.end;if(0===e)return[te(n.x,n.y),te(n.x,n.y),te(r.x,r.y),te(r.x,r.y)];var a=Math.atan2(r.y-n.y,r.x-n.x),o=Math.sin(a)*e,c=Math.cos(a)*e;return[te(o+n.x,-c+n.y),te(-o+n.x,c+n.y),te(-o+r.x,c+r.y),te(o+r.x,-c+r.y)]}(r,n),c=t.filter((function(t){var e=oo(hi(t),Tt);if(Ri(e)||Ci(e)){var n=e.points?(0,P.default)(e.points):[yi(e),$i(e)];return!!yn(r,n)}return function(a,b){return!!a.find((function(t){return $n(t,b)}))||!!b.find((function(t){return $n(t,a)}))}(o,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(ki(t))return an(t,t.rotation,qe(t));if(xi(t)){var n=nr(t);return an(n,t.rotation,qe(n))}return Si(t)?Pn(te(t.x,t.y),t.rx,t.ry,t.rotation,t.flipX,t.flipY,e):[]}(e))}));return c},or=void 0,ar=void 0,ur=void 0,cr=void 0,lr=void 0,sr=void 0,dr=!1,fr=!1,pr=function(){clearTimeout(ar),ar=void 0,n(118,fr=!1)},vr=function(t){if(ki(t)){if(t.width<1&&t.height<1)return;var e=qe(t),n=fn(t);return(t.flipX||t.flipY)&&xe(n,t.flipX,t.flipY,e.x,e.y),we(n,t.rotation,e.x,e.y)}if(Si(t)){if(t.rx<1&&t.ry<1)return;var r=t,o=fn(He(t));return(t.flipX||t.flipY)&&xe(o,t.flipX,t.flipY,r.x,r.y),we(o,t.rotation,r.x,r.y)}if(Ri(t))return[yi(t),$i(t)];if(Ci(t))return(0,P.default)(t.points);if(xi(t)){if(t.width<5&&t.height<5)return;var rect=nr(t);rect.width=Math.max(10,rect.width);var c=qe(rect),l=fn(rect);return(t.flipX||t.flipY)&&xe(l,t.flipX,t.flipY,c.x,c.y),we(l,t.rotation,c.x,c.y)}return[]},mr=function(t){var e,n,r=vr(t);return t.flipY?(e=$e([r[0],r[1]]),n=ue(te(r[1].x-r[2].x,r[1].y-r[2].y))):(e=$e([r[2],r[3]]),n=ue(te(r[2].x-r[1].x,r[2].y-r[1].y))),he(n,20/kt),{origin:e,dir:n}},gr=function(){var t=lt.filter((function(t){return t.id!==Db}));t.length!==lt.length&&n(54,lt=t)},yr="markup-manipulator-segment-"+ct,$r=function(){n(54,lt=lt.filter((function(t){return t.id!==yr})))},xr=function(element){return element.isContentEditable||/input|textarea/i.test(element.nodeName)},wr=function(text){n(7,kn.innerHTML=function(text){return text.replace(/ {2,}/g," ").replace(/&/g,"&amp;").replace(/\u00a0/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").split("\n").join("<br>")}(text),kn)},Pr=function(element){var t,html;void 0===element.value?(html=element.innerHTML,t=wb(html).split("<br>").join("\n").replace(/&nbsp;/g,String.fromCharCode(160)).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")):t=element.value;var e=wi(r)&&!1!==r.disableNewline?function(text){var t=text.split(/[\n\r]/g);return t.length>1?t.map((function(t){return t.trim()})).filter((function(t){return t.length})).join(" "):t[0]}(t):t;return e},kr=function(){var t=Pr(kn),e=Wi(r,t),text=!0===e?t:e,n=O.x,o=O.y;if(!r.height){var c=an(z({},D),r.rotation),l=qr(text,f),d=an(z({x:n,y:o},l),r.rotation),h=(0,w.default)(c,3),v=h[0],m=h[2],y=(0,w.default)(d,3),$=y[0],x=y[2],a=v,b=$;r.flipX&&(a=m,b=x);var P=fe(re(a),b);n+=P.x,o+=P.y}_n(r,{x:ht(F.x)?Fr(n,Tt.width):n,y:ht(F.y)?Fr(o,Tt.height):o,text:text})},Sr=function(){var t=l;l&&Fn(),kn&&kn.confirm&&kn.confirm(),kr(),Jn(r),t?Zt(r):qt(r)},Cr=function(){l?zn():(_n(r,{text:F.text,x:F.x,y:F.y}),Jn(r))},Mr=function(t,e,n){var a,b,r=n.flipX,o=n.flipY,c=n.rotation,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top left",d=an(t,c),f=(0,w.default)(d,4),h=f[0],v=f[1],m=f[2],y=f[3],$=an(e,c),x=(0,w.default)($,4),P=x[0],k=x[1],S=x[2],R=x[3];"top center"===l?(a=$e(o?[y,m]:[h,v]),b=$e(o?[R,S]:[P,k])):"top right"===l&&!r||"top left"===l&&r?(a=o?m:v,b=o?S:k):(a=o?y:h,b=o?R:P);return fe(re(a),b)},Tr=function(t,e,n){return te(ht(t.x)?Fr(e.x+n.x,Tt.width):e.x+n.x,ht(t.y)?Fr(e.y+n.y,Tt.height):e.y+n.y)},Ir={},Ar=function(){return Kn(r)},Er=function(){var t=ze(qr(r.text,f),(function(t){return Math.ceil(t)})),e=Rr(r,"height"),n=!e&&Rr(r,"width"),c=r.id,l=Ir[c];l||(Ir[c]={},l=Ir[c]);var d=function(t){var e=f,n=(e.width,(0,o.default)(e,T)),c=qr(r.text,n),l=Mr(Xe(f.x,f.y,t.width,t.height),Xe(f.x,f.y,c.width,c.height),f,"top ".concat(r.textAlign)),d=!1!==f.disableNewline;Dn(r,["width","height",d&&"textAlign"]),_n(r,z({},Tr(r,f,l)))},h=function(e){var n=Te(l.width||f.width||t.width,t.height),o=l.textAlign||"left",c=Mr(Xe(f.x,f.y,e.width,e.height),Xe(f.x,f.y,n.width,n.height),f,"top ".concat(o));Dn(r,["height"]),_n(r,z(z({},Tr(r,f,c)),{},{width:ht(r.width)?Fr(n.width,Tt.width):n.width,textAlign:o}))},v=function(e){var n=Te(l.width||t.width,l.height||t.height),o=l.textAlign||"left",c=Mr(Xe(f.x,f.y,e.width,e.height),Xe(f.x,f.y,n.width,n.height),f,"top ".concat(o));_n(r,z(z({},Tr(r,f,c)),{},{width:ht(r.width)?Fr(n.width,Tt.width):n.width,height:ht(r.width)?Fr(n.height,Tt.height):n.height,textAlign:o}))};if(e){l.textAlign=r.textAlign,l.width=f.width,l.height=f.height;var m=Te(f.width,f.height);ji(r,"auto-height")?h(m):ji(r,"auto-width")&&d(m)}else if(n){l.textAlign=r.textAlign,l.width=f.width;var y=Te(f.width,t.height);ji(r,"auto-width")?d(y):ji(r,"fixed-size")&&v(y)}else{l.textAlign=r.textAlign;var $=Te(Math.ceil(t.width),Math.ceil(t.height));ji(r,"fixed-size")?v($):ji(r,"auto-height")&&h($)}},Lr=function(t){t.stopPropagation();var e=r.flipX||!1;Un(r,"flipX",!e),qt(r)},Or=function(t){t.stopPropagation();var e=r.flipY||!1;Un(r,"flipY",!e),qt(r)},Br=function(t){Un(r,"opacity",t)},Dr=function(t){Br(t),qt(r)},_r=function(t){t.stopPropagation(),t.target.blur(),Gn()},Ur=function(t){t.stopPropagation(),pt.findIndex((function(t){return t===r}))!==pt.length-1&&(n(0,pt=pt.filter((function(t){return t!==r})).concat([r])),qt(r))},Nr=function(t){t.stopPropagation(),Wr()},Wr=function(){var t=hi(r);t.id=$t();var e=te(50,-50);if(Rr(t,"points")){var n=co(t,["points"],Tt);n.points.forEach((function(t){t.x+=e.x,t.y+=e.y})),lo(t,n,Tt)}else if(Ri(t)){var o=co(t,["x1","y1","x2","y2"],Tt);o.x1+=e.x,o.y1+=e.y,o.x2+=e.x,o.y2+=e.y,lo(t,o,Tt)}else{var c=co(t,["x","y"],Tt);c.x+=50,c.y-=50,lo(t,c,Tt)}pt.push(t),Zt(t),qn(t)},jr=Zl(0,{stiffness:.2,damping:.7});Xo(t,jr,(function(t){return n(16,it=t)}));var element,Vr=function(t,e){var n=e.disableTextLayout,r=void 0===n?[]:n;return"height"in e?r.includes("auto-height")?t.shapeIconButtonTextLayoutAutoWidth:t.shapeIconButtonTextLayoutAutoHeight:"width"in e?r.includes("auto-width")?t.shapeIconButtonTextLayoutFixedSize:t.shapeIconButtonTextLayoutAutoWidth:r.includes("fixed-size")?t.shapeIconButtonTextLayoutAutoHeight:t.shapeIconButtonTextLayoutFixedSize},Gr=function(t,e){var n=e.disableTextLayout,r=void 0===n?[]:n;return"height"in e?r.includes("auto-height")?t.shapeTitleButtonTextLayoutAutoWidth:t.shapeTitleButtonTextLayoutAutoHeight:"width"in e?r.includes("auto-width")?t.shapeTitleButtonTextLayoutFixedSize:t.shapeTitleButtonTextLayoutAutoWidth:r.includes("fixed-size")?t.shapeTitleButtonTextLayoutAutoHeight:t.shapeTitleButtonTextLayoutFixedSize},Hr=!1,Zr=Qt(),Xr=void 0,Yr=function(t){ye(t),n(119,wn=t)};Ba((function(){$r(),gr()}));return t.$$set=function(t){"uid"in t&&n(55,ct=t.uid),"ui"in t&&n(54,lt=t.ui),"disabled"in t&&n(1,ft=t.disabled),"markup"in t&&n(0,pt=t.markup),"offset"in t&&n(2,vt=t.offset),"contextRotation"in t&&n(56,gt=t.contextRotation),"contextFlipX"in t&&n(57,yt=t.contextFlipX),"contextFlipY"in t&&n(58,wt=t.contextFlipY),"contextZoom"in t&&n(59,kt=t.contextZoom),"active"in t&&n(60,Rt=t.active),"opacity"in t&&n(61,Mt=t.opacity),"parentRect"in t&&n(62,Tt=t.parentRect),"rootRect"in t&&n(3,It=t.rootRect),"utilRect"in t&&n(63,At=t.utilRect),"hoverColor"in t&&n(64,Et=t.hoverColor),"textInputMode"in t&&n(4,Ft=t.textInputMode),"oninteractionstart"in t&&n(65,Bt=t.oninteractionstart),"oninteractionupdate"in t&&n(66,_t=t.oninteractionupdate),"oninteractionrelease"in t&&n(67,Nt=t.oninteractionrelease),"oninteractionend"in t&&n(68,jt=t.oninteractionend),"oninteractioncancel"in t&&n(69,Gt=t.oninteractioncancel),"onaddshape"in t&&n(70,Zt=t.onaddshape),"onupdateshape"in t&&n(71,qt=t.onupdateshape),"onselectshape"in t&&n(72,ee=t.onselectshape),"onremoveshape"in t&&n(73,ie=t.onremoveshape),"ontapshape"in t&&n(74,pe=t.ontapshape),"onhovershape"in t&&n(75,ye=t.onhovershape),"onhovercanvas"in t&&n(76,ke=t.onhovercanvas),"ontapcanvas"in t&&n(77,Ce=t.ontapcanvas),"beforeSelectShape"in t&&n(78,Ie=t.beforeSelectShape),"beforeDeselectShape"in t&&n(79,Ee=t.beforeDeselectShape),"beforeRemoveShape"in t&&n(80,Fe=t.beforeRemoveShape),"beforeUpdateShape"in t&&n(81,_e=t.beforeUpdateShape),"willRenderShapeControls"in t&&n(82,Ne=t.willRenderShapeControls),"willStartInteraction"in t&&n(83,je=t.willStartInteraction),"mapEditorPointToImagePoint"in t&&n(84,Ze=t.mapEditorPointToImagePoint),"mapImagePointToEditorPoint"in t&&n(85,Ye=t.mapImagePointToEditorPoint),"eraseRadius"in t&&n(86,Je=t.eraseRadius),"selectRadius"in t&&n(87,tn=t.selectRadius),"enableButtonFlipVertical"in t&&n(88,nn=t.enableButtonFlipVertical),"enableTapToAddText"in t&&n(89,on=t.enableTapToAddText),"locale"in t&&n(5,un=t.locale)},t.$$.update=function(){var e,rect;3&t.$$.dirty[0]&&n(123,r=!ft&&pt&&(An()||Wn())),1073741824&t.$$.dirty[3]&&n(142,c=!!r),1073741824&t.$$.dirty[3]&&n(134,l=r&&Ei(r)),1073741824&t.$$.dirty[3]|1024&t.$$.dirty[4]&&n(9,d=r&&!l?r.id:void 0),8&t.$$.dirty[0]|1&t.$$.dirty[2]|1073741824&t.$$.dirty[3]&&n(12,f=It&&r&&oo(hi(r),Tt)),1073741824&t.$$.dirty[3]|1024&t.$$.dirty[4]&&n(121,h=!(!r||!l)),4096&t.$$.dirty[0]|1073741824&t.$$.dirty[1]|1073741824&t.$$.dirty[3]&&n(141,v=r&&Mt&&vr(f)||[]),1073741824&t.$$.dirty[3]&&n(143,m=r&&(Vi(e=r)&&Gi(e)&&!0!==e.disableResize&&(Li(e)||Pi(e)||Si(e)||Ri(e)||Ci(e)&&Rr(e,"pathClose")))&&!Mi(r)),1073741824&t.$$.dirty[3]&&n(13,y=r&&function(t){return Vi(t)&&!0!==t.disableRotate&&(Li(t)||Rr(t,"text")||Si(t))}(r)&&!Mi(r)),1073741824&t.$$.dirty[3]|524288&t.$$.dirty[4]&&n(15,$=m&&Rr(r,"text")&&!r.height?[[1,2],[3,0]]:(!r||!Ri(r)&&!Ci(r))&&m),32768&t.$$.dirty[0]|1073741824&t.$$.dirty[3]|524288&t.$$.dirty[4]&&n(27,x=!!r&&(!Array.isArray($)&&m)),1073741824&t.$$.dirty[3]|131072&t.$$.dirty[4]&&n(14,k=r&&v.length>1),8388608&t.$$.dirty[2]|131072&t.$$.dirty[4]&&n(139,S=v.map(Ye)),4&t.$$.dirty[0]|32768&t.$$.dirty[4]&&n(10,R=S.map((function(t){return te(t.x-vt.x,t.y-vt.y)}))),1073741824&t.$$.dirty[3]|262144&t.$$.dirty[4]&&n(26,C=c&&(Pi(r)?!Rr(r,"disableNewline")||!r.disableNewline:!1===r.disableNewline)),8388608&t.$$.dirty[2]|67108864&t.$$.dirty[3]&&(wn&&Ye&&!Ii(wn)&&_i(wn)?function(t){var e=vr(oo(hi(t),Tt));if(e){var r=e.map(Ye),o=!!t.pathClose||!Ci(t)&&!Ri(t),c={id:Db,points:r.map((function(p){return te(p.x+1,p.y+1)})),strokeColor:[0,0,0,.1],strokeWidth:2,pathClose:o},l={id:Db,points:r,strokeColor:Et,strokeWidth:2,pathClose:o},d=lt.filter((function(t){return t.id!==Db}));n(54,lt=[].concat((0,P.default)(d),[c,l]))}}(wn):gr()),29696&t.$$.dirty[0]|1073741824&t.$$.dirty[1]&&n(140,M=k&&y&&Mt&&R&&function(t){var e=mr(t),n=Ye({x:e.origin.x+e.dir.x,y:e.origin.y+e.dir.y});return{origin:Ye(e.origin),position:n}}(f)),4&t.$$.dirty[0]|65536&t.$$.dirty[4]&&n(25,I=M&&te(M.position.x-vt.x,M.position.y-vt.y)),1207959552&t.$$.dirty[3]|1024&t.$$.dirty[4]&&n(138,A=l&&Ci(r)&&Xr),1073741824&t.$$.dirty[1]|1073741824&t.$$.dirty[3]|49152&t.$$.dirty[4]&&r&&S&&Mt>0&&function(t,e,r){var o=Ci(e),c=o&&Rr(e,"pathClose"),l=c&&function(t){return t.strokeWidth&&function(t,e){var n=t.strokeColor;return!!n&&(3===n.length||n[3]>0)}(t)}(e),d=Ei(e),f=Mi(e);if(!d||!o||c){var h=[],m=(0,P.default)(S),y=m[m.length-1],$=m[0],x=(f?.05:.1)*t,w=(f?.5:1)*t,k=[0,0,0],R=[1,1,1],C=f?1:1.5;at.includes(16)&&y&&r&&pn(y,r);var T=m.length&&c&&d&&r?ge($,r):1/0,I=m.length&&c&&d&&r?ge(y,r):1/0,A=T<=Bb,E=I<=Bb;!A&&r&&m.push(r);var L=m.length>1,F=!!e.pathClose||!Ci(e)&&!Ri(e)||m.length>2&&A;L&&h.push({id:yr,points:m.map((function(p){return te(p.x+1,p.y+1)})),pathClose:F,strokeColor:k,strokeWidth:2,opacity:x}),c&&h.push.apply(h,(0,P.default)(m.map((function(t){return z(z({id:yr},t),{},{rx:2*C,ry:2*C,backgroundColor:k,opacity:x})})))),M&&h.push({id:yr,points:[te(M.origin.x+1,M.origin.y+1),te(M.position.x+1,M.position.y+1)],strokeColor:k,strokeWidth:2,opacity:x}),L&&h.push({id:yr,points:m,pathClose:F,strokeColor:R,strokeWidth:C,backgroundColor:d&&e.backgroundColor&&e.backgroundColor[3]>0?e.backgroundColor:[0,0,0,0],opacity:w}),c&&h.push.apply(h,(0,P.default)(m.map((function(t){return z(z({id:yr},t),{},{rx:3*C,ry:3*C,backgroundColor:[.5,.5,.5],strokeWidth:C,strokeColor:R})})))),c&&d&&S.length>=3&&h.push(z(z({},$),{},{id:yr,rx:C*(A?5:4),ry:C*(A?5:4),backgroundColor:A?Et:[.5,.5,.5],strokeWidth:C,strokeColor:R})),c&&d&&l&&!A&&v.length>=2&&h.push(z(z({},y),{},{id:yr,rx:C*(E?5:4),ry:C*(E?5:4),backgroundColor:E?Et:[.5,.5,.5],strokeWidth:C,strokeColor:R})),M&&h.push({id:yr,points:[{x:M.origin.x,y:M.origin.y},{x:M.position.x,y:M.position.y}],strokeColor:R,strokeWidth:C,opacity:w}),n(54,lt=lt.filter((function(t){return t.id!==yr})).concat(h))}}(Mt,r,A),1073741824&t.$$.dirty[3]&&(r||$r()),536870912&t.$$.dirty[1]&&function(t){if(!t)return Nn({_prerender:!1});var e=pt.find((function(t){return t.isEditing}));e&&_n(e,{_prerender:"inline"===Ft})}(Rt),144&t.$$.dirty[0]&&kn&&"inline"===Ft&&kn.focus(),1073741824&t.$$.dirty[3]&&n(137,E=r&&xi(r)),1073741824&t.$$.dirty[3]|8192&t.$$.dirty[4]&&n(11,L=E&&!1!==Wi(r)&&Mi(r)),2048&t.$$.dirty[0]&&n(133,F=L?z({},r):void 0),1&t.$$.dirty[2]|512&t.$$.dirty[4]&&n(135,O=F&&oo(z({},F),Tt)),2048&t.$$.dirty[4]&&n(136,B=O&&qr(O.text,O)),6144&t.$$.dirty[4]&&(D=O&&Xe(O.x,O.y,B.width,B.height)),2048&t.$$.dirty[0]|1073741824&t.$$.dirty[3]&&n(22,_=L?r.text:""),6160&t.$$.dirty[0]&&n(24,U=L&&function(t,e){var n=t.textAlign,r=void 0===n?"left":n,o=t.fontFamily,c=void 0===o?"sans-serif":o,l=t.fontWeight,d=void 0===l?"normal":l,f=t.fontStyle,h=void 0===f?"normal":f,v=t.fontSize,m="!important",y="text-align:".concat(r).concat(m,";font-family:").concat(c).concat(m,";font-weight:").concat(d).concat(m,";font-style:").concat(h).concat(m,";");if("modal"===e)return y;var $=zr(t.color),x=t.lineHeight,w=.5*Math.max(0,v-x);return"--bottom-inset:".concat(w,"px;padding:").concat(w,"px 0 0").concat(m,";color:").concat($).concat(m,";font-size:").concat(v,"px").concat(m,";line-height:").concat(x,"px").concat(m,";").concat(y)}(f,Ft)),6148&t.$$.dirty[0]|301989888&t.$$.dirty[1]&&n(23,W=L&&function(t,e,n,o){var c,l;t.width&&t.height?(c=qe(t),l=Se(t)):((l=qr(r.text,f)).width=f.width||l.width,c=te(t.x+.5*l.width,t.y+.5*l.height));var d=Math.max(0,t.fontSize-t.lineHeight)+t.lineHeight,h=Ye(c),v=h.x-e.x-.5*l.width,m=h.y-e.y-.5*l.height,y=t.flipX,$=t.flipY,x=t.rotation;yt&&wt?(y=!y,$=!$):yt?(y=!y,x=-x):wt&&($=!$,x=-x),x+=o;var w=n*(y?-1:1),P=n*($?-1:1);return"--line-height:".concat(d,"px;width:").concat(l.width,"px;height:").concat(l.height,"px;transform:translate(").concat(v,"px,").concat(m,"px) rotate(").concat(x,"rad) scale(").concat(w,", ").concat(P,")")}(f,vt,kt,gt)),2192&t.$$.dirty[0]&&L&&kn&&"inline"===Ft&&wr(_),1342177280&t.$$.dirty[3]|8&t.$$.dirty[4]&&n(127,j=r&&!h?r:j),8&t.$$.dirty[4]&&n(129,V=j&&Ni(j)),8&t.$$.dirty[4]&&n(124,G=j&&ji(j)),8&t.$$.dirty[4]&&n(126,H=j&&function(t){return!0!==t.disableDuplicate&&Gi(t)}(j)),8&t.$$.dirty[4]&&n(125,Z=j&&Ui(j)),8&t.$$.dirty[4]&&n(128,X=j&&function(t){return!0!==t.disableReorder}(j)),8&t.$$.dirty[4]&&n(122,Y=j&&!1!==Wi(j)),8&t.$$.dirty[4]&&n(130,K=j&&Rr(j,"backgroundImage")&&Di(j,"opacity")),2048&t.$$.dirty[0]|1375731712&t.$$.dirty[3]|1048576&t.$$.dirty[4]&&jr.set(!r||h||fr||L?0:1,{hard:!1===ot}),1024&t.$$.dirty[0]|1342177280&t.$$.dirty[3]|256&t.$$.dirty[4]&&n(132,J=r&&!h&&R.length?(rect=Ge(R),se(te(rect.x+.5*rect.width,rect.y),Bd)):J),256&t.$$.dirty[0]|2&t.$$.dirty[2]|256&t.$$.dirty[4]&&n(131,Q=J&&Sn&&At&&function(t){var e=At.x,n=At.y,r=e+At.width,o=Math.max(t.x-.5*Sn.width,e),c=Math.max(t.y-Sn.height-16,n);return o+Sn.width>r&&(o=r-Sn.width),te(o,c)}(J)),65536&t.$$.dirty[0]|128&t.$$.dirty[4]&&n(21,tt=Q&&"transform: translate(".concat(Q.x,"px, ").concat(Q.y,"px);opacity:").concat(it)),545&t.$$.dirty[0]|68157440&t.$$.dirty[2]|1610612736&t.$$.dirty[3]|127&t.$$.dirty[4]&&n(20,et=d&&Ne&&Bp((function(){return Ne([K&&["div","alpha",{class:"PinturaShapeControlsGroup"},[["Slider","adjust-opacity",{onrelease:Dr,onchange:Br,step:.01,value:Rr(r,"opacity")?r.opacity:1,label:function(t,e,n){return"".concat(Math.round(t/n*100),"%")},min:0,max:1,direction:"x"}]]],["div","beta",{class:"PinturaShapeControlsGroup"},[V&&["Button","flip-horizontal",{onclick:Lr,label:un.shapeTitleButtonFlipHorizontal,icon:un.shapeIconButtonFlipHorizontal,hideLabel:!0}],V&&nn&&["Button","flip-vertical",{onclick:Or,label:un.shapeTitleButtonFlipVertical,icon:un.shapeIconButtonFlipVertical,hideLabel:!0}],X&&["Button","to-front",{onclick:Ur,label:un.shapeTitleButtonMoveToFront,icon:un.shapeIconButtonMoveToFront,hideLabel:!0,disabled:pt[pt.length-1]===j}],H&&["Button","duplicate",{onclick:Nr,label:un.shapeTitleButtonDuplicate,icon:un.shapeIconButtonDuplicate,hideLabel:!0}],Z&&["Button","remove",{onclick:_r,label:un.shapeTitleButtonRemove,icon:un.shapeIconButtonRemove,hideLabel:!0}]].filter(Boolean)],Y&&G&&["div","gamma",{class:"PinturaShapeControlsGroup"},[["Button","text-layout",{onclick:Er,label:rf(Gr,un,r),icon:rf(Vr,un,r),hideLabel:!0}]]],Y&&["div","delta",{class:"PinturaShapeControlsGroup"},[["Button","edit-text",{label:un.shapeLabelInputText,onclick:Ar}]]]].filter(Boolean),d)}))),33&t.$$.dirty[0]&&n(19,nt=pt.filter(_i).filter((function(t){return!Ei(t)})).map((function(t){return{id:t.id,color:xi(t)?t.color:Ri(t)?t.strokeColor:t.backgroundColor,name:t.name||un["shapeLabelTool".concat(Bu(Qi(t)))]}})))},[pt,ft,vt,It,Ft,un,qn,kn,Sn,d,R,L,f,y,k,$,it,Hr,element,nt,et,tt,_,W,U,I,C,x,cn,bn,function(t){var e=t.detail.origin;cr=void 0,lr=void 0,sr=void 0,dr=!1,ur=void 0,clearTimeout(ar),ar=setTimeout((function(){return n(118,fr=!0)}),250);var o=An();!o||Ci(o)&&Rr(o,"pathClose")||Fn(),or=Ze(re(e));var c=rr(or,tn,(function(t){return _i(t)})),l=c.length&&c.shift();if(r&&Mi(r)&&Sr(),!l&&r&&Mi(r)&&Yn(r),je(e)){if(l&&Ii(l))return dr=!0,lr=hi(cr=l),void(sr=oo(hi(cr),Tt));ur=l||void 0,!Bt(t)&&l&&(qn(l),lr=hi(cr=l),sr=oo(hi(cr),Tt))}},function(t){pr(),Gt(t)},function(t){var e=t.detail.translation;if(cr){if(!Gi(cr))return;if(Mi(cr))return;return Mn(cr,sr,e)}_t(t)},function(t){pr(),cr?Mi(cr)?Cr():t.detail.isTap&&dr&&xi(cr)&&!1!==Wi(cr)&&Kn(cr):Nt(t)},function(t){var a,b,e=ur&&t.detail.isTap;if(t.detail.isTap&&Ce({target:cr||ur,position:or}),cr)return pe(cr),a=cr,b=lr,JSON.stringify(a)!==JSON.stringify(b)&&qt(cr),void(cr=void 0);var n=Xn(),r=!n||Ee(n,ur||void 0);r&&Zn({storePrevious:!1}),jt(t),r&&e&&qn(ur)},function(t){n(118,fr=!0),cr=r,sr=f},function(t){if(cr){var e=t.detail,r=e.translation,o=e.indexes,c=e.shiftKey;!function(t,e,n,r,o){if(Ri(t)||Ci(t)&&Rr(t,"pathClose")){var c,l,d,f=n,h=(0,w.default)(f,1)[0],v=at.includes(16)?pn:function(t,e){return e};if(Ri(t))0===h?(c=function(){return yi(e)},l=function(t){return v($i(e),t)},d=function(t,e){t.x1=e.x,t.y1=e.y}):1===h&&(c=function(){return $i(e)},l=function(t){return v(yi(e),t)},d=function(t,e){t.x2=e.x,t.y2=e.y});else{var m=e.points;c=function(){return m[h]},l=function(t){var e=m[ub(h-1,m)],n=m[ub(h+1,m)];v(e,t),v(n,t)},d=function(t,e){return t.points[h]=e}}var y=Cn(c(),r);l(y),d(t,y)}else if(Li(t)||Si(t)||Pi(t)){var $,x,P=!1;if(Si(t))$=He(e);else if(Li(t))$=Ve(e);else{P=!0,$=Ve(e);var k=qr(e.text,e);$.height=k.height}t.aspectRatio?x=t.aspectRatio:o.shiftKey&&!P&&(x=$.width/$.height);var S=Ve($),R=qe(S),C=t.rotation,M=fn(S),T=an(S,C);if(1===n.length){var I=n[0];t.flipX&&(I=Tn[I]),t.flipY&&(I=In[I]);var A=(0,w.default)(M,4),E=A[0],tr=A[1],br=A[2],L=A[3],F=Ye(T[I]);de(F,r);var z,O=Ze(F),B=te(O.x-T[I].x,O.y-T[I].y),D=oe(re(B),-C),_=te(M[I].x+D.x,M[I].y+D.y);0===I&&(z=br),1===I&&(z=L),2===I&&(z=E),3===I&&(z=tr);var U=Ge([z,_]);if(x){var N=sn(U,x),W=N.width,j=N.height,V=dn(U),G=(0,w.default)(V,4),H=(G[0],G[1]),b=G[2];G[3],U.width=W,U.height=j,_.y<z.y&&(U.y=b-j),_.x<z.x&&(U.x=H-W)}var Z=an(U,C,R),X=$e(Z),Y=oe(Z[0],-C,X),K=oe(Z[2],-C,X),J=Ge([Y,K]);ln(t,Si(t)?Jt(J):J,Tt)}else{var Q=(n=n.map((function(e){return t.flipX&&(e=Tn[e]),t.flipY&&(e=In[e]),e}))).map((function(t){return T[t]})),tt=(0,w.default)(Q,2),et=tt[0],nt=tt[1],it={x:et.x+.5*(nt.x-et.x),y:et.y+.5*(nt.y-et.y)},ot=n.map((function(t){return M[t]})),ut=(0,w.default)(ot,2),ct=ut[0],lt=ut[1],st=n.map((function(t){var e=t+2;return e<4?M[e]:M[e-4]})),ft=(0,w.default)(st,2),pt=ft[0],ht=ft[1],vt={x:pt.x+.5*(ht.x-pt.x),y:pt.y+.5*(ht.y-pt.y)},mt=Ye(it);de(mt,r);var gt=Ze(mt),bt=te(gt.x-it.x,gt.y-it.y),yt=oe(re(bt),-C),$t=fe(re(ct),lt),xt=se($t,(function(t){return 1-Math.abs(Math.sign(t))})),wt=te(yt.x*xt.x,yt.y*xt.y);de(ct,wt),de(lt,wt);var Pt=Ge(M);if(x){var kt=Pt.width,St=Pt.height;0===xt.y?St=kt/x:kt=St*x,Pt.width=kt,Pt.height=St,0===xt.y?Pt.y=vt.y-.5*St:Pt.x=vt.x-.5*kt}var Rt,Ct=an(Pt,C,R),Mt=$e(Ct),It=oe(Ct[0],-C,Mt),At=oe(Ct[2],-C,Mt),Et=Ge([It,At]);Si(t)?Rt=Jt(Et):Li(t)?Rt=Et:P&&(Rt={x:Et.x,y:Et.y,width:Et.width}),ln(t,Rt,Tt)}}On()}(cr,sr,o,r,{shiftKey:c})}else n(118,fr=!1)},function(t){cr?(qn(cr),t.detail.isTap&&pe(cr),cr=void 0,n(118,fr=!1),qt(r)):n(118,fr=!1)},function(t){xn=mr(f).origin,n(118,fr=!0),cr=r,sr=f},function(t){if(cr){var e=t.detail,r=e.translation,o=e.shiftKey;!function(t,e,n,r){var o=nr(oo(hi(t),Tt)),c=qe(o),p=Cn(xn,n),l=ce(p,c)+Math.PI/2;if(r.shiftKey){var d=Math.PI/16;l=d*Math.round(l/d)-gt%d}ln(t,{rotation:l},Tt),On()}(cr,0,r,{shiftKey:o})}else n(118,fr=!1)},function(){cr?(qn(cr),cr=void 0,n(118,fr=!1),qt(r)):n(118,fr=!1)},function(t){var e=t.key,n=/escape/i.test(e);if(jn()){if(n)return t.preventDefault(),t.stopPropagation(),Yn(r);/backspace|delete/i.test(e)&&!xr(t.target)&&(t.preventDefault(),Gn()),H&&"d"===e&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),t.stopPropagation(),Wr())}},function(html){var t=Wi(r,html);return!0===t?html:t},kr,function(t){var e=t.target,n=t.key,o=e.value||e.innerText,c=e.selectionStart||0,l=e.selectionEnd||o.length,d=o.substring(0,c)+n+o.substring(l);if(Wi(r,d)!==d)return t.preventDefault()},function(t){return wi(r)&&/enter/i.test(t.code)&&!1!==r.disableNewline?t.preventDefault():/arrow/i.test(t.code)?t.stopPropagation():/escape/i.test(t.key)?Cr():void 0},function(t){var e=t.key,n=t.ctrlKey,r=t.altKey;if(/enter/i.test(e)&&(n||r))return Sr()},Sr,Cr,jr,function(t){var e=Wn();e&&(Mi(e)||Gi(e)&&(sr=oo(hi(cr=e),Tt),Mn(cr,sr,t.detail)))},function(t){n(17,Hr=!0)},function(t){var e=t.relatedTarget;e&&e.classList.contains("shape-selector__button")||n(17,Hr=!1)},function(t){if("touch"!==t.pointerType){(fr||ar)&&Yr(void 0);var e=vb(t,It),r=se(Ze(e),(function(t){return Math.round(t)}));if(!(le(r,Zr)||(Zr=re(r),n(120,Xr=e),fr||ar||(ke(e,r),h)))){var o=rr(r,0,_i),c=(0,w.default)(o,1)[0];c&&Ei(c)||Yr(c)}}},lt,ct,gt,yt,wt,kt,Rt,Mt,Tt,At,Et,Bt,_t,Nt,jt,Gt,Zt,qt,ee,ie,pe,ye,ke,Ce,Ie,Ee,Fe,_e,Ne,je,Ze,Ye,Je,tn,nn,on,function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Si(t),l=xi(t),d="relative"===o.position,f="step"===o.inputMode;if(Ci(t)){if(f){var h=!1,v=function(t,e){var n=An(),r=t&&te(Rb(t.x,Tt.width),Rb(t.y,Tt.height)),o=r&&Ye(r);at.includes(16)&&o&&pn(o,e);var c=Ze(e),l=n.points.length?n.points[0]:c,f=te(Rb(l.x,Tt.width),Rb(l.y,Tt.height)),v=Ye(f),m=ge(v,e);if(!h&&1===n.points.length&&m<36)return zn();if(n.points.length>2&&m<=Bb){n.pathClose=!0,qn(n);var y=Fn();Zt(y)}else{var $=n.strokeWidth&&n.strokeColor&&(void 0===n.strokeColor[3]||n.strokeColor[3]>0),x=ge(o,e);if($&&n.points.length>1&&x<Bb){n.pathClose=!1,n.backgroundColor=[0,0,0,0],qn(n);var w=Fn();Zt(w)}else if(!(n.points.length>0&&x<100))return d?Cb(c,Tt):c}};return{start:function(t){var o=t.detail.origin;n=4,e=re(o),r=re(o);var c=An();if(c){var l=c.points[c.points.length-1],d=v(l,e);return d&&(c.points=[].concat((0,P.default)(c.points),[d])),On()}h=!0},update:function(t){if(h){var n=An();if(n){var r=n.points[0],o=v(r,te(e.x+t.detail.translation.x,e.y+t.detail.translation.y));o&&(n.points[1]=o,On())}}},release:function(t){return t.detail.preventInertia()},cancel:function(t){return zn()},end:function(n){if(h){var r=Ze(e),o=d?Cb(r,Tt):r;if(n.detail.isTap)if(rr(r,0,_i).length)return zn();Ln(z(z({},t),{},{points:[o]}))}}}}return{start:function(o){var c=o.detail.origin;n=4,e=re(c),r=re(c);var l=Ze(c),f=d?Cb(l,Tt):l;Ln(z(z({},t),{},{points:[f]}))},update:function(t){var o=An(),c=t.detail.translation,l=te(e.x+c.x,e.y+c.y),f=be(r,l);if(!(Yt(f,5)<=n)){var h=ce(l,r),v=n-f;r.x+=v*Math.cos(h),r.y+=v*Math.sin(h);var m=Ze(r),y=d?Cb(m,Tt):m;o.points=o.points.concat(y),On()}},release:function(t){return t.detail.preventInertia()},cancel:function(){zn()},end:function(t){if(t.detail.isTap)return zn();var e=Fn();Zt(e)}}}return c||l||ki(t)?{start:function(n){var r=n.detail.origin;e=re(r);var o=Ze(e),l=d?Cb(o,Tt):o,f=-1*Rn(gt,yt,wt),h=z(z({},t),{},{rotation:f},l);h.flipX=yt,h.flipY=wt,delete h.position,h.opacity=0,(c?["rx","ry"]:["width","height"]).forEach((function(t){h[t]=d?"0%":0})),Ln(h)},update:function(t){var n=An();n.opacity=1;var r=n.aspectRatio,o=t.detail.translation;if(r){var l=Math.abs(o.x)*r;o.x=o.x,o.y=l*Math.sign(o.y)}var d=te(e.x+o.x,e.y+o.y),f=Ze(e),h=Ze(d),v={x:f.x+.5*(h.x-f.x),y:f.y+.5*(h.y-f.y)},m=Rn(gt,yt,wt);oe(f,m,v),oe(h,m,v);var y=Math.min(f.x,h.x),$=Math.min(f.y,h.y),x=Math.max(f.x,h.x)-y,w=Math.max(f.y,h.y)-$,P={};c?(P.x=y+.5*x,P.y=$+.5*w,P.rx=.5*x,P.ry=.5*w):(P.x=y,P.y=$,P.width=x,P.height=w),ln(n,P,Tt),On()},release:function(t){t.detail.preventInertia()},cancel:function(t){zn()},end:function(t){var n=An();if(t.detail.isTap){if(!xi(n)||!on||ur)return zn();delete n.width,delete n.height,!1!==n.disableNewline&&delete n.textAlign;var r=oo(z({},n),Tt),o=qr(n.text,r),c=Ze({x:e.x,y:e.y-.5*o.height}),l=Ze({x:e.x+o.width,y:e.y+.5*o.height}),d={x:c.x+.5*(l.x-c.x),y:c.y+.5*(l.y-c.y)},f=Rn(gt,yt,wt);oe(c,f,d),oe(l,f,d);var h=Math.min(c.x,l.x),v=Math.min(c.y,l.y);n.x=ht(n.x)?Fr(h,Tt.width):h,n.y=ht(n.y)?Fr(v,Tt.height):v}if(n.opacity=1,!xi(n)){var m=Fn();Zt(m)}qn(n),xi(n)&&Kn(n)}}:Ri(t)?{start:function(n){var r=n.detail.origin,o=Ze(r),c=se(o,Bd);e=re(r),Ln(z(z({},t),{},{x1:d?Fr(c.x,Tt.width):c.x,y1:d?Fr(c.y,Tt.height):c.y,x2:d?Fr(c.x,Tt.width):c.x,y2:d?Fr(c.y,Tt.height):c.y,opacity:0}))},update:function(t){var n=An(),r=t.detail.translation,o=de(re(e),r);if(at.includes(16)){var c=be(e,o),l=ce(e,o),f=Math.PI/4,h=f*Math.round(l/f);o.x=e.x+c*Math.cos(h),o.y=e.y+c*Math.sin(h)}var v=Ze(o);_n(n,{x2:d?Fr(v.x,Tt.width):v.x,y2:d?Fr(v.y,Tt.height):v.y,opacity:1}),On()},release:function(t){return t.detail.preventInertia()},cancel:function(t){zn()},end:function(t){var e=An();if(t.detail.isTap)return zn();e.opacity=1;var n=Fn();Zt(n),qn(n)}}:void 0},function(){var t,e,n=Je*Je,r=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=ge(t,e);if(!r&&o<2)return!1;var c,l=pt.filter((function(t){return!t.disableErase}));return c=o<n?rr(Ze(e),Je):ir(l,Ze(t),Ze(e),Je),Qn(c).forEach(ie),!0};return{start:function(n){t=te(Math.round(n.detail.origin.x),Math.round(n.detail.origin.y)),r(t,t,!0),e=t},update:function(n){var o=n.detail.translation,c=te(Math.round(t.x+o.x),Math.round(t.y+o.y));r(e,c)&&(e=re(c))},release:function(t){return t.detail.preventInertia()},end:function(){}}},An,En,Ln,Fn,zn,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return z({id:$t()},t)},On,Bn,Dn,_n,Un,function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];pt.forEach((function(n){return Un(n,t,e,!1)})),n&&On()},Nn,Wn,jn,Vn,Gn,Zn,Yn,Kn,Jn,Qn,er,nr,rr,ir,fr,wn,Xr,h,Y,r,G,Z,H,j,X,V,K,Q,J,F,l,O,B,E,A,S,M,v,c,m,ot,function(e){Na.call(this,t,e)},function(t){return qn(pt[t])},function(t){ja[t?"unshift":"push"]((function(){n(7,kn=t)}))},function(){_=this.value,n(22,_),n(11,L),n(123,r),n(137,E),n(1,ft),n(0,pt)},function(t){ja[t?"unshift":"push"]((function(){n(7,kn=t)}))},function(){element&&element.focus()},function(t){return n(8,Sn=t.detail)},function(t){ja[t?"unshift":"push"]((function(){n(18,element=t)}))},function(t){return vb(t,It)}]}var Nb=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Ub,Ob,Go,{uid:55,ui:54,disabled:1,markup:0,offset:2,contextRotation:56,contextFlipX:57,contextFlipY:58,contextZoom:59,active:60,opacity:61,parentRect:62,rootRect:3,utilRect:63,hoverColor:64,textInputMode:4,oninteractionstart:65,oninteractionupdate:66,oninteractionrelease:67,oninteractionend:68,oninteractioncancel:69,onaddshape:70,onupdateshape:71,onselectshape:72,onremoveshape:73,ontapshape:74,onhovershape:75,onhovercanvas:76,ontapcanvas:77,beforeSelectShape:78,beforeDeselectShape:79,beforeRemoveShape:80,beforeUpdateShape:81,willRenderShapeControls:82,willStartInteraction:83,mapEditorPointToImagePoint:84,mapImagePointToEditorPoint:85,eraseRadius:86,selectRadius:87,enableButtonFlipVertical:88,enableTapToAddText:89,locale:5,createShape:90,eraseShape:91,getMarkupItemDraft:92,getMarkupItemDraftIndex:93,addMarkupItemDraft:94,confirmMarkupItemDraft:95,discardMarkupItemDraft:96,createMarkupItem:97,syncShapes:98,addShape:99,removeMarkupShapeProps:100,updateMarkupShape:101,updateMarkupShapeProperty:102,updateMarkupItemsShapeProperty:103,updateMarkupShapeItems:104,getActiveMarkupItem:105,hasActiveMarkupItem:106,removeShape:107,removeActiveMarkupItem:108,blurShapes:109,selectShape:6,deselectMarkupItem:110,editMarkupItem:111,finishEditMarkupItem:112,removeMarkupItems:113,getTextShapeRect:114,getMarkupShapeRect:115,getShapesNearPosition:116,getShapesBetweenPoints:117},null,[-1,-1,-1,-1,-1,-1,-1,-1]),r}return(0,d.default)(n,[{key:"createShape",get:function(){return this.$$.ctx[90]}},{key:"eraseShape",get:function(){return this.$$.ctx[91]}},{key:"getMarkupItemDraft",get:function(){return this.$$.ctx[92]}},{key:"getMarkupItemDraftIndex",get:function(){return this.$$.ctx[93]}},{key:"addMarkupItemDraft",get:function(){return this.$$.ctx[94]}},{key:"confirmMarkupItemDraft",get:function(){return this.$$.ctx[95]}},{key:"discardMarkupItemDraft",get:function(){return this.$$.ctx[96]}},{key:"createMarkupItem",get:function(){return this.$$.ctx[97]}},{key:"syncShapes",get:function(){return this.$$.ctx[98]}},{key:"addShape",get:function(){return this.$$.ctx[99]}},{key:"removeMarkupShapeProps",get:function(){return this.$$.ctx[100]}},{key:"updateMarkupShape",get:function(){return this.$$.ctx[101]}},{key:"updateMarkupShapeProperty",get:function(){return this.$$.ctx[102]}},{key:"updateMarkupItemsShapeProperty",get:function(){return this.$$.ctx[103]}},{key:"updateMarkupShapeItems",get:function(){return this.$$.ctx[104]}},{key:"getActiveMarkupItem",get:function(){return this.$$.ctx[105]}},{key:"hasActiveMarkupItem",get:function(){return this.$$.ctx[106]}},{key:"removeShape",get:function(){return this.$$.ctx[107]}},{key:"removeActiveMarkupItem",get:function(){return this.$$.ctx[108]}},{key:"blurShapes",get:function(){return this.$$.ctx[109]}},{key:"selectShape",get:function(){return this.$$.ctx[6]}},{key:"deselectMarkupItem",get:function(){return this.$$.ctx[110]}},{key:"editMarkupItem",get:function(){return this.$$.ctx[111]}},{key:"finishEditMarkupItem",get:function(){return this.$$.ctx[112]}},{key:"removeMarkupItems",get:function(){return this.$$.ctx[113]}},{key:"getTextShapeRect",get:function(){return this.$$.ctx[114]}},{key:"getMarkupShapeRect",get:function(){return this.$$.ctx[115]}},{key:"getShapesNearPosition",get:function(){return this.$$.ctx[116]}},{key:"getShapesBetweenPoints",get:function(){return this.$$.ctx[117]}}]),n}(Pu);function Wb(t,e,i){var n=t.slice();return n[9]=e[i],n}function jb(t,e){var li,span,n,r,o,c,l,d=rf(e[9].componentProps.title,e[1])+"",f=[e[9].componentProps],h=e[9].component;function v(t){for(var e={},i=0;i<f.length;i+=1)e=Uo(e,f[i]);return{props:e}}return h&&(o=Ca(h,v())),{key:t,first:null,c:function(){li=element("li"),span=element("span"),n=text(d),r=ma(),o&&yu(o.$$.fragment),c=ma(),xa(span,"class","PinturaShapeStyleLabel"),xa(li,"class","PinturaShapeStyle"),this.first=li},m:function(t,e){pa(t,li,e),sa(li,span),sa(span,n),sa(li,r),o&&$u(o,li,null),sa(li,c),l=!0},p:function(t,r){e=t,(!l||3&r)&&d!==(d=rf(e[9].componentProps.title,e[1])+"")&&Pa(n,d);var m=1&r?mu(f,[gu(e[9].componentProps)]):{};if(h!==(h=e[9].component)){if(o){au();var y=o;lu(y.$$.fragment,1,0,(function(){xu(y,1)})),uu()}h?(yu((o=Ca(h,v())).$$.fragment),cu(o.$$.fragment,1),$u(o,li,c)):o=null}else h&&o.$set(m)},i:function(t){l||(o&&cu(o.$$.fragment,t),l=!0)},o:function(t){o&&lu(o.$$.fragment,t),l=!1},d:function(t){t&&ha(li),o&&xu(o)}}}function Vb(t){for(var ul,e,n=[],r=new Map,o=t[0],c=function(t){return t[9].id},i=0;i<o.length;i+=1){var l=Wb(t,o,i),d=c(l);r.set(d,n[i]=jb(d,l))}return{c:function(){ul=element("ul");for(var t=0;t<n.length;t+=1)n[t].c();xa(ul,"class","PinturaShapeStyleList")},m:function(t,r){pa(t,ul,r);for(var o=0;o<n.length;o+=1)n[o].m(ul,null);e=!0},p:function(t,e){3&e&&(o=t[0],au(),n=vu(n,e,c,1,t,o,r,ul,hu,jb,null,Wb),uu())},i:function(t){if(!e){for(var r=0;r<o.length;r+=1)cu(n[r]);e=!0}},o:function(t){for(var r=0;r<n.length;r+=1)lu(n[r]);e=!1},d:function(t){t&&ha(ul);for(var e=0;e<n.length;e+=1)n[e].d()}}}function Gb(t){var div,e,n;return e=new bd({props:{class:"PinturaShapeStyles",elasticity:t[2],$$slots:{default:[Vb]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"style",t[3])},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,r){var o=(0,w.default)(r,1)[0],c={};4&o&&(c.elasticity=t[2]),4099&o&&(c.$$scope={dirty:o,ctx:t}),e.$set(c),(!n||8&o)&&xa(div,"style",t[3])},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function Hb(t,e,n){var style,r,o,c=e.isActive,l=void 0!==c&&c,d=e.controls,f=void 0===d?[]:d,h=e.locale,v=e.scrollElasticity,m=Ua("isAnimated");Xo(t,m,(function(t){return n(8,o=t)}));var y=Zl(0,{stiffness:.25,damping:.9});return Xo(t,y,(function(t){return n(7,r=t)})),t.$$set=function(t){"isActive"in t&&n(6,l=t.isActive),"controls"in t&&n(0,f=t.controls),"locale"in t&&n(1,h=t.locale),"scrollElasticity"in t&&n(2,v=t.scrollElasticity)},t.$$.update=function(){320&t.$$.dirty&&y.set(l?1:0,{hard:!1===o}),192&t.$$.dirty&&n(3,style="opacity:".concat(r,";").concat(l?"":"pointer-events:none;").concat(r<=0?"visibility:hidden":""))},[f,h,v,style,m,y,l,r,o]}var Zb=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Hb,Gb,Go,{isActive:6,controls:0,locale:1,scrollElasticity:2}),r}return(0,d.default)(n)}(Pu);function Xb(t,e,i){var n=t.slice();return n[12]=e[i].key,n[3]=e[i].controls,n[13]=e[i].isActive,n}function qb(t,e){var n,r,o;return r=new Zb({props:{isActive:e[13],controls:e[3],locale:e[1],scrollElasticity:e[2]}}),{key:t,first:null,c:function(){n=ga(),yu(r.$$.fragment),this.first=n},m:function(t,e){pa(t,n,e),$u(r,t,e),o=!0},p:function(t,n){e=t;var o={};16&n&&(o.isActive=e[13]),16&n&&(o.controls=e[3]),2&n&&(o.locale=e[1]),4&n&&(o.scrollElasticity=e[2]),r.$set(o)},i:function(t){o||(cu(r.$$.fragment,t),o=!0)},o:function(t){lu(r.$$.fragment,t),o=!1},d:function(t){t&&ha(n),xu(r,t)}}}function Yb(t){for(var div,e,n,r=[],o=new Map,c=t[4],l=function(t){return t[12]},i=0;i<c.length;i+=1){var d=Xb(t,c,i),f=l(d);o.set(f,r[i]=qb(f,d))}return{c:function(){div=element("div");for(var n=0;n<r.length;n+=1)r[n].c();xa(div,"class",e=vs(["PinturaShapeStyleEditor",t[0]]))},m:function(t,e){pa(t,div,e);for(var o=0;o<r.length;o+=1)r[o].m(div,null);n=!0},p:function(t,d){var f=(0,w.default)(d,1)[0];22&f&&(c=t[4],au(),r=vu(r,f,l,1,t,c,o,div,hu,qb,null,Xb),uu()),(!n||1&f&&e!==(e=vs(["PinturaShapeStyleEditor",t[0]])))&&xa(div,"class",e)},i:function(t){if(!n){for(var e=0;e<c.length;e+=1)cu(r[e]);n=!0}},o:function(t){for(var e=0;e<r.length;e+=1)lu(r[e]);n=!1},d:function(t){t&&ha(div);for(var e=0;e<r.length;e+=1)r[e].d()}}}function Kb(t,e,n){var r,o,c,l=e.class,d=void 0===l?void 0:l,f=e.controls,h=void 0===f?{}:f,v=e.shape,m=void 0===v?void 0:v,y=e.onchange,x=e.locale,P=e.scrollElasticity,k=[];return t.$$set=function(t){"class"in t&&n(0,d=t.class),"controls"in t&&n(3,h=t.controls),"shape"in t&&n(5,m=t.shape),"onchange"in t&&n(6,y=t.onchange),"locale"in t&&n(1,x=t.locale),"scrollElasticity"in t&&n(2,P=t.scrollElasticity)},t.$$.update=function(){8&t.$$.dirty&&n(8,r=Object.keys(h).filter((function(t){return h[t]}))),288&t.$$.dirty&&n(7,o=m&&Object.keys(m).length&&r&&Di(m)?function(t){var e=r.filter((function(e){return e.split("_").every((function(e){return Rr(t,e)&&Di(t,e)}))})).map((function(e){var n=e.split("_"),r=n.length>1?n.map((function(e){return t[e]})):t[e],o=(0,w.default)(h[e],2),component=o[0],c=o[1];if(ht(component))if(h[component]){var l=z({},c),d=(0,w.default)(h[component],2);component=d[0],c=z(z({},c=d[1]),l)}else{if("Dropdown"!==component)return;component=Hf}var f=vt(c.options)?c.options(t):c.options;return{id:e,component:component,componentProps:z(z({},c),{},{options:f,locale:x,value:r,optionLabelClass:"PinturaButtonLabel",onchange:function(r){var o=st(r)&&!Cr(r)?r.value:r;c.onchange&&c.onchange(o,t);var l=n.length>1?n.reduce((function(t,e,n){return z(z({},t),{},(0,$.default)({},e,Array.isArray(o)?o[n]:o))}),{}):(0,$.default)({},e,o);y(l)}})}})).filter(Boolean);return e}(m):[]),160&t.$$.dirty&&n(4,c=function(t,e){var n=k.find((function(e){return e.key===t}));return n||(n={key:t,controls:e},k.push(n)),k.forEach((function(t){return t.isActive=!1})),n.controls=e,n.isActive=!0,k}(m&&Object.keys(m).length?Object.keys(m).join("_"):"none",o||[]))},[d,x,P,h,c,m,y,o,r]}var Jb=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Kb,Yb,Go,{class:0,controls:3,shape:5,onchange:6,locale:1,scrollElasticity:2}),r}return(0,d.default)(n)}(Pu),Qb=fu.document;function ty(t){var e,button,n,r;return{c:function(){e=ma(),xa(button=element("button"),"class","PinturaDragButton"),xa(button,"type","button"),xa(button,"title",t[1]),button.disabled=t[2]},m:function(o,c){pa(o,e,c),pa(o,button,c),button.innerHTML=t[0],t[11](button),n||(r=[ba(Qb.body,"load",t[5],!0),ba(Qb.body,"error",t[6],!0),ba(button,"pointerdown",t[4])],n=!0)},p:function(t,e){var n=(0,w.default)(e,1)[0];1&n&&(button.innerHTML=t[0]),2&n&&xa(button,"title",t[1]),4&n&&(button.disabled=t[2])},i:Do,o:Do,d:function(o){o&&ha(e),o&&ha(button),t[11](null),n=!1,jo(r)}}}function ey(t,e,n){var element,r,html=e.html,title=e.title,o=e.onclick,c=e.disabled,l=void 0!==c&&c,d=e.ongrab,f=void 0===d?N:d,h=e.ondrag,v=void 0===h?N:h,m=e.ondrop,y=void 0===m?N:m,$=function(t){return ge(r,te(t.pageX,t.pageY))<256},x=function t(e){document.documentElement.removeEventListener("pointermove",w),document.documentElement.removeEventListener("pointerup",t);var n=te(e.pageX,e.pageY);if(ge(r,n)<32)return o(e);$(e)||y(e)},w=function(t){$(t)||v(t)},P=function(t){return element&&element.contains(t)&&"IMG"===t.nodeName};return t.$$set=function(t){"html"in t&&n(0,html=t.html),"title"in t&&n(1,title=t.title),"onclick"in t&&n(7,o=t.onclick),"disabled"in t&&n(2,l=t.disabled),"ongrab"in t&&n(8,f=t.ongrab),"ondrag"in t&&n(9,v=t.ondrag),"ondrop"in t&&n(10,y=t.ondrop)},t.$$.update=function(){8&t.$$.dirty&&element&&element.querySelector("img")&&n(3,element.dataset.loader=!0,element)},[html,title,l,element,function(t){r=te(t.pageX,t.pageY),f(t),document.documentElement.addEventListener("pointermove",w),document.documentElement.addEventListener("pointerup",x)},function(t){var e=t.target;P(e)&&n(3,element.dataset.load=!0,element)},function(t){var e=t.target;P(e)&&n(3,element.dataset.error=!0,element)},o,f,v,y,function(t){ja[t?"unshift":"push"]((function(){n(3,element=t)}))}]}var ny=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ey,ty,Go,{html:0,title:1,onclick:7,disabled:2,ongrab:8,ondrag:9,ondrop:10}),r}return(0,d.default)(n)}(Pu);function ry(t,e,i){var n=t.slice();return n[14]=e[i],n}function iy(t,e){var li,n,r,o,c,l,d;function f(){return e[10](e[14])}function h(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e)[11].apply(t,[e[14]].concat(r))}function v(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e)[12].apply(t,[e[14]].concat(r))}function m(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e)[13].apply(t,[e[14]].concat(r))}return n=new ny({props:{onclick:f,ongrab:h,ondrag:v,ondrop:m,disabled:e[1]||e[14].disabled,title:e[14].title,html:e[14].thumb}}),{key:t,first:null,c:function(){li=element("li"),yu(n.$$.fragment),r=ma(),xa(li,"class","PinturaShapePreset"),xa(li,"style",e[6]),this.first=li},m:function(t,f){pa(t,li,f),$u(n,li,null),sa(li,r),c=!0,l||(d=ra(o=e[8].call(null,li,e[14])),l=!0)},p:function(t,r){e=t;var l={};5&r&&(l.onclick=f),9&r&&(l.ongrab=h),17&r&&(l.ondrag=v),33&r&&(l.ondrop=m),3&r&&(l.disabled=e[1]||e[14].disabled),1&r&&(l.title=e[14].title),1&r&&(l.html=e[14].thumb),n.$set(l),(!c||64&r)&&xa(li,"style",e[6]),o&&Vo(o.update)&&1&r&&o.update.call(null,e[14])},i:function(t){c||(cu(n.$$.fragment,t),c=!0)},o:function(t){lu(n.$$.fragment,t),c=!1},d:function(t){t&&ha(li),xu(n),l=!1,d()}}}function oy(t){for(var ul,e,n=[],r=new Map,o=t[0],c=function(t){return t[14].id},i=0;i<o.length;i+=1){var l=ry(t,o,i),d=c(l);r.set(d,n[i]=iy(d,l))}return{c:function(){ul=element("ul");for(var t=0;t<n.length;t+=1)n[t].c();xa(ul,"class","PinturaShapePresetsList")},m:function(t,r){pa(t,ul,r);for(var o=0;o<n.length;o+=1)n[o].m(ul,null);e=!0},p:function(t,e){var l=(0,w.default)(e,1)[0];127&l&&(o=t[0],au(),n=vu(n,l,c,1,t,o,r,ul,hu,iy,null,ry),uu())},i:function(t){if(!e){for(var r=0;r<o.length;r+=1)cu(n[r]);e=!0}},o:function(t){for(var r=0;r<n.length;r+=1)lu(n[r]);e=!1},d:function(t){t&&ha(ul);for(var e=0;e<n.length;e+=1)n[e].d()}}}function ay(t,e,n){var style,r,o=e.presets,c=e.disabled,l=void 0===c?void 0:c,d=e.onclickpreset,f=e.ongrabpreset,h=void 0===f?void 0:f,v=e.ondragpreset,m=void 0===v?void 0:v,y=e.ondroppreset,$=void 0===y?void 0:y,x=Zl(0,{stiffness:.25,damping:.9});Xo(t,x,(function(t){return n(9,r=t)}));za((function(){return x.set(1)}));return t.$$set=function(t){"presets"in t&&n(0,o=t.presets),"disabled"in t&&n(1,l=t.disabled),"onclickpreset"in t&&n(2,d=t.onclickpreset),"ongrabpreset"in t&&n(3,h=t.ongrabpreset),"ondragpreset"in t&&n(4,m=t.ondragpreset),"ondroppreset"in t&&n(5,$=t.ondroppreset)},t.$$.update=function(){512&t.$$.dirty&&n(6,style="opacity:".concat(r))},[o,l,d,h,m,$,style,x,function(element,t){return t.mount&&t.mount(element.firstChild,t)},r,function(t){return d(t.id)},function(t,e){return h&&h(t.id,e)},function(t,e){return m&&m(t.id,e)},function(t,e){return $&&$(t.id,e)}]}var uy=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ay,oy,Go,{presets:0,disabled:1,onclickpreset:2,ongrabpreset:3,ondragpreset:4,ondroppreset:5}),r}return(0,d.default)(n)}(Pu),cy=function(t){return/<svg /.test(t)};function ly(t){var e,n;return e=new vp({props:{items:t[10]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};1024&n&&(r.items=t[10]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function sy(t){var e,n,r,o,c=[fy,dy],l=[];function d(t,e){return t[8]?0:1}return e=d(t),n=l[e]=c[e](t),{c:function(){n.c(),r=ga()},m:function(t,n){l[e].m(t,n),pa(t,r,n),o=!0},p:function(t,o){var f=e;(e=d(t))===f?l[e].p(t,o):(au(),lu(l[f],1,1,(function(){l[f]=null})),uu(),(n=l[e])?n.p(t,o):(n=l[e]=c[e](t)).c(),cu(n,1),n.m(r.parentNode,r))},i:function(t){o||(cu(n),o=!0)},o:function(t){lu(n),o=!1},d:function(t){l[e].d(t),t&&ha(r)}}}function dy(t){var div,e,n,r,o=t[10]&&py(t);return n=new bd({props:{scrollAutoCancel:t[9],elasticity:t[0],$$slots:{default:[hy]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),o&&o.c(),e=ma(),yu(n.$$.fragment),xa(div,"class","PinturaShapePresetsFlat")},m:function(t,c){pa(t,div,c),o&&o.m(div,null),sa(div,e),$u(n,div,null),r=!0},p:function(t,r){t[10]?o?(o.p(t,r),1024&r&&cu(o,1)):((o=py(t)).c(),cu(o,1),o.m(div,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu());var c={};512&r&&(c.scrollAutoCancel=t[9]),1&r&&(c.elasticity=t[0]),536871070&r&&(c.$$scope={dirty:r,ctx:t}),n.$set(c)},i:function(t){r||(cu(o),cu(n.$$.fragment,t),r=!0)},o:function(t){lu(o),lu(n.$$.fragment,t),r=!1},d:function(t){t&&ha(div),o&&o.d(),xu(n)}}}function fy(t){var div,e,n,r,o;e=new bd({props:{elasticity:t[0],class:"PinturaShapePresetsGroups",$$slots:{default:[$y]},$$scope:{ctx:t}}});for(var c=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:t[11]},t[12]],l={$$slots:{default:[wy,function(t){return{26:t.panel,27:t.panelIsActive}},function(t){return(t.panel?67108864:0)|(t.panelIsActive?134217728:0)}]},$$scope:{ctx:t}},i=0;i<c.length;i+=1)l=Uo(l,c[i]);return r=new zs({props:l}),{c:function(){div=element("div"),yu(e.$$.fragment),n=ma(),yu(r.$$.fragment),xa(div,"class","PinturaShapePresetsGrouped")},m:function(t,c){pa(t,div,c),$u(e,div,null),sa(div,n),$u(r,div,null),o=!0},p:function(t,n){var o={};1&n&&(o.elasticity=t[0]),536876128&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);var l=6144&n?mu(c,[c[0],c[1],2048&n&&{panels:t[11]},4096&n&&gu(t[12])]):{};738206239&n&&(l.$$scope={dirty:n,ctx:t}),r.$set(l)},i:function(t){o||(cu(e.$$.fragment,t),cu(r.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),lu(r.$$.fragment,t),o=!1},d:function(t){t&&ha(div),xu(e),xu(r)}}}function py(t){var e,n;return e=new vp({props:{items:t[10]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};1024&n&&(r.items=t[10]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function hy(t){var e,n;return e=new uy({props:{presets:t[7],onclickpreset:t[1],ongrabpreset:t[2],ondragpreset:t[3],ondroppreset:t[4]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};128&n&&(r.presets=t[7]),2&n&&(r.onclickpreset=t[1]),4&n&&(r.ongrabpreset=t[2]),8&n&&(r.ondragpreset=t[3]),16&n&&(r.ondroppreset=t[4]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function vy(t){var e,n;return e=new vp({props:{items:t[10]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};1024&n&&(r.items=t[10]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function my(t){var e,n;return e=new _s({props:{$$slots:{default:[gy]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};805306368&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function gy(t){var g,e=t[28].icon+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){268435456&n&&e!==(e=t[28].icon+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function by(t){var span,e,n=t[28].label+"";return{c:function(){span=element("span"),e=text(n)},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){268435456&r&&n!==(n=t[28].label+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function yy(t){var e,n,r,o=t[28].icon&&my(t),c=!t[28].hideLabel&&by(t);return{c:function(){o&&o.c(),e=ma(),c&&c.c(),n=ga()},m:function(t,l){o&&o.m(t,l),pa(t,e,l),c&&c.m(t,l),pa(t,n,l),r=!0},p:function(t,r){t[28].icon?o?(o.p(t,r),268435456&r&&cu(o,1)):((o=my(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu()),t[28].hideLabel?c&&(c.d(1),c=null):c?c.p(t,r):((c=by(t)).c(),c.m(n.parentNode,n))},i:function(t){r||(cu(o),r=!0)},o:function(t){lu(o),r=!1},d:function(t){o&&o.d(t),t&&ha(e),c&&c.d(t),t&&ha(n)}}}function $y(t){for(var e,n,r,o=t[10]&&vy(t),c=[{class:"PinturaControlList"},{tabs:t[5]},t[12],{layout:"compact"}],l={$$slots:{default:[yy,function(t){return{28:t.tab}},function(t){return t.tab?268435456:0}]},$$scope:{ctx:t}},i=0;i<c.length;i+=1)l=Uo(l,c[i]);return(n=new Ps({props:l})).$on("select",t[18]),{c:function(){o&&o.c(),e=ma(),yu(n.$$.fragment)},m:function(t,c){o&&o.m(t,c),pa(t,e,c),$u(n,t,c),r=!0},p:function(t,r){t[10]?o?(o.p(t,r),1024&r&&cu(o,1)):((o=vy(t)).c(),cu(o,1),o.m(e.parentNode,e)):o&&(au(),lu(o,1,1,(function(){o=null})),uu());var l=4128&r?mu(c,[c[0],32&r&&{tabs:t[5]},4096&r&&gu(t[12]),c[3]]):{};805306368&r&&(l.$$scope={dirty:r,ctx:t}),n.$set(l)},i:function(t){r||(cu(o),cu(n.$$.fragment,t),r=!0)},o:function(t){lu(o),lu(n.$$.fragment,t),r=!1},d:function(t){o&&o.d(t),t&&ha(e),xu(n,t)}}}function xy(t){var e,n;return e=new uy({props:{presets:t[13][t[26]].items,disabled:t[13][t[26]].disabled,onclickpreset:t[1],ongrabpreset:t[2],ondragpreset:t[3],ondroppreset:t[4]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};67117056&n&&(r.presets=t[13][t[26]].items),67117056&n&&(r.disabled=t[13][t[26]].disabled),2&n&&(r.onclickpreset=t[1]),4&n&&(r.ongrabpreset=t[2]),8&n&&(r.ondragpreset=t[3]),16&n&&(r.ondroppreset=t[4]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function wy(t){var e,n;return e=new bd({props:{scroll:t[27]?{scrollOffset:0,animate:!1}:void 0,scrollAutoCancel:t[9],elasticity:t[0],$$slots:{default:[xy]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};134217728&n&&(r.scroll=t[27]?{scrollOffset:0,animate:!1}:void 0),512&n&&(r.scrollAutoCancel=t[9]),1&n&&(r.elasticity=t[0]),603987998&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Py(t){var div,e,n,r,o=[sy,ly],c=[];function l(t,e){return t[9]?0:t[10]?1:-1}return~(e=l(t))&&(n=c[e]=o[e](t)),{c:function(){div=element("div"),n&&n.c(),xa(div,"class","PinturaShapePresetsPalette")},m:function(t,n){pa(t,div,n),~e&&c[e].m(div,null),r=!0},p:function(t,r){var d=(0,w.default)(r,1)[0],f=e;(e=l(t))===f?~e&&c[e].p(t,d):(n&&(au(),lu(c[f],1,1,(function(){c[f]=null})),uu()),~e?((n=c[e])?n.p(t,d):(n=c[e]=o[e](t)).c(),cu(n,1),n.m(div,null)):n=null)},i:function(t){r||(cu(n),r=!0)},o:function(t){lu(n),r=!1},d:function(t){t&&ha(div),~e&&c[e].d()}}}function ky(t,e,n){var r,o,c,l,d,f,h,v,m,y=e.locale,$=e.presets,x=e.scrollElasticity,w=e.enableSelectImage,P=void 0===w||w,k=e.willRenderPresetToolbar,S=void 0===k?zt:k,R=e.onaddpreset,C=void 0===R?N:R,M=e.ongrabpreset,T=void 0===M?void 0:M,I=e.ondragpreset,A=void 0===I?void 0:I,E=e.ondroppreset,L=void 0===E?void 0:E,F="presets-".concat($t()),O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return cy(t)?t:Sr(t)?Er(t,e):'<img src="'.concat(t,'" alt="').concat(e,'"/>')},B=function(t){return Tt(Mn(t))},D=["src","alt","thumb","shape","id","mount","disabled"],_=function t(e){return e.map((function(e){return function(t){return Cr(t)&&ht(t[0])&&Cr(t[1])}(e)?z(z({},e[2]),{},{id:"".concat(F,"-").concat(e[0].toLowerCase()),label:e[0],items:t(e[1])}):function(t){var e,n,r,o,c,l,d,f=t;return ht(t)?Sr(t)?o=O(e=t,c=t):(c=B(e=t),o=O(e,c)):(e=t.src,c=t.alt||(ht(e)?B(e):ht(t.thumb)?B(t.thumb):void 0),o=O(t.thumb||e,c),n=t.shape,l=t.mount,d=t.disabled,r=Object.keys(t).reduce((function(e,n){return D.includes(n)||(e[n]=t[n]),e}),{})),{id:f,src:e,thumb:o,shape:n,shapeProps:r,alt:c,title:c,mount:l,disabled:d}}(e)}))};return t.$$set=function(t){"locale"in t&&n(14,y=t.locale),"presets"in t&&n(15,$=t.presets),"scrollElasticity"in t&&n(0,x=t.scrollElasticity),"enableSelectImage"in t&&n(16,P=t.enableSelectImage),"willRenderPresetToolbar"in t&&n(17,S=t.willRenderPresetToolbar),"onaddpreset"in t&&n(1,C=t.onaddpreset),"ongrabpreset"in t&&n(2,T=t.ongrabpreset),"ondragpreset"in t&&n(3,A=t.ondragpreset),"ondroppreset"in t&&n(4,L=t.ondroppreset)},t.$$.update=function(){32768&t.$$.dirty&&n(7,r=_($)),128&t.$$.dirty&&n(9,o=r.length),640&t.$$.dirty&&n(8,c=o&&r.some((function(t){return!!t.items}))),384&t.$$.dirty&&n(5,l=c&&r),384&t.$$.dirty&&n(13,d=c&&r.reduce((function(t,e){return t[e.id]=e,t}),{})),96&t.$$.dirty&&n(6,f=f||l&&(l.find((function(t){return!t.disabled}))||{}).id),64&t.$$.dirty&&n(12,h={name:F,selected:f}),32&t.$$.dirty&&n(11,v=l&&l.map((function(t){return t.id}))),212994&t.$$.dirty&&n(10,m=y&&S([P&&["Button","browse",{label:y.shapeLabelButtonSelectSticker,icon:y.shapeIconButtonSelectSticker,onclick:function(){Op().then((function(t){t&&C(t)}))}}]]))},[x,C,T,A,L,l,f,r,c,o,m,v,h,d,y,$,P,S,function(t){var e=t.detail;return n(6,f=e)}]}var Sy=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,ky,Py,Go,{locale:14,presets:15,scrollElasticity:0,enableSelectImage:16,willRenderPresetToolbar:17,onaddpreset:1,ongrabpreset:2,ondragpreset:3,ondroppreset:4}),r}return(0,d.default)(n)}(Pu);function Ry(t){var e,n,r,o,c=[{locale:t[4]},{uid:t[14]},{parentRect:t[29]},{rootRect:t[43]},{utilRect:t[30]},{offset:t[38]},{disabled:t[28]},{contextRotation:t[17]},{contextFlipX:t[18]},{contextFlipY:t[19]},{contextZoom:t[42]},{active:t[26]},{opacity:t[45]},{hoverColor:t[46]},{eraseRadius:t[37]},{selectRadius:t[6]},{enableButtonFlipVertical:t[9]},{mapEditorPointToImagePoint:t[15]},{mapImagePointToEditorPoint:t[16]},{enableTapToAddText:t[12]},{textInputMode:t[7]},{willStartInteraction:t[80]},{oninteractionstart:t[66]},{oninteractionupdate:t[67]},{oninteractionrelease:t[68]},{oninteractionend:t[70]},{oninteractioncancel:t[69]},{onhovershape:t[74]},{ontapcanvas:t[73]},{onaddshape:t[122]},{onselectshape:t[123]},{ontapshape:t[124]},{onupdateshape:t[125]},{onremoveshape:t[126]},t[32]];function l(e){t[128](e)}function d(e){t[129](e)}for(var f={},i=0;i<c.length;i+=1)f=Uo(f,c[i]);return void 0!==t[27]&&(f.markup=t[27]),void 0!==t[44]&&(f.ui=t[44]),e=new Nb({props:f}),t[127](e),ja.push((function(){return bu(e,"markup",l,t[27])})),ja.push((function(){return bu(e,"ui",d,t[44])})),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),o=!0},p:function(t,o){var l=1955582672&o[0]|55490&o[1]|793072&o[2]?mu(c,[16&o[0]&&{locale:t[4]},16384&o[0]&&{uid:t[14]},536870912&o[0]&&{parentRect:t[29]},4096&o[1]&&{rootRect:t[43]},1073741824&o[0]&&{utilRect:t[30]},128&o[1]&&{offset:t[38]},268435456&o[0]&&{disabled:t[28]},131072&o[0]&&{contextRotation:t[17]},262144&o[0]&&{contextFlipX:t[18]},524288&o[0]&&{contextFlipY:t[19]},2048&o[1]&&{contextZoom:t[42]},67108864&o[0]&&{active:t[26]},16384&o[1]&&{opacity:t[45]},32768&o[1]&&{hoverColor:t[46]},64&o[1]&&{eraseRadius:t[37]},64&o[0]&&{selectRadius:t[6]},512&o[0]&&{enableButtonFlipVertical:t[9]},32768&o[0]&&{mapEditorPointToImagePoint:t[15]},65536&o[0]&&{mapImagePointToEditorPoint:t[16]},4096&o[0]&&{enableTapToAddText:t[12]},128&o[0]&&{textInputMode:t[7]},262144&o[2]&&{willStartInteraction:t[80]},16&o[2]&&{oninteractionstart:t[66]},32&o[2]&&{oninteractionupdate:t[67]},64&o[2]&&{oninteractionrelease:t[68]},256&o[2]&&{oninteractionend:t[70]},128&o[2]&&{oninteractioncancel:t[69]},4096&o[2]&&{onhovershape:t[74]},2048&o[2]&&{ontapcanvas:t[73]},8388608&o[0]|524288&o[2]&&{onaddshape:t[122]},8388608&o[0]&&{onselectshape:t[123]},8388608&o[0]&&{ontapshape:t[124]},8388608&o[0]|524288&o[2]&&{onupdateshape:t[125]},8388608&o[0]|524288&o[2]&&{onremoveshape:t[126]},2&o[1]&&gu(t[32])]):{};!n&&134217728&o[0]&&(n=!0,l.markup=t[27],Ka((function(){return n=!1}))),!r&&8192&o[1]&&(r=!0,l.ui=t[44],Ka((function(){return r=!1}))),e.$set(l)},i:function(t){o||(cu(e.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),o=!1},d:function(n){t[127](null),xu(e,n)}}}function Cy(t){var div,e,n,r,o,c=t[39]&&Ry(t);return{c:function(){div=element("div"),c&&c.c(),xa(div,"slot","main"),xa(div,"style",e="cursor:".concat(t[35]))},m:function(e,l){pa(e,div,l),c&&c.m(div,null),t[130](div),n=!0,r||(o=[ba(div,"keydown",t[71]),ra(ls.call(null,div)),ba(div,"dropfiles",(function(){Vo(t[11]?t[79]:N)&&(t[11]?t[79]:N).apply(this,arguments)})),ra(os.call(null,div)),ba(div,"measure",t[120])],r=!0)},p:function(r,o){(t=r)[39]?c?(c.p(t,o),256&o[1]&&cu(c,1)):((c=Ry(t)).c(),cu(c,1),c.m(div,null)):c&&(au(),lu(c,1,1,(function(){c=null})),uu()),(!n||16&o[1]&&e!==(e="cursor:".concat(t[35])))&&xa(div,"style",e)},i:function(t){n||(cu(c),n=!0)},o:function(t){lu(c),n=!1},d:function(e){e&&ha(div),c&&c.d(),t[130](null),r=!1,jo(o)}}}function My(t){var e,n;return e=new Sy({props:{locale:t[4],presets:t[13],enableSelectImage:t[10],willRenderPresetToolbar:t[33],onaddpreset:t[78],ongrabpreset:t[75],ondragpreset:t[76],ondroppreset:t[77],scrollElasticity:t[34]}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.locale=t[4]),8192&n[0]&&(r.presets=t[13]),1024&n[0]&&(r.enableSelectImage=t[10]),4&n[1]&&(r.willRenderPresetToolbar=t[33]),8&n[1]&&(r.scrollElasticity=t[34]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Ty(t){var div,e,n,r,o,c,l=[Ay,Iy],d=[];function f(t,e){return t[36]?0:1}e=f(t),n=d[e]=l[e](t);var h=t[41]&&Ey(t);return{c:function(){div=element("div"),n.c(),r=ma(),h&&h.c(),o=ga(),xa(div,"class","PinturaControlPanels")},m:function(t,n){pa(t,div,n),d[e].m(div,null),pa(t,r,n),h&&h.m(t,n),pa(t,o,n),c=!0},p:function(t,r){var c=e;(e=f(t))===c?d[e].p(t,r):(au(),lu(d[c],1,1,(function(){d[c]=null})),uu(),(n=d[e])?n.p(t,r):(n=d[e]=l[e](t)).c(),cu(n,1),n.m(div,null)),t[41]?h?(h.p(t,r),1024&r[1]&&cu(h,1)):((h=Ey(t)).c(),cu(h,1),h.m(o.parentNode,o)):h&&(au(),lu(h,1,1,(function(){h=null})),uu())},i:function(t){c||(cu(n),cu(h),c=!0)},o:function(t){lu(n),lu(h),c=!1},d:function(t){t&&ha(div),d[e].d(),t&&ha(r),h&&h.d(t),t&&ha(o)}}}function Iy(t){var div,e,n;return e=new Jb({props:{locale:t[4],shape:t[24],onchange:t[72],controls:t[8],scrollElasticity:t[34]}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaControlPanel")},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,n){var r={};16&n[0]&&(r.locale=t[4]),16777216&n[0]&&(r.shape=t[24]),256&n[0]&&(r.controls=t[8]),8&n[1]&&(r.scrollElasticity=t[34]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function Ay(t){var div,e,n;return e=new Sy({props:{locale:t[4],presets:t[13],enableSelectImage:t[10],willRenderPresetToolbar:t[33],onaddpreset:t[78],ongrabpreset:t[75],ondragpreset:t[76],ondroppreset:t[77],scrollElasticity:t[34]}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"class","PinturaControlPanel")},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,n){var r={};16&n[0]&&(r.locale=t[4]),8192&n[0]&&(r.presets=t[13]),1024&n[0]&&(r.enableSelectImage=t[10]),4&n[1]&&(r.willRenderPresetToolbar=t[33]),8&n[1]&&(r.scrollElasticity=t[34]),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function Ey(t){var e,n;return e=new bd({props:{class:"PinturaControlListScroller",elasticity:t[34],$$slots:{default:[Oy]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};8&n[1]&&(r.elasticity=t[34]),33554449&n[0]|512&n[5]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Ly(t){var e,n;return e=new _s({props:{$$slots:{default:[Fy]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]|768&n[5]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Fy(t){var g,e=(vt(t[163].icon)?t[163].icon(t[4]):t[163].icon)+"";return{c:function(){g=va("g")},m:function(t,n){pa(t,g,n),g.innerHTML=e},p:function(t,n){16&n[0]|256&n[5]&&e!==(e=(vt(t[163].icon)?t[163].icon(t[4]):t[163].icon)+"")&&(g.innerHTML=e)},d:function(t){t&&ha(g)}}}function zy(t){var div,e,span,n,r,o=(vt(t[163].label)?t[163].label(t[4]):t[163].label)+"",c=t[163].icon&&Ly(t);return{c:function(){div=element("div"),c&&c.c(),e=ma(),span=element("span"),n=text(o),xa(div,"slot","option")},m:function(t,o){pa(t,div,o),c&&c.m(div,null),sa(div,e),sa(div,span),sa(span,n),r=!0},p:function(t,l){t[163].icon?c?(c.p(t,l),256&l[5]&&cu(c,1)):((c=Ly(t)).c(),cu(c,1),c.m(div,e)):c&&(au(),lu(c,1,1,(function(){c=null})),uu()),(!r||16&l[0]|256&l[5])&&o!==(o=(vt(t[163].label)?t[163].label(t[4]):t[163].label)+"")&&Pa(n,o)},i:function(t){r||(cu(c),r=!0)},o:function(t){lu(c),r=!1},d:function(t){t&&ha(div),c&&c.d()}}}function Oy(t){var e,n;return e=new Ef({props:{locale:t[4],class:"PinturaControlList",optionClass:"PinturaControlListOption",layout:"row",options:t[25],selectedIndex:t[25].findIndex(t[121]),onchange:t[65],$$slots:{option:[zy,function(t){return{163:t.option}},function(t){return[0,0,0,0,0,t.option?256:0]}]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};16&n[0]&&(r.locale=t[4]),33554432&n[0]&&(r.options=t[25]),33554433&n[0]&&(r.selectedIndex=t[25].findIndex(t[121])),16&n[0]|768&n[5]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function By(t){var div,e,n,r,o=[Ty,My],c=[];function l(t,e){return t[40]?0:t[36]?1:-1}return~(e=l(t))&&(n=c[e]=o[e](t)),{c:function(){div=element("div"),n&&n.c(),xa(div,"slot","footer"),xa(div,"style",t[31])},m:function(t,n){pa(t,div,n),~e&&c[e].m(div,null),r=!0},p:function(t,d){var f=e;(e=l(t))===f?~e&&c[e].p(t,d):(n&&(au(),lu(c[f],1,1,(function(){c[f]=null})),uu()),~e?((n=c[e])?n.p(t,d):(n=c[e]=o[e](t)).c(),cu(n,1),n.m(div,null)):n=null),(!r||1&d[1])&&xa(div,"style",t[31])},i:function(t){r||(cu(n),r=!0)},o:function(t){lu(n),r=!1},d:function(t){t&&ha(div),~e&&c[e].d()}}}function Dy(t){var e,n;return(e=new qm({props:{$$slots:{footer:[By],main:[Cy]},$$scope:{ctx:t}}})).$on("measure",t[131]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};2146435025&n[0]|65535&n[1]|512&n[5]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function _y(t,e,n){var r,o,c,l,d,f,h,v,m,y,x,k,S,R,C,M,T,I,A,E,L,cursor,F,O,B,D,_,U,N,W,j,V,G,H,Z,X,Y,K,J,Q,tt,et,nt,it,ot,at,ut,ct,lt,st,ft,pt,vt=Do,mt=function(){return vt(),vt=Ho(St,(function(t){return n(26,N=t)})),St},gt=Do,bt=function(){return gt(),gt=Ho(At,(function(t){return n(27,j=t)})),At},yt=Do,$t=function(){return yt(),yt=Ho(Ce,(function(t){return n(29,et=t)})),Ce},xt=Do,wt=function(){return xt(),xt=Ho(Ct,(function(t){return n(118,ut=t)})),Ct},Pt=Do,kt=function(){return Pt(),Pt=Ho(Rt,(function(t){return n(45,ft=t)})),Rt};t.$$.on_destroy.push((function(){return vt()})),t.$$.on_destroy.push((function(){return gt()})),t.$$.on_destroy.push((function(){return yt()})),t.$$.on_destroy.push((function(){return xt()})),t.$$.on_destroy.push((function(){return Pt()}));var St=e.isActive;mt();var Rt=e.isActiveFraction;kt();var Ct=e.isVisible;wt();var Mt=e.stores,Tt=e.locale,It=void 0===Tt?{}:Tt,At=e.shapes;bt();var Et=e.toolbar,Lt=void 0===Et?[]:Et,Ft=e.toolShapes,Ot=void 0===Ft?{}:Ft,Bt=e.toolActive,Dt=void 0===Bt?void 0:Bt,_t=e.toolSelectRadius,Ut=void 0===_t?void 0:_t,Nt=e.toolRetainStyles,Wt=void 0!==Nt&&Nt,jt=e.textInputMode,Vt=void 0===jt?void 0:jt,Gt=e.shapeControls,Ht=void 0===Gt?{}:Gt,Zt=e.enableButtonFlipVertical,Xt=void 0!==Zt&&Zt,qt=e.enablePresetSelectImage,Yt=void 0===qt||qt,Kt=e.enablePresetDropImage,Jt=void 0===Kt||Kt,Qt=e.enableSelectToolToAddShape,ee=void 0!==Qt&&Qt,ne=e.enableAutoSelectMoveTool,re=void 0===ne?["line","arrow","path","rectangle","ellipse","text"]:ne,ie=e.enableTapToAddText,oe=void 0!==ie&&ie,ae=e.enableMoveTool,ue=void 0!==ae&&ae,ce=e.enableViewTool,le=void 0!==ce&&ce,se=e.willRenderPresetToolbar,de=void 0===se?void 0:se,fe=e.willStartInteraction,pe=void 0===fe?void 0:fe,he=e.shapePresets,ve=void 0===he?[]:he,me=e.utilKey,ge=e.mapScreenPointToImagePoint,ye=e.mapImagePointToScreenPoint,xe=e.imageRotation,we=void 0===xe?0:xe,Pe=e.imageFlipX,ke=void 0!==Pe&&Pe,Se=e.imageFlipY,Re=void 0!==Se&&Se,Ce=e.parentRect;$t();var Me=e.hooks,Te=void 0===Me?{}:Me,Ie=Ua("isAnimated");Xo(t,Ie,(function(t){return n(111,W=t)}));var Ae=Ua("elasticityMultiplier");Xo(t,Ae,(function(t){return n(114,H=t)}));var Ee,Le=Ua("ui");Xo(t,Le,(function(t){return n(140,ot=t)}));var Fe=Mt,ze=Fe.env,Oe=Fe.history,Be=Fe.rootRect,De=Fe.rootColorSecondary,_e=Fe.enablePanInput,Ue=Fe.enablePanInputStatus,Ne=Fe.enableZoomInput,We=Fe.stageRect,je=Fe.utilRectPadded,Ve=Fe.scrollElasticity,Ge=Fe.imageOverlayMarkup,He=Fe.imagePreviewModifiers,Ze=Fe.imageCropRect,Xe=Fe.shapePreprocessor,Ye=Fe.stageScalar,Ke=Fe.imageSelectionRect,Je=Fe.imageSelectionZoomCurrent,Qe=Fe.imageSelectionPan,tn=Fe.allowPan,en=Fe.allowZoom,nn=Fe.allowZoomControls;Xo(t,ze,(function(t){return n(112,V=t)})),Xo(t,Be,(function(t){return n(43,lt=t)})),Xo(t,De,(function(t){return n(46,pt=t)})),Xo(t,Ue,(function(t){return n(28,Q=t)})),Xo(t,We,(function(t){return n(115,Z=t)})),Xo(t,je,(function(t){return n(30,at=t)})),Xo(t,Ge,(function(t){return n(44,st=t)})),Xo(t,He,(function(t){return n(119,ct=t)})),Xo(t,Ze,(function(t){return n(139,nt=t)})),Xo(t,Xe,(function(t){return n(117,it=t)})),Xo(t,Ye,(function(t){return n(137,K=t)})),Xo(t,Ke,(function(t){return n(138,J=t)})),Xo(t,Je,(function(t){return n(42,X=t)})),Xo(t,Qe,(function(t){return n(136,Y=t)}));var rn=Ua("keysPressed");Xo(t,rn,(function(t){return n(116,tt=t)}));var on,an,un,ln,sn=function(t){var e,n,r=(0,w.default)(Ee[t],2),o=r[0],c="relative"===r[1].position,l=c?"0%":0,d=c?"0%":0;ki(o)||xi(o)?(n=c?"20%":.2*et.width,(e=hi(o)).x=l,e.y=d,lo(e,{width:n,height:n},et)):Si(o)?(n=c?"10%":.1*et.width,(e=hi(o)).x=l,e.y=d,lo(e,{rx:n,ry:n},et)):Ri(o)&&(n=c?"10%":.1*et.width,(e=hi(o)).x1=l,e.y1=d,e.x2=l,e.y2=d),e&&Promise.resolve().then((function(){gn(vn(e,void 0,n))}))},dn=function(t){return ge(vb(t,lt))},fn={},pn=function(t){if(Ci(t)&&Rr(t,"pathClose")){var e=(0,P.default)(t.strokeColor);e[3]=1,on.updateMarkupShape(t,{pathClose:!1,strokeColor:e},!1),on.removeMarkupShapeProps(t,["backgroundColor"],!1),on.confirmMarkupItemDraft(),on.selectShape(t)}};var hn,vn=function(t,e,n){var r=!1;e||(r=!0,e=T?ge(qe(Z)):qe(nt)),e.x-=et.x||0,e.y-=et.y||0,(ke||Re)&&(t.flipX=ke,t.flipY=Re);var o=on.getShapesNearPosition(e);if(r&&o.length){var c=.1*Math.min(nt.width,nt.height);e.x+=Math.round(-c+Math.random()*c*2),e.y+=Math.round(-c+Math.random()*c*2)}if(0!==we&&(t.rotation=ke&&Re?-we:ke||Re?we:-we),Rr(t,"width")&&Rr(t,"height")){var l=co(t,["width","height"],et),d=l.width,f=l.height;lo(t,{x:e.x-.5*d,y:e.y-.5*f},et)}else if(Si(t))lo(t,{x:e.x,y:e.y},et);else if(Ri(t)){var h=co(t,["x1","y1","x2","y2"],et),v=h.x1,m=h.y1,y=h.x2,$=h.y2,x=be(te(v,m),te(y,$)),w=ht(n)?to(n,et.width):x;lo(t,{x1:e.x-w,y1:e.y+w,x2:e.x+w,y2:e.y-w},et)}else if(Ci(t)){var P=co(t,["points"],et).points,k=$e(P);lo(t,{points:P.map((function(t){return{x:t.x+e.x-k.x,y:t.y+e.y-k.y}}))},et)}return t},mn=function(t,e){var n=vn(bi(t,nt),e);return t.shape&&(Rr(t.shape,"x")&&(n.x=t.shape.x),Rr(t.shape,"y")&&(n.y=t.shape.y)),gn(n)},gn=function(t){var e=Te.beforeAddShape;if((void 0===e?function(){return!0}:e)(t))return on.addShape(t),on.selectShape(t),Oe.write(),F("addshape",t),t},bn=!1,yn=function(){Oe.write()},$n=Ua("redrawTrigger");Xo(t,$n,(function(t){return n(113,G=t)}));var xn=Zl(W?20:0);Xo(t,xn,(function(t){return n(110,U=t)}));return t.$$set=function(t){"isActive"in t&&mt(n(1,St=t.isActive)),"isActiveFraction"in t&&kt(n(2,Rt=t.isActiveFraction)),"isVisible"in t&&wt(n(3,Ct=t.isVisible)),"stores"in t&&n(84,Mt=t.stores),"locale"in t&&n(4,It=t.locale),"shapes"in t&&bt(n(5,At=t.shapes)),"toolbar"in t&&n(85,Lt=t.toolbar),"toolShapes"in t&&n(86,Ot=t.toolShapes),"toolActive"in t&&n(0,Dt=t.toolActive),"toolSelectRadius"in t&&n(6,Ut=t.toolSelectRadius),"toolRetainStyles"in t&&n(87,Wt=t.toolRetainStyles),"textInputMode"in t&&n(7,Vt=t.textInputMode),"shapeControls"in t&&n(8,Ht=t.shapeControls),"enableButtonFlipVertical"in t&&n(9,Xt=t.enableButtonFlipVertical),"enablePresetSelectImage"in t&&n(10,Yt=t.enablePresetSelectImage),"enablePresetDropImage"in t&&n(11,Jt=t.enablePresetDropImage),"enableSelectToolToAddShape"in t&&n(88,ee=t.enableSelectToolToAddShape),"enableAutoSelectMoveTool"in t&&n(89,re=t.enableAutoSelectMoveTool),"enableTapToAddText"in t&&n(12,oe=t.enableTapToAddText),"enableMoveTool"in t&&n(90,ue=t.enableMoveTool),"enableViewTool"in t&&n(91,le=t.enableViewTool),"willRenderPresetToolbar"in t&&n(92,de=t.willRenderPresetToolbar),"willStartInteraction"in t&&n(93,pe=t.willStartInteraction),"shapePresets"in t&&n(13,ve=t.shapePresets),"utilKey"in t&&n(14,me=t.utilKey),"mapScreenPointToImagePoint"in t&&n(15,ge=t.mapScreenPointToImagePoint),"mapImagePointToScreenPoint"in t&&n(16,ye=t.mapImagePointToScreenPoint),"imageRotation"in t&&n(17,we=t.imageRotation),"imageFlipX"in t&&n(18,ke=t.imageFlipX),"imageFlipY"in t&&n(19,Re=t.imageFlipY),"parentRect"in t&&$t(n(20,Ce=t.parentRect)),"hooks"in t&&n(94,Te=t.hooks)},t.$$.update=function(){var e,w,P,X,Y,K;if(16777216&t.$$.dirty[2]|4&t.$$.dirty[3]&&(Ee&&Ot===Ee||n(95,Ee=Ot)),67108864&t.$$.dirty[0]&&tn.set(N),67108864&t.$$.dirty[0]&&en.set(N),67108864&t.$$.dirty[0]&&nn.set(N),8192&t.$$.dirty[0]|1887436800&t.$$.dirty[2]&&n(25,r=function(t,e){var n=e.willRenderPresetToolbar,r=e.shapePresets,o=e.enableViewTool,c=e.enableMoveTool,l=0!==r.length||n?t:t.filter((function(t){return"preset"!==t[0]}));return l=c?l:l.filter((function(t){return"move"!==t[0]})),o?l:l.filter((function(t){return"view"!==t[0]}))}(Lt,{willRenderPresetToolbar:de,shapePresets:ve,enableMoveTool:ue,enableViewTool:le})),256&t.$$.dirty[0]&&n(107,o=Object.keys(Ht).length),33554432&t.$$.dirty[0]&&n(41,c=r.length>1),33554432&t.$$.dirty[0]&&n(108,l=!!r.length),33554433&t.$$.dirty[0]|32768&t.$$.dirty[3]&&l&&void 0===Dt&&n(0,Dt=r[0][0]),1&t.$$.dirty[0]&&n(109,d=void 0!==Dt),114688&t.$$.dirty[3]&&n(40,f=(!d||l)&&o),4194304&t.$$.dirty[0]&&n(23,F=hn&&(e=hn,function(t,data){e.dispatchEvent(bp(t,data))})),75497473&t.$$.dirty[0]&&N&&F&&F("selectcontrol",Dt),67125248&t.$$.dirty[0]|67108864&t.$$.dirty[3]&&(N?na(He,ct[me]={maskMarkupOpacity:.85},ct):delete ct[me]),2097153&t.$$.dirty[0]&&Dt&&on){var J=on.getMarkupItemDraft();J&&pn(J)}1&t.$$.dirty[0]&&Dt&&on&&"move"!==Dt&&on.blurShapes(),67108864&t.$$.dirty[0]|33554432&t.$$.dirty[3]&&n(39,h=N&&ut),1073741824&t.$$.dirty[0]|4194304&t.$$.dirty[3]&&n(38,v=at&&te(Z.x-at.x,Z.y-at.y)),256&t.$$.dirty[0]&&n(106,m=Object.keys(Ht)),201326592&t.$$.dirty[0]&&n(98,y=N&&j.filter(Ii)[0]),201326592&t.$$.dirty[0]&&n(101,x=N&&j.find((function(t){return Ai(t)}))),67108865&t.$$.dirty[0]|4&t.$$.dirty[3]&&n(104,k=N&&Ee[Dt]?Ji(hi(z(z({},Ee[Dt][0]),ot[me]?ot[me][Dt]:{}))):{}),4&t.$$.dirty[3]&&Ee&&n(96,fn={}),10248&t.$$.dirty[3]&&n(105,S=k&&Object.keys(k).reduce((function(t,e){var n="disableStyle"===e,r=m.find((function(t){return t.split("_").includes(e)}));return n||r?(void 0===k[e]||(t[e]=Rr(fn,e)?fn[e]:k[e]),t):t}),{})),16385&t.$$.dirty[0]|33554432&t.$$.dirty[2]|4096&t.$$.dirty[3]&&(Wt?(P=Dt,X=S,Y=ot[w=me],K=Y?Y[P]:{},Le.set(z(z({},ot),{},(0,$.default)({},w,z(z({},Y),{},(0,$.default)({},P,z(z({},K),X))))))):function(t){Le.set((0,$.default)({},t,{}))}(me)),67108864&t.$$.dirty[0]|4128&t.$$.dirty[3]&&n(24,R=N?y||S:void 0),16777216&t.$$.dirty[0]|16777216&t.$$.dirty[3]&&R&&R.lineEnd&&!it&&console.warn("Set shapePreprocessor property to draw lineStart and lineEnd styles.\nhttps://pqina.nl/pintura/docs/v8/api/exports/#createshapepreprocessor"),6144&t.$$.dirty[3]&&n(37,C=k&&kr(k.eraseRadius)?(S||k).eraseRadius:void 0),9217&t.$$.dirty[0]|1073741824&t.$$.dirty[2]&&n(36,M="preset"===Dt&&(ve.length>0||Yt||de)),536870912&t.$$.dirty[0]&&(T=!Rr(et,"x")&&!Rr(et,"y")),67108864&t.$$.dirty[0]|8388608&t.$$.dirty[3]&&n(102,I=N&&tt&&32===tt[0]),67108865&t.$$.dirty[0]&&n(103,A=N&&"view"===Dt),1536&t.$$.dirty[3]&&n(100,E=A||I),256&t.$$.dirty[3]&&n(99,L=!!x),67108864&t.$$.dirty[0]|192&t.$$.dirty[3]&&_e.set(!N||E&&!L),67108864&t.$$.dirty[0]|64&t.$$.dirty[3]&&Ne.set(!N||!L),268435457&t.$$.dirty[0]|48&t.$$.dirty[3]&&n(35,cursor=function(t,e,n,r,o){if(n)return r?"grabbing":"grab";if(!t)return"move"===o?"default":"crosshair";var c=t||e;return Ii(c)?Ai(c)?"modal"===Vt?"default":"text":Gi(c)?"move":"default":"default"}(ln,y,Q,false,Dt)),2097152&t.$$.dirty[3]&&n(34,O=H*Ve),1073741824&t.$$.dirty[2]|1572864&t.$$.dirty[3]&&n(33,B=G&&de?function(t){return Bp((function(){return de(t,mn,z({},V),(function(){return $n.set({})}))}))}:zt),2&t.$$.dirty[3]&&n(32,D=Object.keys(Te).reduce((function(t,e){return"beforeAddShape"===e||void 0===Te[e]||(t[e]=Te[e]),t}),{})),67108864&t.$$.dirty[0]&&function(t){At&&At.set(j.map((function(e){return e._prerender=!!t&&Ai(e),e})))}(N),67108864&t.$$.dirty[0]|262144&t.$$.dirty[3]&&W&&xn.set(N?0:20),131072&t.$$.dirty[3]&&n(31,_=U?"transform: translateY(".concat(U,"px)"):void 0)},[Dt,St,Rt,Ct,It,At,Ut,Vt,Ht,Xt,Yt,Jt,oe,ve,me,ge,ye,we,ke,Re,Ce,on,hn,F,R,r,N,j,Q,et,at,_,D,B,O,cursor,M,C,v,h,f,c,X,lt,st,ft,pt,Ie,Ae,Le,ze,Be,De,Ue,We,je,Ge,He,Ze,Xe,Ye,Ke,Je,Qe,rn,function(t,e){var r=t.value;n(0,Dt=r),(ee||/enter/i.test(e.key))&&sn(r)},function(t){if("eraser"===Dt)an=on.eraseShape();else if(Dt&&Ee[Dt]){var e=(0,w.default)(Ee[Dt],2),n=e[0],r=e[1];an=on.createShape(z(z({},n),S),r)}else an=void 0;return!!an&&(an.start(t),!0)},function(t){return!!an&&(an.update(t),!0)},function(t){return!!an&&(an.release(t),!0)},function(t){return!!an&&(an.cancel(t),an=void 0,!0)},function(t){if(!an)return!1;an.end(t),an=void 0;var e=on.getMarkupItemDraft(),r=ue&&(!0===re||Array.isArray(re)&&re.includes(Dt));return e&&!e.isEditing||!r||n(0,Dt="move"),!0},function(t){var e=t.key,n=on.getMarkupItemDraft();/escape/i.test(e)&&n&&(t.preventDefault(),t.stopPropagation(),on.discardMarkupItemDraft(),an=void 0),/enter/i.test(e)&&n&&(t.preventDefault(),t.stopPropagation(),pn(n),an=void 0)},function(t){Object.keys(t).forEach((function(e){return n(96,fn[e]=t[e],fn)})),F("selectstyle",t),y&&(on.updateMarkupShape(y,t),clearTimeout(un),un=setTimeout((function(){yn()}),200))},function(details){return F("markuptap",details)},function(t){return n(97,ln=t)},function(){bn=!1},function(t,e){if(!bn){var n=Te.beforeAddShape,r=void 0===n?function(){return!0}:n,o=dn(e),c=on.getMarkupItemDraft(),l=cn(nt,{x:o.x+(et.x||0),y:o.y+(et.y||0)});if(c&&!l&&on.discardMarkupItemDraft(),l){if(!c){var d=bi(t,nt),f=vn(d,o);return r(f)?(Bi(f),void on.addShape(f)):(bn=!0,void e.preventDefault())}ki(c)&&(o.x-=.5*c.width,o.y-=.5*c.height),t.shape&&(Rr(t.shape,"x")&&(o.x=t.shape.x),Rr(t.shape,"y")&&(o.y=t.shape.y)),on.updateMarkupShape(c,o)}}},function(t,e){if(!bn){var n=dn(e);if(cn(nt,{x:n.x+(et.x||0),y:n.y+(et.y||0)})){var r=on.confirmMarkupItemDraft();on.selectShape(r),F("addshape",r),Oe.write()}else on.discardMarkupItemDraft()}},function(t){return mn(t)},function(t){return e=t.detail.resources,n=dn(t.detail.event),e.forEach((function(t){return mn(t,n)}));var e,n},function(t){if(!pe)return!0;var e=rectClone(J);return rectScale(e,1/K),rectTranslate(e,Y),rectScale(e,X),pe(t,z(z({},e),{},{x:e.x+Z.x,y:e.y+Z.y}))},yn,$n,xn,Mt,Lt,Ot,Wt,ee,re,ue,le,de,pe,Te,Ee,fn,ln,y,L,E,x,I,A,k,S,m,o,l,d,U,W,V,G,H,Z,tt,it,ut,ct,function(e){Na.call(this,t,e)},function(option){return option[0]===Dt},function(t){F("addshape",t),yn()},function(t){F("selectshape",t)},function(t){F("tapshape",t)},function(t){F("updateshape",t),yn()},function(t){F("removeshape",t),yn()},function(t){ja[t?"unshift":"push"]((function(){n(21,on=t)}))},function(t){j=t,At.set(j)},function(t){st=t,Ge.set(st)},function(t){ja[t?"unshift":"push"]((function(){n(22,hn=t)}))},function(e){Na.call(this,t,e)}]}var Uy=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,_y,Dy,Go,{isActive:1,isActiveFraction:2,isVisible:3,stores:84,locale:4,shapes:5,toolbar:85,toolShapes:86,toolActive:0,toolSelectRadius:6,toolRetainStyles:87,textInputMode:7,shapeControls:8,enableButtonFlipVertical:9,enablePresetSelectImage:10,enablePresetDropImage:11,enableSelectToolToAddShape:88,enableAutoSelectMoveTool:89,enableTapToAddText:12,enableMoveTool:90,enableViewTool:91,willRenderPresetToolbar:92,willStartInteraction:93,shapePresets:13,utilKey:14,mapScreenPointToImagePoint:15,mapImagePointToScreenPoint:16,imageRotation:17,imageFlipX:18,imageFlipY:19,parentRect:20,hooks:94},null,[-1,-1,-1,-1,-1,-1]),r}return(0,d.default)(n,[{key:"isActive",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"isActiveFraction",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({isActiveFraction:t}),eu()}},{key:"isVisible",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({isVisible:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[84]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({locale:t}),eu()}},{key:"shapes",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({shapes:t}),eu()}},{key:"toolbar",get:function(){return this.$$.ctx[85]},set:function(t){this.$$set({toolbar:t}),eu()}},{key:"toolShapes",get:function(){return this.$$.ctx[86]},set:function(t){this.$$set({toolShapes:t}),eu()}},{key:"toolActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({toolActive:t}),eu()}},{key:"toolSelectRadius",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({toolSelectRadius:t}),eu()}},{key:"toolRetainStyles",get:function(){return this.$$.ctx[87]},set:function(t){this.$$set({toolRetainStyles:t}),eu()}},{key:"textInputMode",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({textInputMode:t}),eu()}},{key:"shapeControls",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({shapeControls:t}),eu()}},{key:"enableButtonFlipVertical",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({enableButtonFlipVertical:t}),eu()}},{key:"enablePresetSelectImage",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({enablePresetSelectImage:t}),eu()}},{key:"enablePresetDropImage",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({enablePresetDropImage:t}),eu()}},{key:"enableSelectToolToAddShape",get:function(){return this.$$.ctx[88]},set:function(t){this.$$set({enableSelectToolToAddShape:t}),eu()}},{key:"enableAutoSelectMoveTool",get:function(){return this.$$.ctx[89]},set:function(t){this.$$set({enableAutoSelectMoveTool:t}),eu()}},{key:"enableTapToAddText",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({enableTapToAddText:t}),eu()}},{key:"enableMoveTool",get:function(){return this.$$.ctx[90]},set:function(t){this.$$set({enableMoveTool:t}),eu()}},{key:"enableViewTool",get:function(){return this.$$.ctx[91]},set:function(t){this.$$set({enableViewTool:t}),eu()}},{key:"willRenderPresetToolbar",get:function(){return this.$$.ctx[92]},set:function(t){this.$$set({willRenderPresetToolbar:t}),eu()}},{key:"willStartInteraction",get:function(){return this.$$.ctx[93]},set:function(t){this.$$set({willStartInteraction:t}),eu()}},{key:"shapePresets",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({shapePresets:t}),eu()}},{key:"utilKey",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({utilKey:t}),eu()}},{key:"mapScreenPointToImagePoint",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({mapScreenPointToImagePoint:t}),eu()}},{key:"mapImagePointToScreenPoint",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({mapImagePointToScreenPoint:t}),eu()}},{key:"imageRotation",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({imageRotation:t}),eu()}},{key:"imageFlipX",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({imageFlipX:t}),eu()}},{key:"imageFlipY",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({imageFlipY:t}),eu()}},{key:"parentRect",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({parentRect:t}),eu()}},{key:"hooks",get:function(){return this.$$.ctx[94]},set:function(t){this.$$set({hooks:t}),eu()}}]),n}(Pu),Ny=function(t,e,n,r,o,c,l,d,f){var h=re(t),v=.5*n.width,m=.5*n.height,y=.5*e.width,$=.5*e.height,x=o.x+r.x,w=o.y+r.y;d&&(h.x=n.width-h.x),f&&(h.y=n.height-h.y);var P=Math.cos(c),s=Math.sin(c);h.x-=v,h.y-=m;var k=h.x*P-h.y*s,S=h.x*s+h.y*P;h.x=v+k,h.y=m+S,h.x*=l,h.y*=l,h.x+=y,h.y+=$,h.x+=x,h.y+=w,h.x-=v*l,h.y-=m*l;var R=(o.x-x)*l,C=(o.y-w)*l,M=R*P-C*s,T=R*s+C*P;return h.x+=M,h.y+=T,h},Wy=function(t,e,n,r,o,c,l,d,f){var h=re(t),v=Ee(n),m=Ee(e),y=te(o.x+r.x,o.y+r.y),$=Math.cos(c),s=Math.sin(c);h.x-=m.x,h.y-=m.y;var x=(o.x-y.x)*l,w=(o.y-y.y)*l,P=x*$-w*s,k=x*s+w*$;h.x-=P,h.y-=k,h.x-=y.x,h.y-=y.y,h.x/=l,h.y/=l;var S=h.x*$+h.y*s,R=h.x*s-h.y*$;return h.x=S,h.y=-R,h.x+=v.x,h.y+=v.y,d&&(h.x=n.width-h.x),f&&(h.y=n.height-h.y),h};function jy(t){var e,n,r;function o(e){t[51](e)}var c={utilKey:"annotate",stores:t[4],locale:t[5],isActive:t[1],isActiveFraction:t[2],isVisible:t[3],mapScreenPointToImagePoint:t[36],mapImagePointToScreenPoint:t[35],imageRotation:t[37],imageFlipX:t[34],imageFlipY:t[33],shapes:t[39],toolbar:t[13]||t[6],toolShapes:t[14]||t[7],toolRetainStyles:t[8],enableSelectToolToAddShape:t[23],enableTapToAddText:t[24],enableViewTool:t[22],enableMoveTool:t[26],enableAutoSelectMoveTool:t[25],shapeControls:t[15]||t[9],shapePresets:t[19],enableButtonFlipVertical:t[16],parentRect:t[40],enablePresetDropImage:t[18],enablePresetSelectImage:t[17],toolSelectRadius:t[10],textInputMode:t[11],willStartInteraction:t[21],willRenderPresetToolbar:t[20]||t[12],hooks:{willRenderShapeControls:t[27],beforeAddShape:t[28],beforeRemoveShape:t[29],beforeDeselectShape:t[30],beforeSelectShape:t[31],beforeUpdateShape:t[32]}};return void 0!==t[0]&&(c.toolActive=t[0]),e=new Uy({props:c}),ja.push((function(){return bu(e,"toolActive",o,t[0])})),e.$on("measure",t[52]),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(t,r){var o={};16&r[0]&&(o.stores=t[4]),32&r[0]&&(o.locale=t[5]),2&r[0]&&(o.isActive=t[1]),4&r[0]&&(o.isActiveFraction=t[2]),8&r[0]&&(o.isVisible=t[3]),32&r[1]&&(o.mapScreenPointToImagePoint=t[36]),16&r[1]&&(o.mapImagePointToScreenPoint=t[35]),64&r[1]&&(o.imageRotation=t[37]),8&r[1]&&(o.imageFlipX=t[34]),4&r[1]&&(o.imageFlipY=t[33]),8256&r[0]&&(o.toolbar=t[13]||t[6]),16512&r[0]&&(o.toolShapes=t[14]||t[7]),256&r[0]&&(o.toolRetainStyles=t[8]),8388608&r[0]&&(o.enableSelectToolToAddShape=t[23]),16777216&r[0]&&(o.enableTapToAddText=t[24]),4194304&r[0]&&(o.enableViewTool=t[22]),67108864&r[0]&&(o.enableMoveTool=t[26]),33554432&r[0]&&(o.enableAutoSelectMoveTool=t[25]),33280&r[0]&&(o.shapeControls=t[15]||t[9]),524288&r[0]&&(o.shapePresets=t[19]),65536&r[0]&&(o.enableButtonFlipVertical=t[16]),262144&r[0]&&(o.enablePresetDropImage=t[18]),131072&r[0]&&(o.enablePresetSelectImage=t[17]),1024&r[0]&&(o.toolSelectRadius=t[10]),2048&r[0]&&(o.textInputMode=t[11]),2097152&r[0]&&(o.willStartInteraction=t[21]),1052672&r[0]&&(o.willRenderPresetToolbar=t[20]||t[12]),2013265920&r[0]|3&r[1]&&(o.hooks={willRenderShapeControls:t[27],beforeAddShape:t[28],beforeRemoveShape:t[29],beforeDeselectShape:t[30],beforeSelectShape:t[31],beforeUpdateShape:t[32]}),!n&&1&r[0]&&(n=!0,o.toolActive=t[0],Ka((function(){return n=!1}))),e.$set(o)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}function Vy(t,e,n){var r,o,c,l,d,f,h,v,m,y=e.isActive,$=e.isActiveFraction,x=e.isVisible,w=e.stores,P=e.locale,k=void 0===P?{}:P,S=e.markupEditorToolbar,R=void 0===S?void 0:S,C=e.markupEditorToolStyles,M=void 0===C?void 0:C,T=e.markupEditorToolRetainStyles,I=void 0===T?void 0:T,A=e.markupEditorShapeStyleControls,E=void 0===A?void 0:A,L=e.markupEditorToolSelectRadius,F=void 0===L?void 0:L,z=e.markupEditorTextInputMode,O=void 0===z?void 0:z,B=e.willRenderShapePresetToolbar,D=void 0===B?void 0:B,_=e.annotateTools,U=void 0===_?void 0:_,N=e.annotateToolShapes,W=void 0===N?void 0:N,j=e.annotateShapeControls,V=void 0===j?void 0:j,G=e.annotateActiveTool,H=void 0===G?void 0:G,Z=e.annotateEnableButtonFlipVertical,X=void 0!==Z&&Z,Y=e.annotateEnableSelectImagePreset,K=void 0!==Y&&Y,J=e.annotateEnableDropImagePreset,Q=void 0===J||J,tt=e.annotatePresets,et=void 0===tt?[]:tt,nt=e.annotateWillRenderShapePresetToolbar,it=void 0===nt?void 0:nt,ot=e.markupEditorWillStartInteraction,at=void 0===ot?void 0:ot,ut=e.enableViewTool,ct=void 0===ut?void 0:ut,lt=e.enableSelectToolToAddShape,st=void 0===lt?void 0:lt,ft=e.enableTapToAddText,pt=void 0===ft?void 0:ft,ht=e.enableAutoSelectMoveTool,vt=void 0===ht?void 0:ht,mt=e.enableMoveTool,gt=void 0===mt?void 0:mt,bt=e.willRenderShapeControls,yt=void 0===bt?void 0:bt,$t=e.beforeAddShape,xt=void 0===$t?void 0:$t,wt=e.beforeRemoveShape,Pt=void 0===wt?void 0:wt,kt=e.beforeDeselectShape,St=void 0===kt?void 0:kt,Rt=e.beforeSelectShape,Ct=void 0===Rt?void 0:Rt,Mt=e.beforeUpdateShape,Tt=void 0===Mt?void 0:Mt,It=w,At=It.rootRect,Et=It.imageAnnotation,Lt=It.imageSize,Ft=It.imageRotation,zt=It.imageFlipX,Ot=It.imageFlipY,Bt=It.imageTransforms,Dt=It.imageTransformsInterpolated;return Xo(t,At,(function(t){return n(50,v=t)})),Xo(t,Lt,(function(t){return n(49,h=t)})),Xo(t,Ft,(function(t){return n(37,m=t)})),Xo(t,zt,(function(t){return n(34,l=t)})),Xo(t,Ot,(function(t){return n(33,c=t)})),Xo(t,Bt,(function(t){return n(48,f=t)})),Xo(t,Dt,(function(t){return n(47,d=t)})),t.$$set=function(t){"isActive"in t&&n(1,y=t.isActive),"isActiveFraction"in t&&n(2,$=t.isActiveFraction),"isVisible"in t&&n(3,x=t.isVisible),"stores"in t&&n(4,w=t.stores),"locale"in t&&n(5,k=t.locale),"markupEditorToolbar"in t&&n(6,R=t.markupEditorToolbar),"markupEditorToolStyles"in t&&n(7,M=t.markupEditorToolStyles),"markupEditorToolRetainStyles"in t&&n(8,I=t.markupEditorToolRetainStyles),"markupEditorShapeStyleControls"in t&&n(9,E=t.markupEditorShapeStyleControls),"markupEditorToolSelectRadius"in t&&n(10,F=t.markupEditorToolSelectRadius),"markupEditorTextInputMode"in t&&n(11,O=t.markupEditorTextInputMode),"willRenderShapePresetToolbar"in t&&n(12,D=t.willRenderShapePresetToolbar),"annotateTools"in t&&n(13,U=t.annotateTools),"annotateToolShapes"in t&&n(14,W=t.annotateToolShapes),"annotateShapeControls"in t&&n(15,V=t.annotateShapeControls),"annotateActiveTool"in t&&n(0,H=t.annotateActiveTool),"annotateEnableButtonFlipVertical"in t&&n(16,X=t.annotateEnableButtonFlipVertical),"annotateEnableSelectImagePreset"in t&&n(17,K=t.annotateEnableSelectImagePreset),"annotateEnableDropImagePreset"in t&&n(18,Q=t.annotateEnableDropImagePreset),"annotatePresets"in t&&n(19,et=t.annotatePresets),"annotateWillRenderShapePresetToolbar"in t&&n(20,it=t.annotateWillRenderShapePresetToolbar),"markupEditorWillStartInteraction"in t&&n(21,at=t.markupEditorWillStartInteraction),"enableViewTool"in t&&n(22,ct=t.enableViewTool),"enableSelectToolToAddShape"in t&&n(23,st=t.enableSelectToolToAddShape),"enableTapToAddText"in t&&n(24,pt=t.enableTapToAddText),"enableAutoSelectMoveTool"in t&&n(25,vt=t.enableAutoSelectMoveTool),"enableMoveTool"in t&&n(26,gt=t.enableMoveTool),"willRenderShapeControls"in t&&n(27,yt=t.willRenderShapeControls),"beforeAddShape"in t&&n(28,xt=t.beforeAddShape),"beforeRemoveShape"in t&&n(29,Pt=t.beforeRemoveShape),"beforeDeselectShape"in t&&n(30,St=t.beforeDeselectShape),"beforeSelectShape"in t&&n(31,Ct=t.beforeSelectShape),"beforeUpdateShape"in t&&n(32,Tt=t.beforeUpdateShape)},t.$$.update=function(){983052&t.$$.dirty[1]&&n(36,r=function(t){return Wy(t,v,h,d.origin,d.translation,f.rotation.z,d.scale,l,c)}),983052&t.$$.dirty[1]&&n(35,o=function(t){return Ny(t,v,h,d.origin,d.translation,f.rotation.z,d.scale,l,c)})},[H,y,$,x,w,k,R,M,I,E,F,O,D,U,W,V,X,K,Q,et,it,at,ct,st,pt,vt,gt,yt,xt,Pt,St,Ct,Tt,c,l,o,r,m,At,Et,Lt,Ft,zt,Ot,Bt,Dt,"annotate",d,f,h,v,function(t){n(0,H=t)},function(e){Na.call(this,t,e)}]}var Gy={util:["annotate",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Vy,jy,Go,{name:46,isActive:1,isActiveFraction:2,isVisible:3,stores:4,locale:5,markupEditorToolbar:6,markupEditorToolStyles:7,markupEditorToolRetainStyles:8,markupEditorShapeStyleControls:9,markupEditorToolSelectRadius:10,markupEditorTextInputMode:11,willRenderShapePresetToolbar:12,annotateTools:13,annotateToolShapes:14,annotateShapeControls:15,annotateActiveTool:0,annotateEnableButtonFlipVertical:16,annotateEnableSelectImagePreset:17,annotateEnableDropImagePreset:18,annotatePresets:19,annotateWillRenderShapePresetToolbar:20,markupEditorWillStartInteraction:21,enableViewTool:22,enableSelectToolToAddShape:23,enableTapToAddText:24,enableAutoSelectMoveTool:25,enableMoveTool:26,willRenderShapeControls:27,beforeAddShape:28,beforeRemoveShape:29,beforeDeselectShape:30,beforeSelectShape:31,beforeUpdateShape:32},null,[-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[46]}},{key:"isActive",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"isActiveFraction",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({isActiveFraction:t}),eu()}},{key:"isVisible",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({isVisible:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({locale:t}),eu()}},{key:"markupEditorToolbar",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({markupEditorToolbar:t}),eu()}},{key:"markupEditorToolStyles",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({markupEditorToolStyles:t}),eu()}},{key:"markupEditorToolRetainStyles",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({markupEditorToolRetainStyles:t}),eu()}},{key:"markupEditorShapeStyleControls",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({markupEditorShapeStyleControls:t}),eu()}},{key:"markupEditorToolSelectRadius",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({markupEditorToolSelectRadius:t}),eu()}},{key:"markupEditorTextInputMode",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({markupEditorTextInputMode:t}),eu()}},{key:"willRenderShapePresetToolbar",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({willRenderShapePresetToolbar:t}),eu()}},{key:"annotateTools",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({annotateTools:t}),eu()}},{key:"annotateToolShapes",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({annotateToolShapes:t}),eu()}},{key:"annotateShapeControls",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({annotateShapeControls:t}),eu()}},{key:"annotateActiveTool",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({annotateActiveTool:t}),eu()}},{key:"annotateEnableButtonFlipVertical",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({annotateEnableButtonFlipVertical:t}),eu()}},{key:"annotateEnableSelectImagePreset",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({annotateEnableSelectImagePreset:t}),eu()}},{key:"annotateEnableDropImagePreset",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({annotateEnableDropImagePreset:t}),eu()}},{key:"annotatePresets",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({annotatePresets:t}),eu()}},{key:"annotateWillRenderShapePresetToolbar",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({annotateWillRenderShapePresetToolbar:t}),eu()}},{key:"markupEditorWillStartInteraction",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({markupEditorWillStartInteraction:t}),eu()}},{key:"enableViewTool",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({enableViewTool:t}),eu()}},{key:"enableSelectToolToAddShape",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({enableSelectToolToAddShape:t}),eu()}},{key:"enableTapToAddText",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({enableTapToAddText:t}),eu()}},{key:"enableAutoSelectMoveTool",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({enableAutoSelectMoveTool:t}),eu()}},{key:"enableMoveTool",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({enableMoveTool:t}),eu()}},{key:"willRenderShapeControls",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({willRenderShapeControls:t}),eu()}},{key:"beforeAddShape",get:function(){return this.$$.ctx[28]},set:function(t){this.$$set({beforeAddShape:t}),eu()}},{key:"beforeRemoveShape",get:function(){return this.$$.ctx[29]},set:function(t){this.$$set({beforeRemoveShape:t}),eu()}},{key:"beforeDeselectShape",get:function(){return this.$$.ctx[30]},set:function(t){this.$$set({beforeDeselectShape:t}),eu()}},{key:"beforeSelectShape",get:function(){return this.$$.ctx[31]},set:function(t){this.$$set({beforeSelectShape:t}),eu()}},{key:"beforeUpdateShape",get:function(){return this.$$.ctx[32]},set:function(t){this.$$set({beforeUpdateShape:t}),eu()}}]),n}(Pu)]};function Hy(t){var e,n,r;function o(e){t[43](e)}var c={stores:t[4],locale:t[5],isActive:t[1],isActiveFraction:t[2],isVisible:t[3],mapScreenPointToImagePoint:t[34],mapImagePointToScreenPoint:t[33],utilKey:"decorate",shapes:t[36],toolbar:t[13]||t[6],toolShapes:t[14]||t[7],toolRetainStyles:t[8],shapeControls:t[15]||t[9],shapePresets:t[19],enableSelectToolToAddShape:t[21],enableTapToAddText:t[22],enableViewTool:t[23],enableMoveTool:t[24],enableAutoSelectMoveTool:t[25],enablePresetSelectImage:t[17],enablePresetDropImage:t[18],enableButtonFlipVertical:t[16],parentRect:t[35],toolSelectRadius:t[10],textInputMode:t[11],willStartInteraction:t[32],willRenderPresetToolbar:t[20]||t[12],hooks:{willRenderShapeControls:t[26],beforeAddShape:t[27],beforeRemoveShape:t[28],beforeDeselectShape:t[29],beforeSelectShape:t[30],beforeUpdateShape:t[31]}};return void 0!==t[0]&&(c.toolActive=t[0]),e=new Uy({props:c}),ja.push((function(){return bu(e,"toolActive",o,t[0])})),e.$on("measure",t[44]),{c:function(){yu(e.$$.fragment)},m:function(t,n){$u(e,t,n),r=!0},p:function(t,r){var o={};16&r[0]&&(o.stores=t[4]),32&r[0]&&(o.locale=t[5]),2&r[0]&&(o.isActive=t[1]),4&r[0]&&(o.isActiveFraction=t[2]),8&r[0]&&(o.isVisible=t[3]),8&r[1]&&(o.mapScreenPointToImagePoint=t[34]),4&r[1]&&(o.mapImagePointToScreenPoint=t[33]),8256&r[0]&&(o.toolbar=t[13]||t[6]),16512&r[0]&&(o.toolShapes=t[14]||t[7]),256&r[0]&&(o.toolRetainStyles=t[8]),33280&r[0]&&(o.shapeControls=t[15]||t[9]),524288&r[0]&&(o.shapePresets=t[19]),2097152&r[0]&&(o.enableSelectToolToAddShape=t[21]),4194304&r[0]&&(o.enableTapToAddText=t[22]),8388608&r[0]&&(o.enableViewTool=t[23]),16777216&r[0]&&(o.enableMoveTool=t[24]),33554432&r[0]&&(o.enableAutoSelectMoveTool=t[25]),131072&r[0]&&(o.enablePresetSelectImage=t[17]),262144&r[0]&&(o.enablePresetDropImage=t[18]),65536&r[0]&&(o.enableButtonFlipVertical=t[16]),1024&r[0]&&(o.toolSelectRadius=t[10]),2048&r[0]&&(o.textInputMode=t[11]),2&r[1]&&(o.willStartInteraction=t[32]),1052672&r[0]&&(o.willRenderPresetToolbar=t[20]||t[12]),2080374784&r[0]|1&r[1]&&(o.hooks={willRenderShapeControls:t[26],beforeAddShape:t[27],beforeRemoveShape:t[28],beforeDeselectShape:t[29],beforeSelectShape:t[30],beforeUpdateShape:t[31]}),!n&&1&r[0]&&(n=!0,o.toolActive=t[0],Ka((function(){return n=!1}))),e.$set(o)},i:function(t){r||(cu(e.$$.fragment,t),r=!0)},o:function(t){lu(e.$$.fragment,t),r=!1},d:function(t){xu(e,t)}}}function Zy(t,e,n){var r,o,c,l,d,f=e.isActive,h=e.isActiveFraction,v=e.isVisible,m=e.stores,y=e.locale,$=void 0===y?{}:y,x=e.markupEditorToolbar,w=void 0===x?void 0:x,P=e.markupEditorToolStyles,k=void 0===P?void 0:P,S=e.markupEditorToolRetainStyles,R=void 0===S?void 0:S,C=e.markupEditorShapeStyleControls,M=void 0===C?void 0:C,T=e.markupEditorToolSelectRadius,I=void 0===T?void 0:T,A=e.markupEditorTextInputMode,E=void 0===A?void 0:A,L=e.willRenderShapePresetToolbar,F=void 0===L?void 0:L,z=e.decorateTools,O=void 0===z?void 0:z,B=e.decorateToolShapes,D=void 0===B?void 0:B,_=e.decorateShapeControls,U=void 0===_?void 0:_,N=e.decorateActiveTool,W=void 0===N?void 0:N,j=e.decorateEnableButtonFlipVertical,V=void 0!==j&&j,G=e.decorateEnableSelectImagePreset,H=void 0!==G&&G,Z=e.decorateEnableDropImagePreset,X=void 0===Z||Z,Y=e.decoratePresets,K=void 0===Y?[]:Y,J=e.decorateWillRenderShapePresetToolbar,Q=void 0===J?void 0:J,tt=e.enableSelectToolToAddShape,et=void 0===tt?void 0:tt,nt=e.enableTapToAddText,it=void 0===nt?void 0:nt,ot=e.enableViewTool,at=void 0===ot?void 0:ot,ut=e.enableMoveTool,ct=void 0===ut?void 0:ut,lt=e.enableAutoSelectMoveTool,st=void 0===lt?void 0:lt,ft=e.willRenderShapeControls,pt=void 0===ft?void 0:ft,ht=e.beforeAddShape,vt=void 0===ht?void 0:ht,mt=e.beforeRemoveShape,gt=void 0===mt?void 0:mt,bt=e.beforeDeselectShape,yt=void 0===bt?void 0:bt,$t=e.beforeSelectShape,xt=void 0===$t?void 0:$t,wt=e.beforeUpdateShape,Pt=void 0===wt?void 0:wt,kt=e.markupEditorWillStartInteraction,St=void 0===kt?void 0:kt,Rt=m,Ct=Rt.imageCropRect,Mt=Rt.imageDecoration,Tt=Rt.imageSelectionRectPresentation,It=Rt.imageTransformsInterpolated;return Xo(t,Tt,(function(t){return n(41,l=t)})),Xo(t,It,(function(t){return n(42,d=t)})),t.$$set=function(t){"isActive"in t&&n(1,f=t.isActive),"isActiveFraction"in t&&n(2,h=t.isActiveFraction),"isVisible"in t&&n(3,v=t.isVisible),"stores"in t&&n(4,m=t.stores),"locale"in t&&n(5,$=t.locale),"markupEditorToolbar"in t&&n(6,w=t.markupEditorToolbar),"markupEditorToolStyles"in t&&n(7,k=t.markupEditorToolStyles),"markupEditorToolRetainStyles"in t&&n(8,R=t.markupEditorToolRetainStyles),"markupEditorShapeStyleControls"in t&&n(9,M=t.markupEditorShapeStyleControls),"markupEditorToolSelectRadius"in t&&n(10,I=t.markupEditorToolSelectRadius),"markupEditorTextInputMode"in t&&n(11,E=t.markupEditorTextInputMode),"willRenderShapePresetToolbar"in t&&n(12,F=t.willRenderShapePresetToolbar),"decorateTools"in t&&n(13,O=t.decorateTools),"decorateToolShapes"in t&&n(14,D=t.decorateToolShapes),"decorateShapeControls"in t&&n(15,U=t.decorateShapeControls),"decorateActiveTool"in t&&n(0,W=t.decorateActiveTool),"decorateEnableButtonFlipVertical"in t&&n(16,V=t.decorateEnableButtonFlipVertical),"decorateEnableSelectImagePreset"in t&&n(17,H=t.decorateEnableSelectImagePreset),"decorateEnableDropImagePreset"in t&&n(18,X=t.decorateEnableDropImagePreset),"decoratePresets"in t&&n(19,K=t.decoratePresets),"decorateWillRenderShapePresetToolbar"in t&&n(20,Q=t.decorateWillRenderShapePresetToolbar),"enableSelectToolToAddShape"in t&&n(21,et=t.enableSelectToolToAddShape),"enableTapToAddText"in t&&n(22,it=t.enableTapToAddText),"enableViewTool"in t&&n(23,at=t.enableViewTool),"enableMoveTool"in t&&n(24,ct=t.enableMoveTool),"enableAutoSelectMoveTool"in t&&n(25,st=t.enableAutoSelectMoveTool),"willRenderShapeControls"in t&&n(26,pt=t.willRenderShapeControls),"beforeAddShape"in t&&n(27,vt=t.beforeAddShape),"beforeRemoveShape"in t&&n(28,gt=t.beforeRemoveShape),"beforeDeselectShape"in t&&n(29,yt=t.beforeDeselectShape),"beforeSelectShape"in t&&n(30,xt=t.beforeSelectShape),"beforeUpdateShape"in t&&n(31,Pt=t.beforeUpdateShape),"markupEditorWillStartInteraction"in t&&n(32,St=t.markupEditorWillStartInteraction)},t.$$.update=function(){2048&t.$$.dirty[1]&&n(40,r=d?d.scale:1),1536&t.$$.dirty[1]&&n(34,o=function(t){var e=re(t);return e.x-=l.x,e.y-=l.y,e.x/=r,e.y/=r,e}),1536&t.$$.dirty[1]&&n(33,c=function(t){var e=re(t);return e.x*=r,e.y*=r,e.x+=l.x,e.y+=l.y,e})},[W,f,h,v,m,$,w,k,R,M,I,E,F,O,D,U,V,H,X,K,Q,et,it,at,ct,st,pt,vt,gt,yt,xt,Pt,St,c,o,Ct,Mt,Tt,It,"decorate",r,l,d,function(t){n(0,W=t)},function(e){Na.call(this,t,e)}]}var Xy={util:["decorate",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Zy,Hy,Go,{name:39,isActive:1,isActiveFraction:2,isVisible:3,stores:4,locale:5,markupEditorToolbar:6,markupEditorToolStyles:7,markupEditorToolRetainStyles:8,markupEditorShapeStyleControls:9,markupEditorToolSelectRadius:10,markupEditorTextInputMode:11,willRenderShapePresetToolbar:12,decorateTools:13,decorateToolShapes:14,decorateShapeControls:15,decorateActiveTool:0,decorateEnableButtonFlipVertical:16,decorateEnableSelectImagePreset:17,decorateEnableDropImagePreset:18,decoratePresets:19,decorateWillRenderShapePresetToolbar:20,enableSelectToolToAddShape:21,enableTapToAddText:22,enableViewTool:23,enableMoveTool:24,enableAutoSelectMoveTool:25,willRenderShapeControls:26,beforeAddShape:27,beforeRemoveShape:28,beforeDeselectShape:29,beforeSelectShape:30,beforeUpdateShape:31,markupEditorWillStartInteraction:32},null,[-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[39]}},{key:"isActive",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"isActiveFraction",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({isActiveFraction:t}),eu()}},{key:"isVisible",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({isVisible:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({locale:t}),eu()}},{key:"markupEditorToolbar",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({markupEditorToolbar:t}),eu()}},{key:"markupEditorToolStyles",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({markupEditorToolStyles:t}),eu()}},{key:"markupEditorToolRetainStyles",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({markupEditorToolRetainStyles:t}),eu()}},{key:"markupEditorShapeStyleControls",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({markupEditorShapeStyleControls:t}),eu()}},{key:"markupEditorToolSelectRadius",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({markupEditorToolSelectRadius:t}),eu()}},{key:"markupEditorTextInputMode",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({markupEditorTextInputMode:t}),eu()}},{key:"willRenderShapePresetToolbar",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({willRenderShapePresetToolbar:t}),eu()}},{key:"decorateTools",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({decorateTools:t}),eu()}},{key:"decorateToolShapes",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({decorateToolShapes:t}),eu()}},{key:"decorateShapeControls",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({decorateShapeControls:t}),eu()}},{key:"decorateActiveTool",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({decorateActiveTool:t}),eu()}},{key:"decorateEnableButtonFlipVertical",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({decorateEnableButtonFlipVertical:t}),eu()}},{key:"decorateEnableSelectImagePreset",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({decorateEnableSelectImagePreset:t}),eu()}},{key:"decorateEnableDropImagePreset",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({decorateEnableDropImagePreset:t}),eu()}},{key:"decoratePresets",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({decoratePresets:t}),eu()}},{key:"decorateWillRenderShapePresetToolbar",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({decorateWillRenderShapePresetToolbar:t}),eu()}},{key:"enableSelectToolToAddShape",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({enableSelectToolToAddShape:t}),eu()}},{key:"enableTapToAddText",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({enableTapToAddText:t}),eu()}},{key:"enableViewTool",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({enableViewTool:t}),eu()}},{key:"enableMoveTool",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({enableMoveTool:t}),eu()}},{key:"enableAutoSelectMoveTool",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({enableAutoSelectMoveTool:t}),eu()}},{key:"willRenderShapeControls",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({willRenderShapeControls:t}),eu()}},{key:"beforeAddShape",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({beforeAddShape:t}),eu()}},{key:"beforeRemoveShape",get:function(){return this.$$.ctx[28]},set:function(t){this.$$set({beforeRemoveShape:t}),eu()}},{key:"beforeDeselectShape",get:function(){return this.$$.ctx[29]},set:function(t){this.$$set({beforeDeselectShape:t}),eu()}},{key:"beforeSelectShape",get:function(){return this.$$.ctx[30]},set:function(t){this.$$set({beforeSelectShape:t}),eu()}},{key:"beforeUpdateShape",get:function(){return this.$$.ctx[31]},set:function(t){this.$$set({beforeUpdateShape:t}),eu()}},{key:"markupEditorWillStartInteraction",get:function(){return this.$$.ctx[32]},set:function(t){this.$$set({markupEditorWillStartInteraction:t}),eu()}}]),n}(Pu)]};function qy(t){var e,n;return(e=new Uy({props:{stores:t[3],locale:t[4],isActive:t[0],isActiveFraction:t[1],isVisible:t[2],mapScreenPointToImagePoint:t[24],mapImagePointToScreenPoint:t[23],utilKey:"sticker",shapePresets:t[5],shapes:t[6]?t[30]:t[31],toolActive:"preset",imageFlipX:!!t[6]&&t[22],imageFlipY:!!t[6]&&t[21],imageRotation:t[6]?t[26]:0,parentRect:t[6]?t[32]:t[28],enablePresetDropImage:t[7],enablePresetSelectImage:t[25],enableButtonFlipVertical:t[10]||t[8],toolSelectRadius:t[13],willStartInteraction:t[20],willRenderPresetToolbar:t[11]||t[9]||t[14],hooks:{willRenderShapeControls:t[12],beforeAddShape:t[15],beforeRemoveShape:t[16],beforeDeselectShape:t[17],beforeSelectShape:t[18],beforeUpdateShape:t[19]}}})).$on("measure",t[47]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};8&n[0]&&(r.stores=t[3]),16&n[0]&&(r.locale=t[4]),1&n[0]&&(r.isActive=t[0]),2&n[0]&&(r.isActiveFraction=t[1]),4&n[0]&&(r.isVisible=t[2]),16777216&n[0]&&(r.mapScreenPointToImagePoint=t[24]),8388608&n[0]&&(r.mapImagePointToScreenPoint=t[23]),32&n[0]&&(r.shapePresets=t[5]),64&n[0]&&(r.shapes=t[6]?t[30]:t[31]),4194368&n[0]&&(r.imageFlipX=!!t[6]&&t[22]),2097216&n[0]&&(r.imageFlipY=!!t[6]&&t[21]),67108928&n[0]&&(r.imageRotation=t[6]?t[26]:0),64&n[0]&&(r.parentRect=t[6]?t[32]:t[28]),128&n[0]&&(r.enablePresetDropImage=t[7]),33554432&n[0]&&(r.enablePresetSelectImage=t[25]),1280&n[0]&&(r.enableButtonFlipVertical=t[10]||t[8]),8192&n[0]&&(r.toolSelectRadius=t[13]),1048576&n[0]&&(r.willStartInteraction=t[20]),18944&n[0]&&(r.willRenderPresetToolbar=t[11]||t[9]||t[14]),1019904&n[0]&&(r.hooks={willRenderShapeControls:t[12],beforeAddShape:t[15],beforeRemoveShape:t[16],beforeDeselectShape:t[17],beforeSelectShape:t[18],beforeUpdateShape:t[19]}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function Yy(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,w=e.isActive,P=e.isActiveFraction,k=e.isVisible,S=e.stores,R=e.locale,C=void 0===R?{}:R,M=e.stickers,T=void 0===M?[]:M,I=e.stickerStickToImage,A=void 0!==I&&I,E=e.stickerEnableSelectImagePreset,L=void 0===E||E,F=e.stickerEnableDropImagePreset,z=void 0===F||F,O=e.stickerEnableButtonFlipVertical,B=void 0!==O&&O,D=e.stickerWillRenderShapePresetToolbar,_=void 0===D?void 0:D,U=e.stickerEnableSelectImage,N=void 0===U||U,W=e.stickersEnableButtonFlipVertical,j=void 0!==W&&W,V=e.stickersWillRenderShapePresetToolbar,G=void 0===V?void 0:V,H=e.willRenderShapeControls,Z=void 0===H?void 0:H,X=e.markupEditorToolSelectRadius,Y=void 0===X?void 0:X,K=e.willRenderShapePresetToolbar,J=void 0===K?void 0:K,Q=e.beforeAddShape,tt=void 0===Q?void 0:Q,et=e.beforeRemoveShape,nt=void 0===et?void 0:et,it=e.beforeDeselectShape,ot=void 0===it?void 0:it,at=e.beforeSelectShape,ut=void 0===at?void 0:at,ct=e.beforeUpdateShape,lt=void 0===ct?void 0:ct,st=e.markupEditorWillStartInteraction,ft=void 0===st?void 0:st,pt=S,ht=pt.rootRect,vt=pt.imageCropRect,mt=pt.imageSelectionRectPresentation,gt=pt.imageAnnotation,bt=pt.imageDecoration,yt=pt.imageSize,$t=pt.imageTransforms,xt=pt.imageTransformsInterpolated,wt=pt.imageRotation,Pt=pt.imageFlipX,kt=pt.imageFlipY;return Xo(t,ht,(function(t){return n(46,$=t)})),Xo(t,mt,(function(t){return n(42,d=t)})),Xo(t,yt,(function(t){return n(45,y=t)})),Xo(t,$t,(function(t){return n(44,m=t)})),Xo(t,xt,(function(t){return n(43,v=t)})),Xo(t,wt,(function(t){return n(26,x=t)})),Xo(t,Pt,(function(t){return n(22,h=t)})),Xo(t,kt,(function(t){return n(21,f=t)})),t.$$set=function(t){"isActive"in t&&n(0,w=t.isActive),"isActiveFraction"in t&&n(1,P=t.isActiveFraction),"isVisible"in t&&n(2,k=t.isVisible),"stores"in t&&n(3,S=t.stores),"locale"in t&&n(4,C=t.locale),"stickers"in t&&n(5,T=t.stickers),"stickerStickToImage"in t&&n(6,A=t.stickerStickToImage),"stickerEnableSelectImagePreset"in t&&n(39,L=t.stickerEnableSelectImagePreset),"stickerEnableDropImagePreset"in t&&n(7,z=t.stickerEnableDropImagePreset),"stickerEnableButtonFlipVertical"in t&&n(8,B=t.stickerEnableButtonFlipVertical),"stickerWillRenderShapePresetToolbar"in t&&n(9,_=t.stickerWillRenderShapePresetToolbar),"stickerEnableSelectImage"in t&&n(40,N=t.stickerEnableSelectImage),"stickersEnableButtonFlipVertical"in t&&n(10,j=t.stickersEnableButtonFlipVertical),"stickersWillRenderShapePresetToolbar"in t&&n(11,G=t.stickersWillRenderShapePresetToolbar),"willRenderShapeControls"in t&&n(12,Z=t.willRenderShapeControls),"markupEditorToolSelectRadius"in t&&n(13,Y=t.markupEditorToolSelectRadius),"willRenderShapePresetToolbar"in t&&n(14,J=t.willRenderShapePresetToolbar),"beforeAddShape"in t&&n(15,tt=t.beforeAddShape),"beforeRemoveShape"in t&&n(16,nt=t.beforeRemoveShape),"beforeDeselectShape"in t&&n(17,ot=t.beforeDeselectShape),"beforeSelectShape"in t&&n(18,ut=t.beforeSelectShape),"beforeUpdateShape"in t&&n(19,lt=t.beforeUpdateShape),"markupEditorWillStartInteraction"in t&&n(20,ft=t.markupEditorWillStartInteraction)},t.$$.update=function(){4096&t.$$.dirty[1]&&n(41,r=v?v.scale:1),768&t.$$.dirty[1]&&n(25,o=!1!==L&&N),6291520&t.$$.dirty[0]|64512&t.$$.dirty[1]&&n(24,c=A?function(t){return Wy(t,$,y,v.origin,v.translation,m.rotation.z,v.scale,h,f)}:function(t){var e=re(t);return e.x-=d.x,e.y-=d.y,e.x/=r,e.y/=r,e}),6291520&t.$$.dirty[0]|64512&t.$$.dirty[1]&&n(23,l=A?function(t){return Ny(t,$,y,v.origin,v.translation,m.rotation.z,v.scale,h,f)}:function(t){var e=re(t);return e.x*=r,e.y*=r,e.x+=d.x,e.y+=d.y,e})},[w,P,k,S,C,T,A,z,B,_,j,G,Z,Y,J,tt,nt,ot,ut,lt,ft,f,h,l,c,o,x,ht,vt,mt,gt,bt,yt,$t,xt,wt,Pt,kt,"sticker",L,N,r,d,v,m,y,$,function(e){Na.call(this,t,e)}]}var Ky={util:["sticker",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,Yy,qy,Go,{name:38,isActive:0,isActiveFraction:1,isVisible:2,stores:3,locale:4,stickers:5,stickerStickToImage:6,stickerEnableSelectImagePreset:39,stickerEnableDropImagePreset:7,stickerEnableButtonFlipVertical:8,stickerWillRenderShapePresetToolbar:9,stickerEnableSelectImage:40,stickersEnableButtonFlipVertical:10,stickersWillRenderShapePresetToolbar:11,willRenderShapeControls:12,markupEditorToolSelectRadius:13,willRenderShapePresetToolbar:14,beforeAddShape:15,beforeRemoveShape:16,beforeDeselectShape:17,beforeSelectShape:18,beforeUpdateShape:19,markupEditorWillStartInteraction:20},null,[-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[38]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"isActiveFraction",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({isActiveFraction:t}),eu()}},{key:"isVisible",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({isVisible:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({locale:t}),eu()}},{key:"stickers",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({stickers:t}),eu()}},{key:"stickerStickToImage",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({stickerStickToImage:t}),eu()}},{key:"stickerEnableSelectImagePreset",get:function(){return this.$$.ctx[39]},set:function(t){this.$$set({stickerEnableSelectImagePreset:t}),eu()}},{key:"stickerEnableDropImagePreset",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({stickerEnableDropImagePreset:t}),eu()}},{key:"stickerEnableButtonFlipVertical",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({stickerEnableButtonFlipVertical:t}),eu()}},{key:"stickerWillRenderShapePresetToolbar",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({stickerWillRenderShapePresetToolbar:t}),eu()}},{key:"stickerEnableSelectImage",get:function(){return this.$$.ctx[40]},set:function(t){this.$$set({stickerEnableSelectImage:t}),eu()}},{key:"stickersEnableButtonFlipVertical",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({stickersEnableButtonFlipVertical:t}),eu()}},{key:"stickersWillRenderShapePresetToolbar",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({stickersWillRenderShapePresetToolbar:t}),eu()}},{key:"willRenderShapeControls",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({willRenderShapeControls:t}),eu()}},{key:"markupEditorToolSelectRadius",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({markupEditorToolSelectRadius:t}),eu()}},{key:"willRenderShapePresetToolbar",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({willRenderShapePresetToolbar:t}),eu()}},{key:"beforeAddShape",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({beforeAddShape:t}),eu()}},{key:"beforeRemoveShape",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({beforeRemoveShape:t}),eu()}},{key:"beforeDeselectShape",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({beforeDeselectShape:t}),eu()}},{key:"beforeSelectShape",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({beforeSelectShape:t}),eu()}},{key:"beforeUpdateShape",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({beforeUpdateShape:t}),eu()}},{key:"markupEditorWillStartInteraction",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({markupEditorWillStartInteraction:t}),eu()}}]),n}(Pu)]};function Jy(t){var div,e,n,span,r,o=(t[14](t[33].value)||"")+"",c=(vt(t[33].label)?t[33].label(t[1]):t[33].label)+"";return{c:function(){div=element("div"),e=new Ra(!1),n=ma(),span=element("span"),r=text(c),e.a=n,xa(div,"slot","option")},m:function(t,c){pa(t,div,c),e.m(o,div),sa(div,n),sa(div,span),sa(span,r)},p:function(t,n){4&n[1]&&o!==(o=(t[14](t[33].value)||"")+"")&&e.p(o),2&n[0]|4&n[1]&&c!==(c=(vt(t[33].label)?t[33].label(t[1]):t[33].label)+"")&&Pa(r,c)},d:function(t){t&&ha(div)}}}function Qy(t){var e,n;return e=new Ef({props:{locale:t[1],class:"PinturaControlList",layout:"row",options:t[2],selectedIndex:t[6],onchange:t[12],$$slots:{option:[Jy,function(t){return{33:t.option}},function(t){return[0,t.option?4:0]}]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};2&n[0]&&(r.locale=t[1]),4&n[0]&&(r.options=t[2]),64&n[0]&&(r.selectedIndex=t[6]),2&n[0]|12&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function t$(t){var div,e,n,r,o;return e=new Jb({props:{locale:t[1],class:"PinturaControlPanels",shape:t[4],onchange:t[13],controls:t[3],scrollElasticity:t[7]}}),r=new bd({props:{elasticity:t[10],$$slots:{default:[Qy]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),yu(e.$$.fragment),n=ma(),yu(r.$$.fragment),xa(div,"slot","footer"),xa(div,"style",t[5])},m:function(t,c){pa(t,div,c),$u(e,div,null),sa(div,n),$u(r,div,null),o=!0},p:function(t,n){var c={};2&n[0]&&(c.locale=t[1]),16&n[0]&&(c.shape=t[4]),8&n[0]&&(c.controls=t[3]),128&n[0]&&(c.scrollElasticity=t[7]),e.$set(c);var l={};70&n[0]|8&n[1]&&(l.$$scope={dirty:n,ctx:t}),r.$set(l),(!o||32&n[0])&&xa(div,"style",t[5])},i:function(t){o||(cu(e.$$.fragment,t),cu(r.$$.fragment,t),o=!0)},o:function(t){lu(e.$$.fragment,t),lu(r.$$.fragment,t),o=!1},d:function(t){t&&ha(div),xu(e),xu(r)}}}function e$(t){var e,n;return(e=new qm({props:{$$slots:{footer:[t$]},$$scope:{ctx:t}}})).$on("measure",t[23]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};254&n[0]|8&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function n$(t,e,n){var r,o,c,l,d,f,h,v,m=Do,y=function(){return m(),m=Ho($,(function(t){return n(20,d=t)})),$};t.$$.on_destroy.push((function(){return m()}));var $=e.isActive;y();var x=e.stores,P=e.locale,k=void 0===P?{}:P,S=e.frameStyles,R=void 0===S?{}:S,C=e.frameOptions,M=void 0===C?[]:C,T=e.markupEditorShapeStyleControls,I=void 0===T?void 0:T,A=Ua("elasticityMultiplier");Xo(t,A,(function(t){return n(22,v=t)}));var E=x,L=E.history,F=E.animation,O=E.scrollElasticity,B=E.imageFrame,D=E.allowPan,_=E.allowZoom,U=E.allowZoomControls;Xo(t,F,(function(t){return n(21,f=t)})),Xo(t,B,(function(t){return n(4,h=t)}));var N,W={};var j=Zl(f?20:0);return Xo(t,j,(function(t){return n(19,l=t)})),t.$$set=function(t){"isActive"in t&&y(n(0,$=t.isActive)),"stores"in t&&n(17,x=t.stores),"locale"in t&&n(1,k=t.locale),"frameStyles"in t&&n(18,R=t.frameStyles),"frameOptions"in t&&n(2,M=t.frameOptions),"markupEditorShapeStyleControls"in t&&n(3,I=t.markupEditorShapeStyleControls)},t.$$.update=function(){1048576&t.$$.dirty[0]&&D.set(d),1048576&t.$$.dirty[0]&&_.set(d),1048576&t.$$.dirty[0]&&U.set(d),4194304&t.$$.dirty[0]&&n(7,r=v*O),20&t.$$.dirty[0]&&n(6,o=h?M.findIndex((function(t){return(0,w.default)(t,1)[0]===h.id})):0),3145728&t.$$.dirty[0]&&f&&j.set(d?0:20),524288&t.$$.dirty[0]&&n(5,c=l?"transform: translateY(".concat(l,"px)"):void 0)},[$,k,M,I,h,c,o,r,A,F,O,B,function(t){var e=t.value,n=R[e];if(!n||!n.shape)return B.set(void 0),void L.write();var r=n.shape,o=z(z({id:e},hi(r)),Object.keys(W).reduce((function(t,e){return r[e]?(t[e]=W[e],t):t}),{}));B.set(o),L.write()},function(t){Rr(t,"frameColor")&&(W.frameColor=t.frameColor),h&&(lo(h,t),B.set(h),clearTimeout(N),N=setTimeout((function(){L.write()}),200))},function(t){var e,n=R[t];if(n&&n.thumb)return e=n.thumb,/div/i.test(e)||cy(e)?e:/rect|path|circle|line|<g>/i.test(e)?'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" stroke-width="1" stroke="currentColor" fill="none" aria-hidden="true" focusable="false" stroke-linecap="round" stroke-linejoin="round">'.concat(e,"</svg>"):'<img src="'.concat(e,'" alt=""/>')},j,"frame",x,R,l,d,f,v,function(e){Na.call(this,t,e)}]}var r$={util:["frame",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,n$,e$,Go,{name:16,isActive:0,stores:17,locale:1,frameStyles:18,frameOptions:2,markupEditorShapeStyleControls:3},null,[-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[16]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({locale:t}),eu()}},{key:"frameStyles",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({frameStyles:t}),eu()}},{key:"frameOptions",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({frameOptions:t}),eu()}},{key:"markupEditorShapeStyleControls",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({markupEditorShapeStyleControls:t}),eu()}}]),n}(Pu),function(t){return!t.duration}]};function i$(t){var div,input,e,n,r,o,c,l;return{c:function(){div=element("div"),input=element("input"),n=ma(),r=element("label"),o=text(t[1]),xa(input,"id",t[0]),xa(input,"type","number"),xa(input,"min","1"),xa(input,"inputmode","numeric"),xa(input,"pattern","[0-9]*"),xa(input,"data-state",t[3]),xa(input,"autocomplete","off"),xa(input,"placeholder",t[4]),input.value=e=void 0===t[5]?"":t[7](t[5]+""),xa(r,"for",t[0]),xa(r,"title",t[2]),xa(r,"aria-label",t[2]),xa(div,"class","PinturaInputDimension")},m:function(e,d){pa(e,div,d),sa(div,input),sa(div,n),sa(div,r),sa(r,o),c||(l=ba(input,"input",t[8]),c=!0)},p:function(t,n){var c=(0,w.default)(n,1)[0];1&c&&xa(input,"id",t[0]),8&c&&xa(input,"data-state",t[3]),16&c&&xa(input,"placeholder",t[4]),160&c&&e!==(e=void 0===t[5]?"":t[7](t[5]+""))&&input.value!==e&&(input.value=e),2&c&&Pa(o,t[1]),1&c&&xa(r,"for",t[0]),4&c&&xa(r,"title",t[2]),4&c&&xa(r,"aria-label",t[2])},i:Do,o:Do,d:function(t){t&&ha(div),c=!1,l()}}}function o$(t,e,n){var r=e.id,label=e.label,title=e.title,o=e.state,c=e.placeholder,l=e.value,d=e.onchange,f=e.format,h=void 0===f?function(t){return t.replace(/\D/g,"")}:f;return t.$$set=function(t){"id"in t&&n(0,r=t.id),"label"in t&&n(1,label=t.label),"title"in t&&n(2,title=t.title),"state"in t&&n(3,o=t.state),"placeholder"in t&&n(4,c=t.placeholder),"value"in t&&n(5,l=t.value),"onchange"in t&&n(6,d=t.onchange),"format"in t&&n(7,h=t.format)},[r,label,title,o,c,l,d,h,function(t){return d(h(t.currentTarget.value))}]}var a$=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,o$,i$,Go,{id:0,label:1,title:2,state:3,placeholder:4,value:5,onchange:6,format:7}),r}return(0,d.default)(n)}(Pu);function u$(t){var g;return{c:function(){g=va("g")},m:function(e,n){pa(e,g,n),g.innerHTML=t[2]},p:function(t,e){4&e&&(g.innerHTML=t[2])},d:function(t){t&&ha(g)}}}function c$(t){var div,input,e,label,n,r,o,c;return n=new _s({props:{$$slots:{default:[u$]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),input=element("input"),e=ma(),label=element("label"),yu(n.$$.fragment),xa(input,"id",t[0]),xa(input,"class","implicit"),xa(input,"type","checkbox"),input.checked=t[1],xa(label,"for",t[0]),xa(label,"title",t[3])},m:function(l,d){pa(l,div,d),sa(div,input),sa(div,e),sa(div,label),$u(n,label,null),r=!0,o||(c=ba(input,"change",t[5]),o=!0)},p:function(t,e){var o=(0,w.default)(e,1)[0];(!r||1&o)&&xa(input,"id",t[0]),(!r||2&o)&&(input.checked=t[1]);var c={};68&o&&(c.$$scope={dirty:o,ctx:t}),n.$set(c),(!r||1&o)&&xa(label,"for",t[0]),(!r||8&o)&&xa(label,"title",t[3])},i:function(t){r||(cu(n.$$.fragment,t),r=!0)},o:function(t){lu(n.$$.fragment,t),r=!1},d:function(t){t&&ha(div),xu(n),o=!1,c()}}}function l$(t,e,n){var r=e.id,o=e.locked,c=e.icon,title=e.title,l=e.onchange;return t.$$set=function(t){"id"in t&&n(0,r=t.id),"locked"in t&&n(1,o=t.locked),"icon"in t&&n(2,c=t.icon),"title"in t&&n(3,title=t.title),"onchange"in t&&n(4,l=t.onchange)},[r,o,c,title,l,function(t){return l(t.currentTarget.checked)}]}var s$=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,l$,c$,Go,{id:0,locked:1,icon:2,title:3,onchange:4}),r}return(0,d.default)(n)}(Pu);function d$(t){var e;return{c:function(){e=text("Save")},m:function(t,n){pa(t,e,n)},d:function(t){t&&ha(e)}}}function f$(t){var form,e,fieldset,legend,n,r,o,c,l,button,d,f,h,v=t[1].resizeLabelFormCaption+"";return c=new vp({props:{items:t[4]}}),button=new rd({props:{type:"submit",class:"implicit",$$slots:{default:[d$]},$$scope:{ctx:t}}}),{c:function(){form=element("form"),e=element("div"),fieldset=element("fieldset"),legend=element("legend"),n=text(v),r=ma(),o=element("div"),yu(c.$$.fragment),l=ma(),yu(button.$$.fragment),xa(legend,"class","implicit"),xa(o,"class","PinturaFieldsetInner"),xa(e,"class","PinturaFormInner"),xa(form,"slot","footer"),xa(form,"style",t[3])},m:function(v,m){pa(v,form,m),sa(form,e),sa(e,fieldset),sa(fieldset,legend),sa(legend,n),sa(fieldset,r),sa(fieldset,o),$u(c,o,null),t[64](o),sa(e,l),$u(button,e,null),d=!0,f||(h=[ba(o,"focusin",t[15]),ba(o,"focusout",t[16]),ba(form,"submit",ya(t[17]))],f=!0)},p:function(t,e){(!d||2&e[0])&&v!==(v=t[1].resizeLabelFormCaption+"")&&Pa(n,v);var r={};16&e[0]&&(r.items=t[4]),c.$set(r);var o={};4&e[3]&&(o.$$scope={dirty:e,ctx:t}),button.$set(o),(!d||8&e[0])&&xa(form,"style",t[3])},i:function(t){d||(cu(c.$$.fragment,t),cu(button.$$.fragment,t),d=!0)},o:function(t){lu(c.$$.fragment,t),lu(button.$$.fragment,t),d=!1},d:function(e){e&&ha(form),xu(c),t[64](null),xu(button),f=!1,jo(h)}}}function p$(t){var e,n;return(e=new qm({props:{$$slots:{footer:[f$]},$$scope:{ctx:t}}})).$on("measure",t[65]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};30&n[0]|4&n[3]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function h$(t,e,n){var r,o,c,l,d,f,h,v,m,y,$,x,P,k,S,R,C,M,T,I,A,E,L,F,O,B,D,_,U,N,W=Do,j=function(){return W(),W=Ho(G,(function(t){return n(48,$=t)})),G};t.$$.on_destroy.push((function(){return W()}));var V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9999;if(!ht(t)||(t=t.replace(/\D/g,"")).length){var r=Math.round(t);if(!Number.isNaN(r))return Zu(r,e,n)}},G=e.isActive;j();var H=e.stores,Z=e.locale,X=void 0===Z?{}:Z,Y=e.resizeMinSize,K=void 0===Y?Te(1,1):Y,J=e.resizeMaxSize,Q=void 0===J?Te(9999,9999):J,tt=e.resizeSizePresetOptions,et=void 0===tt?void 0:tt,nt=e.resizeWidthPresetOptions,it=void 0===nt?void 0:nt,ot=e.resizeHeightPresetOptions,at=void 0===ot?void 0:ot,ut=e.resizeWillRenderFooter,ct=void 0===ut?zt:ut,lt=Zl(0,{stiffness:.15,damping:.3});Xo(t,lt,(function(t){return n(53,R=t)}));var st=H,ft=st.animation,pt=st.imageSize,vt=st.imageCropRect,mt=st.imageCropRectAspectRatio,gt=st.imageCropAspectRatio,bt=st.imageOutputSize,yt=st.imageSelectionZoom,xt=st.imageSelectionPan,wt=st.history,Pt=st.env,kt=st.allowPan,St=st.allowZoom,Rt=st.allowZoomControls;Xo(t,ft,(function(t){return n(49,x=t)})),Xo(t,pt,(function(t){return n(72,_=t)})),Xo(t,vt,(function(t){return n(51,k=t)})),Xo(t,mt,(function(t){return n(52,S=t)})),Xo(t,gt,(function(t){return n(71,F=t)})),Xo(t,bt,(function(t){return n(60,L=t)})),Xo(t,yt,(function(t){return n(73,U=t)})),Xo(t,xt,(function(t){return n(74,N=t)})),Xo(t,Pt,(function(t){return n(50,P=t)}));var Ct,Mt,Tt,It,At,Et,Lt=$t(),Ot=!1,Bt=Qt(),Dt=function(t,e,n,r,o){return null!=t&&n!==e?t>=r[e]&&t<=o[e]?"valid":"invalid":"undetermined"},_t=function(t,e,n){return Math.round(null!=t?t/e:n.height)},Ut=function(){Ot&&Mt&&Tt&&("width"===It?n(38,Tt=Math.round(Mt/S)):"height"===It?n(37,Mt=Math.round(Tt*S)):("width"===At?n(38,Tt=Math.round(Mt/S)):"height"===At&&n(37,Mt=Math.round(Tt*S)),Nt()))},Nt=function(t){var e=V(Mt),r=V(Tt),o=e,c=r,l=o&&c,d=t||S;if(o||c){o&&!c?c=Math.round(o/d):c&&!o&&(o=Math.round(c*d)),d=t||l?Ft(o,c):S;var f=Te(o,c);Fe(Q,f)||(f=sn(Q,d)),Fe(f,K)||(f=ln(K,d)),n(37,Mt=null!=e?Math.round(f.width):void 0),n(38,Tt=null!=r?Math.round(f.height):void 0)}},Wt=function(){Nt();var t=L||{},e=t.width,n=t.height;e===Mt&&n===Tt||(Mt||Tt?(Mt&&Tt&&na(gt,F=Mt/Tt,F),na(bt,L=Te(Mt,Tt),L)):(na(gt,F=_.width/_.height,F),na(gt,F=void 0,F),na(bt,L=void 0,L)),wt.write())},jt=bt.subscribe((function(t){if(!t)return n(37,Mt=void 0),void n(38,Tt=void 0);n(37,Mt=t.width),n(38,Tt=t.height),Nt()})),Vt=gt.subscribe((function(t){(Mt||Tt)&&t&&(Mt&&Tt&&Ft(Mt,Tt)!==t?(n(38,Tt=Mt/t),Nt(t)):Nt())})),Gt=function t(option){return ht(option[0])?(option[1]=option[1].map(t),option):kr(option)?[option,""+option]:option},Ht=function t(option){if(ht(option[0]))return option[1]=option[1].map(t),option;var e=(0,w.default)(option,2),n=e[0],label=e[1];if(kr(n)&&kr(label)){var r=n,o=label;label="".concat(r," &times; ").concat(o),n=[r,o]}return[n,label]},Zt=Ru();Xo(t,Zt,(function(t){return n(59,E=t)}));var Xt=Ru();Xo(t,Xt,(function(t){return n(63,D=t)}));var qt=Ru();Xo(t,qt,(function(t){return n(57,I=t)}));var Yt=Ru();Xo(t,Yt,(function(t){return n(62,B=t)}));var Kt=Ru();Xo(t,Kt,(function(t){return n(55,M=t)}));var Jt=Ru();Xo(t,Jt,(function(t){return n(61,O=t)}));var te=Cu([bt,Xt],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];if(!o)return e(-1);var c=o.findIndex((function(t){var e=(0,w.default)(t,1)[0];if(!e&&!r)return!0;if(!e)return!1;var n=(0,w.default)(e,2),o=n[0],c=n[1];return r.width===o&&r.height===c}));e(c<0?0:c)}));Xo(t,te,(function(t){return n(58,A=t)}));var ee=Cu([bt,Yt],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];if(!o)return e(-1);var c=o.findIndex((function(t){var e=(0,w.default)(t,1)[0];return!e&&!r||!!e&&r.width===e}));e(c<0?0:c)}));Xo(t,ee,(function(t){return n(56,T=t)}));var ne=Cu([bt,Jt],(function(t,e){var n=(0,w.default)(t,2),r=n[0],o=n[1];if(!o)return e(-1);var c=o.findIndex((function(t){var e=(0,w.default)(t,1)[0];return!e&&!r||!!e&&r.height===e}));e(c<0?0:c)}));Xo(t,ne,(function(t){return n(54,C=t)}));var re=void 0,ie=void 0,oe=Ua("redrawTrigger"),ae=Zl(x?20:0);return Xo(t,ae,(function(t){return n(47,y=t)})),Ba((function(){jt(),Vt()})),t.$$set=function(t){"isActive"in t&&j(n(0,G=t.isActive)),"stores"in t&&n(29,H=t.stores),"locale"in t&&n(1,X=t.locale),"resizeMinSize"in t&&n(30,K=t.resizeMinSize),"resizeMaxSize"in t&&n(31,Q=t.resizeMaxSize),"resizeSizePresetOptions"in t&&n(32,et=t.resizeSizePresetOptions),"resizeWidthPresetOptions"in t&&n(33,it=t.resizeWidthPresetOptions),"resizeHeightPresetOptions"in t&&n(34,at=t.resizeHeightPresetOptions),"resizeWillRenderFooter"in t&&n(35,ct=t.resizeWillRenderFooter)},t.$$.update=function(){var e;131072&t.$$.dirty[1]&&kt.set(!$),131072&t.$$.dirty[1]&&St.set(!$),131072&t.$$.dirty[1]&&Rt.set(!$),268435458&t.$$.dirty[1]&&et&&(na(Zt,E=et.map(Ht),E),na(Xt,D=ef(E),D)),268435456&t.$$.dirty[1]&&n(46,l=!!E),134217728&t.$$.dirty[1]|2&t.$$.dirty[2]&&n(45,r=A>-1&&D[A][1]),67108868&t.$$.dirty[1]&&it&&(na(qt,I=it.map(Gt),I),na(Yt,B=ef(I),B)),67141632&t.$$.dirty[1]&&n(43,d=!l&&I),33554432&t.$$.dirty[1]|1&t.$$.dirty[2]&&n(44,o=T>-1&&B[T][1]),16777224&t.$$.dirty[1]&&at&&(na(Kt,M=at.map(Gt),M),na(Jt,O=ef(M),O)),16809984&t.$$.dirty[1]&&n(42,f=!l&&M),1082130432&t.$$.dirty[1]&&n(41,c=C>-1&&O[C][1]),38912&t.$$.dirty[1]&&n(40,h=!l&&!d&&!f),1073741826&t.$$.dirty[0]|536412145&t.$$.dirty[1]&&n(4,v=oe&&Bp((function(){return ct([l&&["Dropdown","size-presets",{label:r,options:E,onchange:function(t){return(e=t.value)&&!re&&(re=z({},k),ie=F),e?(na(gt,F=Ft(e[0],e[1]),F),na(bt,L=Ce(e),L)):(na(vt,k=re,k),na(gt,F=ie,F),na(bt,L=void 0,L),re=void 0,ie=void 0),void wt.write();var e},selectedIndex:A}],d&&["Dropdown","width-presets",{label:o,options:I,onchange:function(t){n(37,Mt=t.value),Wt()},selectedIndex:T}],d&&f&&["span","times",{class:"PinturaResizeLabel",innerHTML:"&times;"}],f&&["Dropdown","height-presets",{label:c,options:M,onchange:function(t){n(38,Tt=t.value),Wt()},selectedIndex:C}],h&&[a$,"width-input",{id:"width-".concat(Lt),title:X.resizeTitleInputWidth,label:X.resizeLabelInputWidth,placeholder:(t=V(Tt),e=S,v=k,Math.round(null!=t?t*e:v.width)),value:Mt,state:Dt(V(Mt),"width",It,K,Q),onchange:function(t){n(37,Mt=t),Ut()}}],h&&[s$,"aspect-ratio-lock",{id:"aspect-ratio-lock-".concat(Lt),title:X.resizeTitleButtonMaintainAspectRatio,icon:ht(X.resizeIconButtonMaintainAspectRatio)?X.resizeIconButtonMaintainAspectRatio:X.resizeIconButtonMaintainAspectRatio(Ot,R),locked:Ot,onchange:function(t){n(36,Ot=t),Ut()}}],h&&[a$,"height-input",{id:"height-".concat(Lt),title:X.resizeTitleInputHeight,label:X.resizeLabelInputHeight,placeholder:_t(V(Mt),S,k),value:Tt,state:Dt(V(Tt),"height",It,K,Q),onchange:function(t){n(38,Tt=t),Ut()}}]].filter(Boolean),z({},P),(function(){return oe.set({})}));var t,e,v})).filter(Boolean)),32&t.$$.dirty[1]&&lt.set(Ot?1:0),256&t.$$.dirty[1]&&It&&(At=It),131072&t.$$.dirty[1]&&$&&(Bt=N,Et=U),537001984&t.$$.dirty[1]&&($?(e=L,na(xt,N=Qt(),N),na(yt,U=e&&k?e.width/k.width||e.height/k.height:1,U)):(na(xt,N=Bt,N),na(yt,U=Et,U))),393216&t.$$.dirty[1]&&x&&ae.set($?0:20),65536&t.$$.dirty[1]&&n(3,m=y?"transform: translateY(".concat(y,"px)"):void 0)},[G,X,Ct,m,v,lt,ft,pt,vt,mt,gt,bt,yt,xt,Pt,function(t){var e=t.target.id;/width/.test(e)?n(39,It="width"):/height/.test(e)?n(39,It="height"):/aspectRatio/i.test(e)?n(39,It="lock"):n(39,It=void 0)},function(t){Ct.contains(t.relatedTarget)||Wt(),n(39,It=void 0)},Wt,Zt,Xt,qt,Yt,Kt,Jt,te,ee,ne,ae,"resize",H,K,Q,et,it,at,ct,Ot,Mt,Tt,It,h,c,f,d,o,r,l,y,$,x,P,k,S,R,C,M,T,I,A,E,L,O,B,D,function(t){ja[t?"unshift":"push"]((function(){n(2,Ct=t)}))},function(e){Na.call(this,t,e)}]}var v$={util:["resize",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,h$,p$,Go,{name:28,isActive:0,stores:29,locale:1,resizeMinSize:30,resizeMaxSize:31,resizeSizePresetOptions:32,resizeWidthPresetOptions:33,resizeHeightPresetOptions:34,resizeWillRenderFooter:35},null,[-1,-1,-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[28]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[29]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({locale:t}),eu()}},{key:"resizeMinSize",get:function(){return this.$$.ctx[30]},set:function(t){this.$$set({resizeMinSize:t}),eu()}},{key:"resizeMaxSize",get:function(){return this.$$.ctx[31]},set:function(t){this.$$set({resizeMaxSize:t}),eu()}},{key:"resizeSizePresetOptions",get:function(){return this.$$.ctx[32]},set:function(t){this.$$set({resizeSizePresetOptions:t}),eu()}},{key:"resizeWidthPresetOptions",get:function(){return this.$$.ctx[33]},set:function(t){this.$$set({resizeWidthPresetOptions:t}),eu()}},{key:"resizeHeightPresetOptions",get:function(){return this.$$.ctx[34]},set:function(t){this.$$set({resizeHeightPresetOptions:t}),eu()}},{key:"resizeWillRenderFooter",get:function(){return this.$$.ctx[35]},set:function(t){this.$$set({resizeWillRenderFooter:t}),eu()}}]),n}(Pu),function(t){return!t.duration}]};function m$(t){var e,n;return(e=new Uy({props:{stores:t[3],locale:t[4],isActive:t[0],isActiveFraction:t[1],isVisible:t[2],mapScreenPointToImagePoint:t[9],mapImagePointToScreenPoint:t[8],utilKey:"redact",imageRotation:t[10],imageFlipX:t[7],imageFlipY:t[6],shapes:t[11],toolbar:["rect"],toolShapes:{rectangle:[{x:0,y:0,width:0,height:0}]},toolActive:"rectangle",parentRect:t[13],enablePresetDropImage:!1,enablePresetSelectImage:!1,willStartInteraction:t[5],hooks:{willRenderShapeControls:t[24]}}})).$on("measure",t[25]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r=(0,w.default)(n,1)[0],o={};8&r&&(o.stores=t[3]),16&r&&(o.locale=t[4]),1&r&&(o.isActive=t[0]),2&r&&(o.isActiveFraction=t[1]),4&r&&(o.isVisible=t[2]),512&r&&(o.mapScreenPointToImagePoint=t[9]),256&r&&(o.mapImagePointToScreenPoint=t[8]),1024&r&&(o.imageRotation=t[10]),128&r&&(o.imageFlipX=t[7]),64&r&&(o.imageFlipY=t[6]),32&r&&(o.willStartInteraction=t[5]),e.$set(o)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function g$(t,e,n){var r,o,c,l,d,f,h,v,m,y=e.isActive,$=e.isActiveFraction,x=e.isVisible,w=e.stores,P=e.locale,k=void 0===P?{}:P,S=e.markupEditorWillStartInteraction,R=void 0===S?void 0:S,C=w,M=C.imageRedaction,T=C.rootRect,I=C.imageSize,A=C.imageRotation,E=C.imageFlipX,L=C.imageFlipY,F=C.imageTransforms,z=C.imageTransformsInterpolated;Xo(t,T,(function(t){return n(23,v=t)})),Xo(t,I,(function(t){return n(22,h=t)})),Xo(t,A,(function(t){return n(10,m=t)})),Xo(t,E,(function(t){return n(7,l=t)})),Xo(t,L,(function(t){return n(6,c=t)})),Xo(t,F,(function(t){return n(21,f=t)})),Xo(t,z,(function(t){return n(20,d=t)}));return t.$$set=function(t){"isActive"in t&&n(0,y=t.isActive),"isActiveFraction"in t&&n(1,$=t.isActiveFraction),"isVisible"in t&&n(2,x=t.isVisible),"stores"in t&&n(3,w=t.stores),"locale"in t&&n(4,k=t.locale),"markupEditorWillStartInteraction"in t&&n(5,R=t.markupEditorWillStartInteraction)},t.$$.update=function(){15728832&t.$$.dirty&&n(9,r=function(t){return Wy(t,v,h,d.origin,d.translation,f.rotation.z,d.scale,l,c)}),15728832&t.$$.dirty&&n(8,o=function(t){return Ny(t,v,h,d.origin,d.translation,f.rotation.z,d.scale,l,c)})},[y,$,x,w,k,R,c,l,o,r,m,M,T,I,A,E,L,F,z,"redact",d,f,h,v,function(t){var e=Lh(t[0]);return zh("to-front",e),t},function(e){Na.call(this,t,e)}]}var b$={util:["redact",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,g$,m$,Go,{name:19,isActive:0,isActiveFraction:1,isVisible:2,stores:3,locale:4,markupEditorWillStartInteraction:5}),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[19]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"isActiveFraction",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({isActiveFraction:t}),eu()}},{key:"isVisible",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({isVisible:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({locale:t}),eu()}},{key:"markupEditorWillStartInteraction",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({markupEditorWillStartInteraction:t}),eu()}}]),n}(Pu),function(t){return!t.duration}]};function y$(t){var span,e,n=(vt(t[31].label)?t[31].label(t[1]):t[31].label)+"";return{c:function(){span=element("span"),e=text(n)},m:function(t,n){pa(t,span,n),sa(span,e)},p:function(t,r){2&r[0]|1&r[1]&&n!==(n=(vt(t[31].label)?t[31].label(t[1]):t[31].label)+"")&&Pa(e,n)},d:function(t){t&&ha(span)}}}function $$(t){var div,e,n,r=(t[11](t[31].value)||"")+"",o=t[31].label&&y$(t);return{c:function(){div=element("div"),e=new Ra(!1),n=ma(),o&&o.c(),e.a=n,xa(div,"slot","option")},m:function(t,c){pa(t,div,c),e.m(r,div),sa(div,n),o&&o.m(div,null)},p:function(t,n){1&n[1]&&r!==(r=(t[11](t[31].value)||"")+"")&&e.p(r),t[31].label?o?o.p(t,n):((o=y$(t)).c(),o.m(div,null)):o&&(o.d(1),o=null)},d:function(t){t&&ha(div),o&&o.d()}}}function x$(t){var e,n;return e=new Ef({props:{locale:t[1],class:"PinturaControlList",layout:"row",options:t[2],selectedIndex:t[4],onchange:t[10],$$slots:{option:[$$,function(t){return{31:t.option}},function(t){return[0,t.option?1:0]}]},$$scope:{ctx:t}}}),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};2&n[0]&&(r.locale=t[1]),4&n[0]&&(r.options=t[2]),16&n[0]&&(r.selectedIndex=t[4]),2&n[0]|3&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function w$(t){var div,e,n;return e=new bd({props:{elasticity:t[5],$$slots:{default:[x$]},$$scope:{ctx:t}}}),{c:function(){div=element("div"),yu(e.$$.fragment),xa(div,"slot","footer"),xa(div,"style",t[3])},m:function(t,r){pa(t,div,r),$u(e,div,null),n=!0},p:function(t,r){var o={};32&r[0]&&(o.elasticity=t[5]),22&r[0]|2&r[1]&&(o.$$scope={dirty:r,ctx:t}),e.$set(o),(!n||8&r[0])&&xa(div,"style",t[3])},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){t&&ha(div),xu(e)}}}function P$(t){var e,n;return(e=new qm({props:{$$slots:{footer:[w$]},$$scope:{ctx:t}}})).$on("measure",t[22]),{c:function(){yu(e.$$.fragment)},m:function(t,r){$u(e,t,r),n=!0},p:function(t,n){var r={};62&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(cu(e.$$.fragment,t),n=!0)},o:function(t){lu(e.$$.fragment,t),n=!1},d:function(t){xu(e,t)}}}function k$(t,e,n){var r,o,c,l,d,f,h,v,m,y,$=Do,x=function(){return $(),$=Ho(k,(function(t){return n(17,f=t)})),k};t.$$.on_destroy.push((function(){return $()}));var k=e.isActive;x();var S=e.stores,R=e.locale,C=void 0===R?{}:R,M=e.fillOptions,T=void 0===M?[]:M,I=function t(e){return e.map((function(e){return function(t){return Cr(t)&&ht(t[0])&&Cr(t[1])}(e)?[e[0],t(e[1]),e[2]]:function(t){return[Array.isArray(t)&&3===t.length?[].concat((0,P.default)(t),[1]):t,void 0,{disabled:!1}]}(e)}))},A=Ua("elasticityMultiplier");Xo(t,A,(function(t){return n(21,y=t)}));var E=S,L=E.history,F=E.animation,z=E.scrollElasticity,O=E.imageBackgroundColor,B=E.imageBackgroundImage,D=E.allowPan,_=E.allowZoom,U=E.allowZoomControls;Xo(t,F,(function(t){return n(18,h=t)})),Xo(t,O,(function(t){return n(20,m=t)})),Xo(t,B,(function(t){return n(19,v=t)}));var N=Zl(h?20:0);return Xo(t,N,(function(t){return n(16,d=t)})),t.$$set=function(t){"isActive"in t&&x(n(0,k=t.isActive)),"stores"in t&&n(14,S=t.stores),"locale"in t&&n(1,C=t.locale),"fillOptions"in t&&n(15,T=t.fillOptions)},t.$$.update=function(){32768&t.$$.dirty[0]&&n(2,r=I(T)),131072&t.$$.dirty[0]&&D.set(f),131072&t.$$.dirty[0]&&_.set(f),131072&t.$$.dirty[0]&&U.set(f),2097152&t.$$.dirty[0]&&n(5,o=y*z),1572868&t.$$.dirty[0]&&n(4,c=r.findIndex((function(t){var e=(0,w.default)(t,1)[0];return v?e===v:Array.isArray(e)?Ku(e,m):void 0}))||0),393216&t.$$.dirty[0]&&h&&N.set(f?0:20),65536&t.$$.dirty[0]&&n(3,l=d?"transform: translateY(".concat(d,"px)"):void 0)},[k,C,r,l,c,o,A,F,O,B,function(t){var e=t.value;ht(e)&&(na(O,m=void 0,m),na(B,v=e,v)),Cr(e)&&(na(O,m=e,m),na(B,v=void 0,v)),L.write()},function(t){if(ht(t))return'<div class="PinturaFillTile"><img src="'.concat(t,'" alt="" width="48" height="64"/></div>');if(Cr(t)){var e=t.map((function(t,i){return i<3?Math.round(255*t):t})),n=(0,w.default)(e,4),r=n[0],g=n[1],b=n[2],a=n[3];return'<div class="PinturaFillTile" data-transparent="'.concat(a<1,'"><div style="background-color:rgba(').concat(r,",").concat(g,",").concat(b,",").concat(a,')"></div></div>')}return"<div></div>"},N,"fill",S,T,d,f,h,v,m,y,function(e){Na.call(this,t,e)}]}var S$={util:["fill",function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,k$,P$,Go,{name:13,isActive:0,stores:14,locale:1,fillOptions:15},null,[-1,-1]),r}return(0,d.default)(n,[{key:"name",get:function(){return this.$$.ctx[13]}},{key:"isActive",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({isActive:t}),eu()}},{key:"stores",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({stores:t}),eu()}},{key:"locale",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({locale:t}),eu()}},{key:"fillOptions",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({fillOptions:t}),eu()}}]),n}(Pu),function(t){return!t.duration}]},R$='<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M18 6L6 18M6 6l12 12"></path></path></g>',C$='<path fill="none" d="M9 15 L12 9 L15 15 M10 13.5 h3" stroke="currentColor" stroke-width=".125em"/>',M$={labelReset:"Reset",labelDefault:"Default",labelAuto:"Auto",labelNone:"None",labelEdit:"Edit",labelClose:"Close",labelSupportError:function(t){return"".concat(t.join(", ")," not supported on this browser")},labelColor:"Color",labelWidth:"Width",labelSize:"Size",labelOffset:"Offset",labelAmount:"Amount",labelInset:"Inset",labelRadius:"Radius",labelColorPalette:"Color palette",labelSizeExtraSmall:"Extra small",labelSizeSmall:"Small",labelSizeMediumSmall:"Medium small",labelSizeMedium:"Medium",labelSizeMediumLarge:"Medium large",labelSizeLarge:"Large",labelSizeExtraLarge:"Extra large",labelButtonCancel:"Cancel",labelButtonUndo:"Undo",labelButtonRedo:"Redo",labelButtonRevert:"Revert",labelButtonExport:"Done",labelZoomIn:"Zoom in",labelZoomOut:"Zoom out",labelZoomFit:"Fit to view",labelZoomActual:"Actual size",iconZoomIn:'<path stroke="currentColor" stroke-width=".125em" d="M8 12 h8 M12 8 v8" />',iconZoomOut:'<path stroke="currentColor" stroke-width=".125em" d="M9 12 h6" />',iconSupportError:'<g fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><g><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></g>',iconButtonClose:R$,iconButtonRevert:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M7.388 18.538a8 8 0 10-2.992-9.03"/><path fill="currentColor" d="M2.794 11.696L2.37 6.714l5.088 3.18z"/><path d="M12 8v4M12 12l4 2"/></g>',iconButtonUndo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M10 8h4c2.485 0 5 2 5 5s-2.515 5-5 5h-4"/><path fill="currentColor" d="M5 8l4-3v6z"/></g>',iconButtonRedo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M14 8h-4c-2.485 0-5 2-5 5s2.515 5 5 5h4"/><path fill="currentColor" d="M19 8l-4-3v6z"/></g>',iconButtonExport:'<polyline points="20 6 9 17 4 12" fill="none" stroke="currentColor" stroke-width=".125em"></polyline>',statusLabelButtonClose:"Close",statusIconButtonClose:R$,statusLabelLoadImage:function(t){return t&&t.task?t.error?"IMAGE_TOO_SMALL"===t.error.code?"Minimum image size is {minWidth} &times; {minHeight}":"Error loading image":"blob-to-bitmap"===t.task?"Preparing image&hellip;":"Loading image&hellip;":"Waiting for image"},statusLabelProcessImage:function(t){if(t&&t.task)return"store"===t.task?t.error?"Error uploading image":"Uploading image&hellip;":t.error?"Error processing image":"Processing image&hellip;"}},T$={shapeLabelButtonSelectSticker:"Select image",shapeIconButtonSelectSticker:'<g fill="none" stroke="currentColor" stroke-width="0.0625em"><path d="M8 21 L15 11 L19 15"/><path d="M15 2 v5 h5"/><path d="M8 2 h8 l4 4 v12 q0 4 -4 4 h-8 q-4 0 -4 -4 v-12 q0 -4 4 -4z"/></g><circle fill="currentColor" cx="10" cy="8" r="1.5"/>',shapeIconButtonFlipHorizontal:'<g stroke="currentColor" stroke-width=".125em"><path fill="none" d="M6 6.5h5v11H6z"/><path fill="currentColor" d="M15 6.5h3v11h-3z"/><path d="M11 4v16" fill="currentColor"/></g>',shapeIconButtonFlipVertical:'<g stroke="currentColor" stroke-width=".125em"><rect x="7" y="8" width="11" height="5" fill="none"/><rect x="7" y="17" width="11" height="2" fill="currentColor"/><line x1="5" y1="13" x2="20" y2="13"/></g>',shapeIconButtonRemove:'<g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M7.5 7h9z"/><path d="M7.916 9h8.168a1 1 0 01.99 1.14l-.972 6.862a2 2 0 01-1.473 1.653c-.877.23-1.753.345-2.629.345-.876 0-1.752-.115-2.628-.345a2 2 0 01-1.473-1.653l-.973-6.862A1 1 0 017.916 9z" fill="currentColor"/><rect fill="currentColor" x="10" y="5" width="4" height="3" rx="1"/></g>',shapeIconButtonDuplicate:'<g fill="none" fill-rule="evenodd"><path d="M15 13.994V16a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h2.142" stroke="currentColor" stroke-width=".125em"/><path d="M15 9V8a1 1 0 00-2 0v1h-1a1 1 0 000 2h1v1a1 1 0 002 0v-1h1a1 1 0 000-2h-1zm-4-4h6a2 2 0 012 2v6a2 2 0 01-2 2h-6a2 2 0 01-2-2V7a2 2 0 012-2z" fill="currentColor"/></g>',shapeIconButtonMoveToFront:'<g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="11" y="13" width="8" height="2" rx="1"/><rect fill="currentColor" x="9" y="17" width="10" height="2" rx="1"/><path d="M11.364 8H10a5 5 0 000 10M12 6.5L14.5 8 12 9.5z" stroke="currentColor" stroke-width=".125em" stroke-linecap="round"/></g>',shapeIconButtonTextLayoutAutoWidth:"".concat(C$),shapeIconButtonTextLayoutAutoHeight:'<g fill="currentColor"><circle cx="4" cy="12" r="1.5"/><circle cx="20" cy="12" r="1.5"/></g>'.concat(C$),shapeIconButtonTextLayoutFixedSize:'<g fill="currentColor"><circle cx="5" cy="6" r="1.5"/><circle cx="19" cy="6" r="1.5"/><circle cx="19" cy="19" r="1.5"/><circle cx="5" cy="19" r="1.5"/></g>'.concat(C$),shapeTitleButtonTextLayoutAutoWidth:"Auto width",shapeTitleButtonTextLayoutAutoHeight:"Auto height",shapeTitleButtonTextLayoutFixedSize:"Fixed size",shapeTitleButtonFlipHorizontal:"Flip Horizontal",shapeTitleButtonFlipVertical:"Flip Vertical",shapeTitleButtonRemove:"Remove",shapeTitleButtonDuplicate:"Duplicate",shapeTitleButtonMoveToFront:"Move to front",shapeLabelInputText:"Edit text",shapeIconInputCancel:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M18 6L6 18M6 6l12 12"/></g>',shapeIconInputConfirm:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><polyline points="20 6 9 17 4 12"/></g>',shapeLabelInputCancel:"Cancel",shapeLabelInputConfirm:"Confirm",shapeLabelStrokeNone:"No outline",shapeLabelFontStyleNormal:"Normal",shapeLabelFontStyleBold:"Bold",shapeLabelFontStyleItalic:"Italic",shapeLabelFontStyleItalicBold:"Bold Italic",shapeTitleBackgroundColor:"Fill color",shapeTitleCornerRadius:"Corner radius",shapeTitleFontFamily:"Font",shapeTitleFontSize:"Font size",shapeTitleFontStyle:"Font style",shapeTitleLineHeight:"Line height",shapeTitleLineStart:"Start",shapeTitleLineEnd:"End",shapeTitleStrokeWidth:"Line width",shapeTitleStrokeColor:"Line color",shapeTitleLineDecorationBar:"Bar",shapeTitleLineDecorationCircle:"Circle",shapeTitleLineDecorationSquare:"Square",shapeTitleLineDecorationArrow:"Arrow",shapeTitleLineDecorationCircleSolid:"Circle solid",shapeTitleLineDecorationSquareSolid:"Square solid",shapeTitleLineDecorationArrowSolid:"Arrow solid",shapeIconLineDecorationBar:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H16"/><path d="M16,8 V16"/></g>',shapeIconLineDecorationCircle:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><circle fill="none" stroke-width=".125em" cx="16" cy="12" r="4"/></g>',shapeIconLineDecorationSquare:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><rect fill="none" stroke-width=".125em" x="12" y="8" width="8" height="8"/></g>',shapeIconLineDecorationArrow:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H16 M13,7 l6,5 l-6,5" fill="none"/></g>',shapeIconLineDecorationCircleSolid:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><circle fill="currentColor" cx="16" cy="12" r="4"/></g>',shapeIconLineDecorationSquareSolid:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><rect fill="currentColor" x="12" y="8" width="8" height="8"/></g>',shapeIconLineDecorationArrowSolid:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H16"/><path d="M13,7 l6,5 l-6,5z" fill="currentColor"/></g>',shapeTitleColorTransparent:"Transparent",shapeTitleColorWhite:"White",shapeTitleColorSilver:"Silver",shapeTitleColorGray:"Gray",shapeTitleColorBlack:"Black",shapeTitleColorNavy:"Navy",shapeTitleColorBlue:"Blue",shapeTitleColorAqua:"Aqua",shapeTitleColorTeal:"Teal",shapeTitleColorOlive:"Olive",shapeTitleColorGreen:"Green",shapeTitleColorYellow:"Yellow",shapeTitleColorOrange:"Orange",shapeTitleColorRed:"Red",shapeTitleColorMaroon:"Maroon",shapeTitleColorFuchsia:"Fuchsia",shapeTitleColorPurple:"Purple",shapeTitleTextColor:"Font color",shapeTitleTextAlign:"Text align",shapeTitleTextAlignLeft:"Left align text",shapeTitleTextAlignCenter:"Center align text",shapeTitleTextAlignRight:"Right align text",shapeIconTextAlignLeft:'<g stroke-width=".125em" stroke="currentColor"><line x1="5" y1="8" x2="15" y2="8"/><line x1="5" y1="12" x2="19" y2="12"/><line x1="5" y1="16" x2="14" y2="16"/></g>',shapeIconTextAlignCenter:'<g stroke-width=".125em" stroke="currentColor"><line x1="7" y1="8" x2="17" y2="8"/><line x1="5" y1="12" x2="19" y2="12"/><line x1="8" y1="16" x2="16" y2="16"/></g>',shapeIconTextAlignRight:'<g stroke-width=".125em" stroke="currentColor"><line x1="9" y1="8" x2="19" y2="8"/><line x1="5" y1="12" x2="19" y2="12"/><line x1="11" y1="16" x2="19" y2="16"/></g>',shapeLabelToolMove:"Move",shapeLabelToolView:"View",shapeLabelToolSharpie:"Sharpie",shapeLabelToolEraser:"Eraser",shapeLabelToolPath:"Path",shapeLabelToolRectangle:"Rectangle",shapeLabelToolEllipse:"Ellipse",shapeLabelToolArrow:"Arrow",shapeLabelToolLine:"Line",shapeLabelToolText:"Text",shapeLabelToolPreset:"Stickers",shapeIconToolView:'<g stroke-width=".125em" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M10.98 9.703V2.567c0-1.19 1.19-1.785 1.784-1.785.595 0 1.784.595 1.784 1.785v3.568"/><path d="M14.548 9.703V4.35c0-1.19 1.19-1.784 1.784-1.784.595 0 1.784.594 1.784 1.784v2.973"/><path d="M18.116 10.244V7.271c0-1.19 1.19-1.784 1.784-1.784.595 0 1.785.595 1.785 1.784 0 1.19 0 8.92-1.19 12.488-1.19 3.569-10.704 4.758-13.678 0-2.973-4.757-2.973-4.757-4.163-6.541-1.189-1.784-1.153-2.974-.594-3.568.558-.595 1.784-1.19 2.973.594 1.277 1.916 2.07 2.907 2.379 2.974V5.487c0-1.19 1.19-1.784 1.784-1.784.595 0 1.784.595 1.784 1.784V8.46"/></g>',shapeIconToolMove:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M6 2 L6 19 L18 13 Z M13 18 L16 24" stroke="currentColor" stroke-width=".125em" fill="none" fill-rule="evenodd" stroke-linejoin="round"/></g>',shapeIconToolSharpie:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M2.025 5c5.616-2.732 8.833-3.857 9.65-3.374C12.903 2.351.518 12.666 2.026 14 3.534 15.334 16.536.566 17.73 2.566 18.924 4.566 3.98 17.187 4.831 18c.851.813 9.848-6 11.643-6 1.087 0-2.53 5.11-2.92 7-.086.41 3.323-1.498 4.773-1 .494.17.64 2.317 1.319 3 .439.443 1.332.776 2.679 1" stroke="currentColor" stroke-width=".125em" fill="none" fill-rule="evenodd" stroke-linejoin="round"/></g>',shapeIconToolEraser:'<g stroke-width=".125em" stroke="currentColor" stroke-linecap="round" fill="none"><g transform="translate(3, 15) rotate(-45)"><rect x="0" y="0" width="18" height="10" rx="3"/></g><line x1="11" y1="21" x2="18" y2="21"/><line x1="20" y1="21" x2="22" y2="21"/></g>',shapeIconToolPath:'<g stroke-width=".125em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none"><circle cx="21" cy="3" r="2"/><circle cx="9" cy="9" r="2"/><circle cx="3" cy="21" r="2"/><path d="M19 4 11 8 M8 11 4 19"/></g>',shapeIconToolRectangle:'<g stroke-width=".125em" stroke="currentColor" fill="none"><rect x="2" y="2" width="20" height="20" rx="3"/></g>',shapeIconToolEllipse:'<g stroke-width=".125em" stroke="currentColor" fill="none"><circle cx="12" cy="12" r="11"/></g>',shapeIconToolArrow:'<g stroke-width=".125em" stroke="currentColor" fill="none"><line x1="20" y1="3" x2="6" y2="21"/><path d="m10 6 L21.5 1 L20 13.5" fill="currentColor" stroke="none"/></g>',shapeIconToolLine:'<g stroke-width=".125em" stroke="currentColor" fill="none"><line x1="20" y1="3" x2="6" y2="21"/></g>',shapeIconToolText:'<g stroke="none" fill="currentColor" transform="translate(6,0)"><path d="M8.14 20.085c.459 0 .901-.034 1.329-.102a8.597 8.597 0 001.015-.21v1.984c-.281.135-.695.247-1.242.336a9.328 9.328 0 01-1.477.133c-3.312 0-4.968-1.745-4.968-5.235V6.804H.344v-1.25l2.453-1.078L3.89.819h1.5v3.97h4.97v2.015H5.39v10.078c0 1.031.245 1.823.735 2.375s1.161.828 2.015.828z"/>',shapeIconToolPreset:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M12 22c2.773 0 1.189-5.177 3-7 1.796-1.808 7-.25 7-3 0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10z"></path><path d="M20 17c-3 3-5 5-8 5"></path></g>'},I$={cropLabel:"Crop",cropIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M23 17H9a2 2 0 0 1-2-2v-5m0-3V1 M1 7h14a2 2 0 0 1 2 2v7m0 4v3"/></g>',cropIconButtonRecenter:'<path stroke="currentColor" fill="none" stroke-width="2" stroke-linejoin="bevel" d="M1.5 7.5v-6h6M1.5 16.5v6h6M22.5 16.5v6h-6M22.5 7.5v-6h-6"/><circle cx="12" cy="12" r="3.5" fill="currentColor" stroke="none"/>',cropIconButtonRotateLeft:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><rect x="3" rx="1" height="12" width="12" y="9"/><path d="M15 5h-1a5 5 0 015 5 1 1 0 002 0 7 7 0 00-7-7h-1.374l.747-.747A1 1 0 0011.958.84L9.603 3.194a1 1 0 000 1.415l2.355 2.355a1 1 0 001.415-1.414l-.55-.55H15z"/></g>',cropIconButtonRotateRight:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M11.177 5H10a5 5 0 00-5 5 1 1 0 01-2 0 7 7 0 017-7h1.374l-.747-.747A1 1 0 0112.042.84l2.355 2.355a1 1 0 010 1.415l-2.355 2.354a1 1 0 01-1.415-1.414l.55-.55z"/><rect rx="1" height="12" width="12" y="9" x="9"/></g>',cropIconButtonFlipVertical:'<g stroke="none" fill="currentColor"><path d="M19.993 12.143H7a1 1 0 0 1-1-1V5.994a1 1 0 0 1 1.368-.93l12.993 5.15a1 1 0 0 1-.368 1.93z"/><path d="M19.993 14a1 1 0 0 1 .368 1.93L7.368 21.078A1 1 0 0 1 6 20.148V15a1 1 0 0 1 1-1h12.993z" opacity=".6"/></g>',cropIconButtonFlipHorizontal:'<g stroke="none" fill="currentColor"><path d="M11.93 7.007V20a1 1 0 0 1-1 1H5.78a1 1 0 0 1-.93-1.368l5.15-12.993a1 1 0 0 1 1.929.368z"/><path d="M14 7.007V20a1 1 0 0 0 1 1h5.149a1 1 0 0 0 .93-1.368l-5.15-12.993A1 1 0 0 0 14 7.007z" opacity=".6"/></g>',cropIconSelectPreset:function(t,e){var n=e?[e<1?1:.3,1===e?.85:.5,e>1?1:.3]:[.2,.3,.4],r=(0,w.default)(n,3),a=r[0],b=r[1],o=r[2];return'<g fill="currentColor">\n            <rect opacity="'.concat(a,'" x="2" y="4" width="10" height="18" rx="1"/>\n            <rect opacity="').concat(b,'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="').concat(o,'" x="6" y="12" width="17" height="10" rx="1"/>\n        </g>')},cropIconCropBoundary:function(t,e){var n=e?[.3,1,0,0]:[0,0,.3,1],r=(0,w.default)(n,4),a=r[0],b=r[1],o=r[2],c=r[3];return'<g fill="currentColor">\n            <rect opacity="'.concat(a,'" x="2" y="3" width="20" height="20" rx="1"/>\n            <rect opacity="').concat(b,'" x="7" y="8" width="10" height="10" rx="1"/>\n            <rect opacity="').concat(o,'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="').concat(c,'" x="12" y="4" width="10" height="10" rx="1"/>\n        </g>')},cropLabelButtonRecenter:"Recenter",cropLabelButtonRotateLeft:"Rotate left",cropLabelButtonRotateRight:"Rotate right",cropLabelButtonFlipHorizontal:"Flip horizontal",cropLabelButtonFlipVertical:"Flip vertical",cropLabelSelectPreset:"Crop shape",cropLabelCropBoundary:"Crop boundary",cropLabelCropBoundaryEdge:"Edge of image",cropLabelCropBoundaryNone:"None",cropLabelTabRotation:"Rotation",cropLabelTabZoom:"Scale"},A$=function(t,e){var n=Object.getOwnPropertyDescriptors(t);Object.keys(n).forEach((function(r){n[r].get?Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){return t[r]=e}}):e[r]=t[r]}))},E$=function(t){var e={},n=jr(),sub=n.sub,r=n.pub;Z()&&null!==document.doctype||console.warn("Browser is in quirks mode, add <!DOCTYPE html> to page to fix render issues");var o=sc();A$(o,e);var view=function(t,e){var n={},r=new $h({target:t,props:{stores:e,pluginComponents:Array.from(Rh)}}),o=!1,c=function t(){o||(Z()&&window.removeEventListener("pagehide",t),r&&(o=!0,r.$destroy()))};yh||(yh=new Set(Os($h).filter((function(t){return!wh.includes(t)})))),yh.forEach((function(t){Object.defineProperty(n,t,{get:function(){return r[t]},set:Ph.includes(t)?function(e){r[t]=z(z({},r[t]),e)}:function(e){return r[t]=e}})})),Object.defineProperty(n,"previewImageData",{get:function(){return r.imagePreviewCurrent}}),kh.forEach((function(t){var e=Sh[t],o=e[0];Object.defineProperty(n,t,{get:function(){return r.pluginInterface[o][t]},set:function(n){var o=e.reduce((function(e,o){return e[o]=z(z({},r.pluginOptions[o]),{},(0,$.default)({},t,n)),e}),{});r.pluginOptions=z(z({},r.pluginOptions),o)}})})),Object.defineProperty(n,"element",{get:function(){return r.root},set:function(){}});var l=r.history;return Du(n,{on:function(t,e){if(o)return function(){};if(/undo|redo|revert|writehistory/.test(t))return l.on(t,e);var n=[r.sub(t,e),r.$on(t,(function(t){return e(t instanceof CustomEvent&&!t.detail?void 0:t)}))].filter(Boolean);return function(){return n.forEach((function(t){return t()}))}},updateImagePreview:function(t){r.imagePreviewSrc=t},close:function(){return!o&&r.pub("close")},destroy:c}),Object.defineProperty(n,"history",{get:function(){return{undo:function(){return l.undo()},redo:function(){return l.redo()},revert:function(){return l.revert()},get:function(){return l.get()},getCollapsed:function(){return l.get().splice(0,l.index+1)},set:function(t){return l.set(t)},write:function(t){return l.write(t)},get length(){return l.length()},get index(){return l.index}}}}),Z()&&window.addEventListener("pagehide",c),n}(t,o.stores);A$(view,e);var c=["loadImage","processImage","abortProcessImage","abortLoadImage"].map((function(t){return view.on(t,(function(e){var n=o[t](e&&e.detail);n instanceof Promise&&n.catch(N)}))})),l=function(t,e){var n=sub(t,e),r=o.on(t,e),c=view.on(t,e);return function(){n(),r(),c()}};e.handleEvent=N;var d=Mh.map((function(t){return l(t,(function(n){return e.handleEvent(t,n)}))}));return Du(e,{on:l,updateImage:function(t){return new Promise((function(n,r){var c=e.history.get(),l=e.imageState;o.loadImage(t).then((function(t){e.history.set(c),e.imageState=l,n(t)})).catch(r)}))},close:function(){r("close")},destroy:function(){[].concat((0,P.default)(c),(0,P.default)(d)).forEach((function(t){return t()})),view.destroy(),o.destroy(),r("destroy")}}),setTimeout((function(){return r("init",e)}),0),e},L$="pintura-editor",F$=function(){return new Promise((function(t){if(!z$)return t([]);var e;e=L$,document.createElement(e).constructor===HTMLElement&&customElements.define(L$,z$),customElements.whenDefined(L$).then((function(){return t(document.querySelectorAll(L$))}))}))},z$=Z()&&function(t){(0,h.default)(n,t);var e=L(n);function n(){var t;return(0,f.default)(this,n),(t=e.call(this))._editor=void 0,t._unsubs=void 0,t}return(0,d.default)(n,[{key:"attributeChangedCallback",value:function(t,e,n){this[t]=n}},{key:"connectedCallback",value:function(){this._editor=E$(this),A$(this._editor,this),this._editor.src=this.getAttribute("src"),this._unsubs=Th(this._editor,this)}},{key:"disconnectedCallback",value:function(){this._editor.destroy(),this._unsubs.forEach((function(t){return t()}))}}],[{key:"observedAttributes",get:function(){return["src"]}}]),n}((0,y.default)(HTMLElement)),O$="pintura-editor",B$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},element=ht(t)?document.querySelector(t):t;if(Sn(element)){e.class=e.class?"".concat(O$," ").concat(e.class):O$;var n=E$(element);return Object.assign(n,e)}},D$=fu.document,_$=fu.window;function U$(t){var e,div,n,r;return Ya(t[27]),{c:function(){e=ma(),xa(div=element("div"),"class",t[4]),xa(div,"style",t[5])},m:function(o,c){pa(o,e,c),pa(o,div,c),t[28](div),n||(r=[ba(_$,"keydown",t[10]),ba(_$,"orientationchange",t[11]),ba(_$,"resize",t[27]),ba(D$.body,"focusin",(function(){Vo(!t[1]&&t[7])&&(!t[1]&&t[7]).apply(this,arguments)})),ba(D$.body,"focusout",(function(){Vo(t[2]&&t[8])&&(t[2]&&t[8]).apply(this,arguments)})),ba(div,"wheel",t[9],{passive:!1})],n=!0)},p:function(e,n){t=e,16&n[0]&&xa(div,"class",t[4]),32&n[0]&&xa(div,"style",t[5])},i:Do,o:Do,d:function(o){o&&ha(e),o&&ha(div),t[28](null),n=!1,jo(r)}}}function N$(t,e,n){var r,o,c,l,style,d,f,h,v=Da(),m=e.root,y=e.preventZoomViewport,$=void 0===y||y,x=e.preventScrollBodyIfNeeded,w=void 0===x||x,P=e.preventFooterOverlapIfNeeded,k=void 0===P||P,S=e.class,R=void 0===S?void 0:S,C=!0,M=!1,T=!1,I=Z()&&document.documentElement,body=Z()&&document.body,head=Z()&&document.head,A=Zl(0,{precision:.001,damping:.5});Xo(t,A,(function(t){return n(26,h=t)}));var E,L,F,z=A.subscribe((function(t){T&&t>=1?(n(19,T=!1),n(1,C=!1),v("show")):M&&t<=0&&(n(18,M=!1),n(1,C=!0),v("hide"))})),O=!1,B=void 0,D=void 0,_=void 0,U=function(){return document.querySelector("meta[name=viewport]")},N=function(){return Array.from(document.querySelectorAll("meta[name=theme-color]"))},W=function(t,e){requestAnimationFrame((function n(){t()?e():requestAnimationFrame(n)}))},j=0,V=void 0,G=function(){F||(F=J("div",{style:"position:fixed;height:100vh;top:0"}),body.append(F))};za((function(){k&&rr()&&G()})),Oa((function(){F&&(n(21,V=F.offsetHeight),F.remove(),F=void 0)}));var H=void 0,X=function(){return I.style.setProperty("--pintura-document-height","".concat(window.innerHeight,"px"))};return Ba((function(){I.classList.remove("PinturaModalBodyLock"),z()})),t.$$set=function(t){"root"in t&&n(0,m=t.root),"preventZoomViewport"in t&&n(12,$=t.preventZoomViewport),"preventScrollBodyIfNeeded"in t&&n(13,w=t.preventScrollBodyIfNeeded),"preventFooterOverlapIfNeeded"in t&&n(14,k=t.preventFooterOverlapIfNeeded),"class"in t&&n(15,R=t.class)},t.$$.update=function(){67895298&t.$$.dirty[0]&&n(25,r=T||M?h:C?0:1),4096&t.$$.dirty[0]&&(o="width=device-width,height=device-height,initial-scale=1"+($?",maximum-scale=1,user-scalable=0":"")),786434&t.$$.dirty[0]&&n(22,c=!T&&!C&&!M),12&t.$$.dirty[0]&&(O||n(20,L=j)),2097160&t.$$.dirty[0]&&n(24,l=kr(V)?"--viewport-pad-footer:".concat(V>j?0:1):""),51380224&t.$$.dirty[0]&&n(5,style="opacity:".concat(r,";height:").concat(L,"px;--editor-modal:1;").concat(l)),32768&t.$$.dirty[0]&&n(4,d=vs(["pintura-editor","PinturaModal",R])),8192&t.$$.dirty[0]&&n(23,f=w&&rr()&&/15_/.test(navigator.userAgent)),12582912&t.$$.dirty[0]&&f&&function(t){t?(H=window.scrollY,I.classList.add("PinturaDocumentLock"),X(),window.addEventListener("resize",X)):(window.removeEventListener("resize",X),I.classList.remove("PinturaDocumentLock"),kr(H)&&window.scrollTo(0,H),H=void 0)}(c)},[m,C,O,j,d,style,A,function(t){yp(t.target)&&(n(2,O=!0),E=j)},function(t){if(yp(t.target))if(clearTimeout(undefined),E===j)n(2,O=!1);else{var e=j;W((function(){return j!==e}),(function(){return n(2,O=!1)}))}},function(t){t.target&&/PinturaStage/.test(t.target.className)&&t.preventDefault()},function(t){var e=t.key;if(/escape/i.test(e)){var n=t.target;if(!n||!/input|textarea/i.test(n.nodeName)){var r=document.querySelectorAll(".PinturaModal");r[r.length-1]===m&&v("close")}}},G,$,w,k,R,function(){if(!T&&C){n(19,T=!0);var t=U()||J("meta",{name:"viewport"});B=!B&&t.getAttribute("content"),t.setAttribute("content",o+(/cover/.test(B)?",viewport-fit=cover":"")),t.parentNode||head.append(t);var e=getComputedStyle(m).getPropertyValue("--color-background"),r=N();if(r.length)D=r.map((function(element){return element.getAttribute("content")}));else{var c=J("meta",{name:"theme-color"});head.append(c),r.push(c)}r.forEach((function(element){return element.setAttribute("content","rgb(".concat(e,")"))})),clearTimeout(_),_=setTimeout((function(){return A.set(1)}),250)}},function(){if(!M&&!C){clearTimeout(_),n(18,M=!0);var t=U();B?t.setAttribute("content",B):t.remove();var e=N();D?e.forEach((function(element,t){element.setAttribute("content",D[t])})):e.forEach((function(element){return element.remove()})),A.set(0)}},M,T,L,V,c,f,l,r,h,function(){n(3,j=_$.innerHeight)},function(t){ja[t?"unshift":"push"]((function(){n(0,m=t)}))}]}var W$=function(t){(0,h.default)(n,t);var e=L(n);function n(t){var r;return(0,f.default)(this,n),r=e.call(this),wu((0,c.default)(r),t,N$,U$,Go,{root:0,preventZoomViewport:12,preventScrollBodyIfNeeded:13,preventFooterOverlapIfNeeded:14,class:15,show:16,hide:17},null,[-1,-1]),r}return(0,d.default)(n,[{key:"root",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({root:t}),eu()}},{key:"preventZoomViewport",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({preventZoomViewport:t}),eu()}},{key:"preventScrollBodyIfNeeded",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({preventScrollBodyIfNeeded:t}),eu()}},{key:"preventFooterOverlapIfNeeded",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({preventFooterOverlapIfNeeded:t}),eu()}},{key:"class",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({class:t}),eu()}},{key:"show",get:function(){return this.$$.ctx[16]}},{key:"hide",get:function(){return this.$$.ctx[17]}}]),n}(Pu),j$=function(t,e,n,r){var o,c=te(e.x-t.x,e.y-t.y),l=ue(c),d=5*n;o=r?.5*d:Math.ceil(.5*(d-1));var f=he(re(l),o);return{anchor:re(t),offset:f,normal:l,solid:r,size:d,sizeHalf:o}},V$=function(t,e){var n=t.anchor,r=t.solid,o=t.normal,c=t.offset,l=t.size,d=t.sizeHalf,f=t.strokeWidth,h=t.strokeColor,v=n.x,m=n.y,y=he(re(o),l),$=te(v+y.x,m+y.y);if(he(y,.55),r){de(e,c);var x=he(re(o),.5*d);return[{points:[te(v-x.x,m-x.y),te($.x-y.y,$.y+y.x),te($.x+y.y,$.y-y.x)],pathClose:!0,backgroundColor:h}]}var p=he(function(t){var e=t.x;return t.x=-t.y,t.y=e,t}(re(o)),.5),w=te(v-p.x,m-p.y),P=te(v+p.x,m+p.y);return[{points:[te($.x+y.y,$.y-y.x),w,te(v,m),P,te($.x-y.y,$.y+y.x)],pathClose:!1,strokeWidth:f,strokeColor:h}]},G$=function(t,e){var n=t.anchor,r=t.solid,o=t.offset,c=t.normal,l=t.sizeHalf,d=t.strokeWidth,f=t.strokeColor;return de(e,o),r&&de(e,ie(re(c))),[{x:n.x,y:n.y,rx:l,ry:l,backgroundColor:r?f:void 0,strokeWidth:r?void 0:d,strokeColor:r?void 0:f}]},H$=function(t){var e=t.anchor,n=t.offset,r=t.strokeWidth,o=t.strokeColor;return[{points:[te(e.x-n.y,e.y+n.x),te(e.x+n.y,e.y-n.x)],strokeWidth:r,strokeColor:o}]},Z$=function(t,e){var n,r=t.anchor,o=t.solid,c=t.offset,l=t.normal,d=t.sizeHalf,f=t.strokeWidth,h=t.strokeColor;return de(e,c),[{x:r.x-d,y:r.y-d,width:2*d,height:2*d,rotation:(n=l,Math.atan2(n.y,n.x)),backgroundColor:o?h:void 0,strokeWidth:o?void 0:f,strokeColor:o?void 0:h}]},X$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){if(Rr(e,"lineStart")||Rr(e,"lineEnd")){var n=[],r=e.lineStart,o=e.lineEnd,c=e.strokeWidth,l=e.strokeColor,d=te(e.x1,e.y1),f=te(e.x2,e.y2),h=[d,f];if(r){var v=r.split("-"),m=(0,w.default)(v,2),y=m[0],$=m[1],x=t[y];if(x){var k=j$(d,f,c,!!$);n.push.apply(n,(0,P.default)(x(z(z({},k),{},{strokeColor:l,strokeWidth:c}),d)))}}if(o){var S=o.split("-"),R=(0,w.default)(S,2),C=R[0],M=R[1],T=t[C];if(T){var I=j$(f,d,c,!!M);n.push.apply(n,(0,P.default)(T(z(z({},I),{},{strokeColor:l,strokeWidth:c}),f)))}}return[{points:h,strokeWidth:c,strokeColor:l}].concat(n)}}};e.createLineEndProcessor=X$;var q$=function(){return{arrow:V$,circle:G$,square:Z$,bar:H$}};e.createDefaultLineEndStyles=q$;var Y$=function(t,e){var n=parseFloat(t)*e;return ht(t)?"".concat(n,"%"):n},K$=function(t,e){return ht(t)?to(t,e):t},J$=function(t){return[z(z({},t),{},{frameStyle:"line",frameInset:0,frameOffset:0,frameSize:t.frameSize?Y$(t.frameSize,2):"2.5%",frameRadius:t.frameRound?Y$(t.frameSize,2):0})]},Q$=function(t,e){var n=t.width,r=t.height,o=t.frameImage,c=t.frameSize,l=void 0===c?"15%":c,d=t.frameOutset,f=void 0===d?0:d,h=t.frameSlices,v=void 0===h?{x1:.15,y1:.15,x2:.85,y2:.85}:h,m=e.isPreview;if(!o)return[];var y=Math.sqrt(n*r),$=K$(l,y),x=m?$:Math.round($),w=x,P=K$(f,y),k=2*P,S=v.x1,R=v.x2,C=v.y1,M=v.y2,T={x0:0,y0:0,x1:x,y1:w,x2:n-x,y2:r-w,x3:n,y3:r,cw:x,ch:w,ew:n-x-x,eh:r-w-w},I=m?1:0,A=2*I,E=P>0,L={expandsCanvas:E,width:T.cw,height:T.ch,backgroundImage:o};return[{expandsCanvas:E,x:T.x1-I-P,y:T.y0-P,width:T.ew+A+k,height:T.ch,backgroundCorners:[{x:S,y:0},{x:R,y:0},{x:R,y:C},{x:S,y:C}],backgroundImage:o},{expandsCanvas:E,x:T.x1-I-P,y:T.y2+P,width:T.ew+A+k,height:T.ch,backgroundCorners:[{x:S,y:M},{x:R,y:M},{x:R,y:1},{x:S,y:1}],backgroundImage:o},{expandsCanvas:E,x:T.x0-P,y:T.y1-I-P,width:T.cw,height:T.eh+A+k,backgroundCorners:[{x:0,y:C},{x:S,y:C},{x:S,y:M},{x:0,y:M}],backgroundImage:o},{expandsCanvas:E,x:T.x2+P,y:T.y1-I-P,width:T.cw,height:T.eh+A+k,backgroundCorners:[{x:R,y:C},{x:1,y:C},{x:1,y:M},{x:R,y:M}],backgroundImage:o},z(z({},L),{},{x:T.x0-P,y:T.y0-P,backgroundCorners:[{x:0,y:0},{x:S,y:0},{x:S,y:C},{x:0,y:C}]}),z(z({},L),{},{x:T.x2+P,y:T.y0-P,backgroundCorners:[{x:R,y:0},{x:1,y:0},{x:1,y:C},{x:R,y:C}]}),z(z({},L),{},{x:T.x2+P,y:T.y2+P,backgroundCorners:[{x:R,y:M},{x:1,y:M},{x:1,y:1},{x:R,y:1}]}),z(z({},L),{},{x:T.x0-P,y:T.y2+P,backgroundCorners:[{x:0,y:M},{x:S,y:M},{x:S,y:1},{x:0,y:1}]})]},tx=function(t,e){var n=t.x,r=t.y,o=t.width,c=t.height,l=t.frameInset,d=void 0===l?"3.5%":l,f=t.frameSize,h=void 0===f?".25%":f,v=t.frameColor,m=void 0===v?[1,1,1]:v,y=t.frameOffset,$=void 0===y?"5%":y,x=t.frameAmount,w=void 0===x?1:x,P=t.frameRadius,k=void 0===P?0:P,S=t.expandsCanvas,R=void 0!==S&&S,C=e.isPreview,M=Math.sqrt(o*c),T=K$(h,M),I=K$(d,M),A=K$($,M),E=0;C||(T=Math.max(1,Math.round(T)),E=T%2==0?0:.5);var L=K$(Y$(k,w),M);return new Array(w).fill(void 0).map((function(t,e){var l=A*e,d=n+I+l,f=r+I+l,h=n+o-I-l,v=r+c-I-l;return C||(d=Math.round(d),f=Math.round(f),h=Math.round(h),v=Math.round(v)),{x:d+E,y:f+E,width:h-d,height:v-f,cornerRadius:L>0?L-l:0,strokeWidth:T,strokeColor:m,expandsCanvas:R}}))},ex=function(t,e){var n=t.x,r=t.y,o=t.width,c=t.height,l=t.frameSize,d=void 0===l?".25%":l,f=t.frameOffset,h=void 0===f?0:f,v=t.frameInset,m=void 0===v?"2.5%":v,y=t.frameColor,$=void 0===y?[1,1,1]:y,x=e.isPreview,w=Math.sqrt(o*c),P=K$(d,w),k=K$(m,w),S=K$(h,w),R=0;x||(P=Math.max(1,Math.round(P)),k=Math.round(k),S=Math.round(S),R=P%2==0?0:.5);var C=S-k,M=n+k+R,T=r+k+R,I=n+o-k-R,A=r+c-k-R;return[{points:[te(M+C,T),te(I-C,T)]},{points:[te(I,T+C),te(I,A-C)]},{points:[te(I-C,A),te(M+C,A)]},{points:[te(M,A-C),te(M,T+C)]}].map((function(t){return t.strokeWidth=P,t.strokeColor=$,t}))},nx=function(t,e){var n=t.x,r=t.y,o=t.width,c=t.height,l=t.frameSize,d=void 0===l?".25%":l,f=t.frameInset,h=void 0===f?"2.5%":f,v=t.frameLength,m=void 0===v?"2.5%":v,y=t.frameColor,$=void 0===y?[1,1,1]:y,x=e.isPreview,w=Math.sqrt(o*c),P=K$(d,w),k=K$(h,w),S=K$(m,w),R=0;x||(P=Math.max(1,Math.round(P)),k=Math.round(k),S=Math.round(S),R=P%2==0?0:.5);var C=n+k+R,M=r+k+R,T=n+o-k-R,I=r+c-k-R;return[{points:[te(C,M+S),te(C,M),te(C+S,M)]},{points:[te(T-S,M),te(T,M),te(T,M+S)]},{points:[te(T,I-S),te(T,I),te(T-S,I)]},{points:[te(C+S,I),te(C,I),te(C,I-S)]}].map((function(t){return t.strokeWidth=P,t.strokeColor=$,t}))},rx=function(t,e){var n=t.x,r=t.y,o=t.width,c=t.height,l=t.frameColor,d=void 0===l?[1,1,1]:l,f=e.isPreview,h=Math.sqrt(o*c),v=.1*h,m=.2*h,y=0,$=.5*v;return f?y=1:m=Math.ceil(m),d.length=3,[{id:"border",x:n-$+y,y:r-$+y,width:o+v-2*y,height:c+m-2*y,frameStyle:"line",frameInset:0,frameOffset:0,frameSize:v,frameColor:d,expandsCanvas:!0},{id:"chin",x:n-$,y:c-y,width:o+v,height:m,backgroundColor:d,expandsCanvas:!0}].filter(Boolean)},ix=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,n){if(Rr(e,"frameStyle")){var style=e.frameStyle,r=t[style];if(r){e.frameStyle;return r((0,o.default)(e,I),n)}}}};e.createFrameStyleProcessor=ix;var ox=function(){return{solid:J$,hook:nx,line:tx,edge:ex,polaroid:rx,nine:Q$}};e.createDefaultFrameStyles=ox;var ax=function(t){return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPreview:!0},o=t.map((function(t){var o=t(n,r);if(o)return o.map((function(t){return e(t,r)}))})).filter(Boolean).flat();return o.length?o.flat():n}},ux=Gc;e.createDefaultImageReader=ux;var cx=Zc;e.createDefaultImageWriter=cx;var lx=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e,r){var param;param=t,(Array.isArray(param)||vt(param))&&(n=[t].concat((0,P.default)(n)));var o=st(t)?t:{};n=Array.isArray(n)?n.reduce((function(t,e){var n=Array.isArray(e)?(0,P.default)(e):[e];return[].concat((0,P.default)(t),(0,P.default)(n))}),[]):n;for(var i=0;i<n.length;i++){var c=n[i](e,r,o);if(Array.isArray(c))return c}}};e.createDefaultMediaWriter=lx;var sx=function(){return{read:G,apply:lt}};e.createDefaultImageOrienter=sx;var dx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.blurAmount,n=t.dataSizeScalar,r=t.scrambleAmount,o=t.backgroundColor;return function(t,c){return Nl(t,z(z({blurAmount:e,scrambleAmount:r,backgroundColor:o},c),{},{dataSizeScalar:n||c.dataSizeScalar}))}};e.createDefaultImageScrambler=dx;var fx=sc;e.createEditor=fx;e.getEditorProps=function(){return(t=ac.map(uc),e=Ou.map((function(t){return(0,w.default)(t,1)[0]})).filter((function(t){return!oc.includes(t)})),t.concat(e)).concat((yh=new Set(Os($h).filter((function(t){return!wh.includes(t)}))),[].concat((0,P.default)(yh),(0,P.default)(kh))));var t,e};var px=Qv;e.createMarkupEditorToolbar=px;var hx=Kv;e.createMarkupEditorToolStyles=hx;var vx=zm;e.createMarkupEditorShapeStyleControls=vx;var mx={markupEditorToolbar:Qv(),markupEditorToolStyles:Kv(),markupEditorShapeStyleControls:zm()};e.markup_editor_defaults=mx;var gx=Ch;e.setPlugins=gx;var bx=Hg;e.plugin_crop=bx;var yx=Qg;e.plugin_filter=yx;var $x=ab;e.plugin_finetune=$x;var xx=Gy;e.plugin_annotate=xx;var wx=Xy;e.plugin_decorate=wx;var Px=Ky;e.plugin_sticker=Px;var kx=r$;e.plugin_frame=kx;var Sx=b$;e.plugin_redact=Sx;var Rx=v$;e.plugin_resize=Rx;var Cx=S$;e.plugin_fill=Cx;var Mx=fv;e.plugin_finetune_defaults=Mx;var Tx=Kh;e.plugin_filter_defaults=Tx;var Ix=wv;e.plugin_frame_defaults=Ix;var Ax=M$;e.locale_en_gb=Ax;var Ex=T$;e.markup_editor_locale_en_gb=Ex;var Lx=I$;e.plugin_crop_locale_en_gb=Lx;var Fx={fillLabel:"Fill",fillIcon:'\n    <g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em">\n        <g transform="rotate(60, 12, 12)">\n            <rect x="4" y="4" width="14" height="16" rx="3"/>\n        </g>\n        <path d="M21 13 L21 21"></path>\n        <path d="M4.5 12.5 L19 12.5"></path>\n    </g>\n    '};e.plugin_fill_locale_en_gb=Fx;var zx={filterLabel:"Filter",filterIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M18.347 9.907a6.5 6.5 0 1 0-1.872 3.306M3.26 11.574a6.5 6.5 0 1 0 2.815-1.417 M10.15 17.897A6.503 6.503 0 0 0 16.5 23a6.5 6.5 0 1 0-6.183-8.51"/></g>',filterLabelChrome:"Chrome",filterLabelFade:"Fade",filterLabelCold:"Cold",filterLabelWarm:"Warm",filterLabelPastel:"Pastel",filterLabelMonoDefault:"Mono",filterLabelMonoNoir:"Noir",filterLabelMonoWash:"Wash",filterLabelMonoStark:"Stark",filterLabelSepiaDefault:"Sepia",filterLabelSepiaBlues:"Blues",filterLabelSepiaRust:"Rust",filterLabelSepiaColor:"Color"};e.plugin_filter_locale_en_gb=zx;var Ox={finetuneLabel:"Finetune",finetuneIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M4 1v5.5m0 3.503V23M12 1v10.5m0 3.5v8M20 1v15.5m0 3.5v3M2 7h4M10 12h4M18 17h4"/></g>',finetuneLabelBrightness:"Brightness",finetuneLabelContrast:"Contrast",finetuneLabelSaturation:"Saturation",finetuneLabelExposure:"Exposure",finetuneLabelTemperature:"Temperature",finetuneLabelGamma:"Gamma",finetuneLabelClarity:"Clarity",finetuneLabelVignette:"Vignette"};e.plugin_finetune_locale_en_gb=Ox;var Bx={resizeLabel:"Resize",resizeIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><rect x="2" y="12" width="10" height="10" rx="2"/><path d="M4 11.5V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5"/><path d="M14 10l3.365-3.365M14 6h4v4"/></g>',resizeLabelFormCaption:"Image output size",resizeLabelInputWidth:"w",resizeTitleInputWidth:"Width",resizeLabelInputHeight:"h",resizeTitleInputHeight:"Height",resizeTitleButtonMaintainAspectRatio:"Maintain aspectratio",resizeIconButtonMaintainAspectRatio:function(t,e){return'\n        <defs>\n            <mask id="mask1" x="0" y="0" width="24" height="24" >\n                <rect x="0" y="0" width="24" height="10" fill="#fff" stroke="none"/>\n            </mask>\n        </defs>\n        <g fill="none" fill-rule="evenodd">\n            <g  mask="url(#mask1)">\n                <path transform="translate(0 '.concat(3*(e-1),')" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" d="M9.401 10.205v-.804a2.599 2.599 0 0 1 5.198 0V17"/>\n            </g>\n            <rect fill="currentColor" x="7" y="10" width="10" height="7" rx="1.5"/>\n        </g>\n    ')}};e.plugin_resize_locale_en_gb=Bx;var Dx={decorateLabel:"Decorate",decorateIcon:'<g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width=".125em" stroke-linecap="round" stroke-linejoin="round" d="M12 18.5l-6.466 3.4 1.235-7.2-5.23-5.1 7.228-1.05L12 2l3.233 6.55 7.229 1.05-5.231 5.1 1.235 7.2z"/></g>'};e.plugin_decorate_locale_en_gb=Dx;var _x={annotateLabel:"Annotate",annotateIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M17.086 2.914a2.828 2.828 0 1 1 4 4l-14.5 14.5-5.5 1.5 1.5-5.5 14.5-14.5z"/></g>'};e.plugin_annotate_locale_en_gb=_x;var Ux={stickerLabel:"Sticker",stickerIcon:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M12 22c2.773 0 1.189-5.177 3-7 1.796-1.808 7-.25 7-3 0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10z"/><path d="M20 17c-3 3-5 5-8 5"/></g>'};e.plugin_sticker_locale_en_gb=Ux;var Nx={frameLabel:"Frame",frameIcon:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em">\n            <rect x="2" y="2" width="20" height="20" rx="4"/>\n            <rect x="6" y="6" width="12" height="12" rx="1"/>\n        </g>',frameLabelMatSharp:"Mat",frameLabelMatRound:"Bevel",frameLabelLineSingle:"Line",frameLabelLineMultiple:"Zebra",frameLabelEdgeSeparate:"Inset",frameLabelEdgeOverlap:"Plus",frameLabelEdgeCross:"Lumber",frameLabelCornerHooks:"Hook",frameLabelPolaroid:"Polaroid"};e.plugin_frame_locale_en_gb=Nx;var Wx={redactLabel:"Redact",redactIcon:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em">\n        <path d="M 4 5 l 1 -1"/>\n        <path d="M 4 10 l 6 -6"/>\n        <path d="M 4 15 l 11 -11"/>\n        <path d="M 4 20 l 16 -16"/>\n        <path d="M 9 20 l 11 -11"/>\n        <path d="M 14 20 l 6 -6"/>\n        <path d="M 19 20 l 1 -1"/>\n    </g>'};e.plugin_redact_locale_en_gb=Wx;var jx=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(ht(e)?Array.from(document.querySelectorAll(e)):e).filter(Boolean).map((function(element){return t(element,pt(n))}))},Vx=B$;e.appendEditor=Vx;var Gx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=jr(),sub=n.sub,r=n.pub,o={},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new W$({target:(arguments.length>1?arguments[1]:void 0)||document.body,props:{class:t.class,preventZoomViewport:t.preventZoomViewport,preventScrollBodyIfNeeded:t.preventScrollBodyIfNeeded,preventFooterOverlapIfNeeded:t.preventFooterOverlapIfNeeded}})}(t,e),l=function(){c.hide&&c.hide()},d=function(){c.show&&c.show()},view=E$(c.root);A$(view,o),o.handleEvent=N,view.handleEvent=function(t,e){if("init"===t)return o.handleEvent(t,o);o.handleEvent(t,e)},view.on("close",(0,k.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.willClose){e.next=3;break}return e.abrupt("return",l());case 3:return e.next=5,n();case 5:e.sent&&l();case 7:case"end":return e.stop()}}),e)}))));var f=function(t,e){return/show|hide/.test(t)?sub(t,e):view.on(t,e)},h=["show","hide"].map((function(t){return f(t,(function(e){return o.handleEvent(t,e)}))})),v=function(){h.forEach((function(t){return t()})),l(),c.$destroy(),view.destroy()};return Du(o,{on:f,destroy:v,hide:l,show:d}),Object.defineProperty(o,"modal",{get:function(){return c.root},set:function(){}}),c.$on("close",view.close),c.$on("show",(function(){return r("show")})),c.$on("hide",(function(){r("hide"),!1!==t.enableAutoDestroy&&v()})),!1!==t.enableAutoHide&&view.on("process",l),view.on("loadstart",d),!1!==t.enableButtonClose&&(t.enableButtonClose=!0),delete t.class,Object.assign(o,t),o};e.openEditor=Gx;var Hx=function(t,e){return B$(t,z(z({},e),{},{layout:"overlay"}))};e.overlayEditor=Hx;e.appendEditors=function(t,e){return jx(Vx,t,e)};var Zx=ax;e.createShapePreprocessor=Zx;var Xx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ax([].concat((0,P.default)([ix(ox()),X$(q$())]),(0,P.default)(t)))};e.createDefaultShapePreprocessor=Xx;var qx=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0;Array.isArray(e.imageReader)||(n=e.imageReader,delete e.imageReader),Array.isArray(e.imageWriter)?t=cx():(t=vt(e.imageWriter)?e.imageWriter:cx(e.imageWriter),delete e.imageWriter);var r=void 0;return vt(e.imageScrambler)||(r=e.imageScrambler,delete e.imageScrambler),{imageReader:ux(n),imageWriter:t,imageOrienter:sx(),imageScrambler:dx(r)}};e.processDefaultImage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=qx(e),r="function"==typeof e.shapePreprocessor?e.shapePreprocessor:Xx(e.shapePreprocessor);return delete e.shapePreprocessor,e=Mu([z(z({},n),{},{shapePreprocessor:r,stickerStickToImage:!0}),e]),dc(t,e)};var Yx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ch.apply(void 0,(0,P.default)([bx,yx,$x,xx,wx,Px,kx,Sx,Rx,Cx].filter(Boolean)));var e=["trim","crop","filter","finetune","annotate","decorate",t.stickers&&"sticker",t.fillOptions&&"fill","frame","redact","resize"].filter(Boolean),n=qx(t),r=z(z(z(z(z(z(z(z(z(z(z(z(z({},Ax),Ex),Lx),Fx),zx),Ox),Nx),Wx),Bx),Dx),_x),Ux),t.locale);delete t.locale;var o="function"==typeof t.shapePreprocessor?t.shapePreprocessor:Xx(t.shapePreprocessor);return delete t.shapePreprocessor,Mu([z(z(z(z(z(z({},n),{},{shapePreprocessor:o,utils:e},Mx),Tx),Ix),mx),{},{stickerStickToImage:!0,locale:r}),t])};e.getEditorDefaults=Yx;var Kx=function(){var t=(0,k.default)(regeneratorRuntime.mark((function t(){var e,n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.next=3,F$();case 3:return(n=t.sent).forEach((function(t){return Object.assign(t,pt(e))})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.defineCustomElements=Kx;e.defineDefaultCustomElements=function(t){return Kx(Yx(t))};e.openDefaultEditor=function(t,e){return Gx(Yx(t),e)};var Jx=function(element,t){return Vx(element,Yx(t))};e.appendDefaultEditor=Jx;e.overlayDefaultEditor=function(element,t){return Hx(element,Yx(t))};e.appendDefaultEditors=function(t,e){return jx(Jx,t,e)}}).call(this,n(58))},833:function(t,e,n){var content=n(834);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("4879c0ba",content,!0,{sourceMap:!1})},834:function(t,e,n){var r=n(15)((function(i){return i[1]}));r.push([t.i,'/*!\n* Pintura Image Editor 8.57.0 \n* (c) 2018-2023 PQINA Inc. - All Rights Reserved\n* License: https://pqina.nl/pintura/license/\n*/.PinturaPanel.PinturaSliderPanel{border-radius:var(--border-radius-round)}.PinturaPercentageLabel{font-feature-settings:"tnum";font-variant-numeric:tabular-nums;min-width:3em;text-align:center}.PinturaSliderPanel .PinturaSlider{--knob-size:0.75em;--knob-margin-left:0.3125em;--knob-margin-right:0.3125em;width:10em}.PinturaSliderPanel .PinturaSliderTrack{background-color:var(--color-foreground-10)}.PinturaSliderPanel .PinturaSliderKnob{background-color:var(--color-foreground-100);box-shadow:0 .125em .25em rgba(0,0,0,.35),0 -.125em .25em rgba(0,0,0,.1)}.PinturaRadioGroup .PinturaRadioGroupOptions{display:flex;flex-direction:column}.PinturaRadioGroup .PinturaRadioGroupOptionGroup+.PinturaRadioGroupOptionGroup{margin-top:.5em}.PinturaRadioGroup .PinturaRadioGroupOption[data-hidden=true]{display:none}.PinturaRadioGroup[data-layout=row] .PinturaRadioGroupOptions{flex-direction:row}.PinturaRadioGroup label{-webkit-tap-highlight-color:transparent}.PinturaUtilPanel[data-util=redact] .PinturaUtilFooter{padding:0}.PinturaUtilPanel[data-util=redact] .PinturaUtilFooter>div{height:1px}.pintura-editor,pintura-editor{--color-primary:#ffd843;--color-primary-dark:#ffc343;--color-primary-text:#000;--color-secondary:#03a9f4;--color-secondary-dark:#046bbf;--color-focus:4,107,191;--color-focus-100:rgba(var(--color-focus),1);--color-focus-50:rgba(var(--color-focus),0.5);--color-focus-25:rgba(var(--color-focus),0.25);--color-error:255,87,34;--color-error-100:rgb(var(--color-error));--color-error-75:rgba(var(--color-error),0.75);--color-error-50:rgba(var(--color-error),0.5);--color-error-25:rgba(var(--color-error),0.25);--color-error-10:rgba(var(--color-error),0.1);--color-foreground:0,0,0;--color-background:255,255,255;--color-preview-outline:var(--color-foreground);--color-transition-duration:250ms;--button-cursor:pointer;--font-size:16px;--font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--backdrop-filter-bright:brightness(110%) saturate(180%) blur(10px);--backdrop-filter-dark:brightness(90%) saturate(180%) blur(10px);--border-radius-round:9999em;--border-radius:0.625em;--filter-disabled:grayscale(95%) opacity(40%);--editor-inset-top:0px;--editor-inset-bottom:0px;--safe-area-inset-top:0px;--safe-area-inset-bottom:0px;--pattern-transparent:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'8\' height=\'8\'%3E%3Cpath fill=\'%23E5E5E5\' d=\'M0 0h4v4H0zm4 4h4v4H4z\'/%3E%3C/svg%3E")}.pintura-editor,.pintura-editor-panel,pintura-editor{--color-foreground-100:rgba(var(--color-foreground),1);--color-foreground-95:rgba(var(--color-foreground),0.95);--color-foreground-90:rgba(var(--color-foreground),0.9);--color-foreground-80:rgba(var(--color-foreground),0.8);--color-foreground-70:rgba(var(--color-foreground),0.7);--color-foreground-60:rgba(var(--color-foreground),0.6);--color-foreground-50:rgba(var(--color-foreground),0.5);--color-foreground-40:rgba(var(--color-foreground),0.4);--color-foreground-30:rgba(var(--color-foreground),0.3);--color-foreground-20:rgba(var(--color-foreground),0.25);--color-foreground-15:rgba(var(--color-foreground),0.2);--color-foreground-10:rgba(var(--color-foreground),0.15);--color-foreground-5:rgba(var(--color-foreground),0.075);--color-foreground-3:rgba(var(--color-foreground),0.05);--color-foreground-1:rgba(var(--color-foreground),0.02);--color-foreground-0:rgba(var(--color-foreground),0);--color-background-100:rgba(var(--color-background),1);--color-background-95:rgba(var(--color-background),0.95);--color-background-90:rgba(var(--color-background),0.9);--color-background-80:rgba(var(--color-background),0.8);--color-background-70:rgba(var(--color-background),0.7);--color-background-60:rgba(var(--color-background),0.6);--color-background-50:rgba(var(--color-background),0.5);--color-background-40:rgba(var(--color-background),0.4);--color-background-30:rgba(var(--color-background),0.3);--color-background-20:rgba(var(--color-background),0.2);--color-background-15:rgba(var(--color-background),0.15);--color-background-10:rgba(var(--color-background),0.1);--color-background-5:rgba(var(--color-background),0.05);--color-background-3:rgba(var(--color-background),0.03);--color-background-1:rgba(var(--color-background),0.01);--color-background-0:rgba(var(--color-background),0)}.PinturaRootWrapper,.pintura-editor,pintura-editor{display:block}.PinturaRootWrapper{height:100%}.PinturaScrollableContent{max-height:80vh;overflow:hidden;overflow-y:auto;scrollbar-color:var(--color-foreground-30) transparent;scrollbar-width:thin}.PinturaScrollableContent::-webkit-scrollbar{cursor:pointer;width:1em}.PinturaScrollableContent::-webkit-scrollbar-track{background:none}.PinturaScrollableContent::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:var(--color-foreground-30);border:.3125em solid transparent;border-radius:9999em;cursor:pointer}.PinturaRoot[data-env~=is-animated]{--transition-duration-multiplier:1}.PinturaRoot[data-env~=is-transparent]{background:none}.PinturaRoot{--nav-group-margin:0.5em;--editor-calculated-inset-top:calc(var(--safe-area-inset-top) + var(--editor-inset-top));--editor-calculated-inset-bottom:calc(var(--safe-area-inset-bottom) + var(--editor-inset-bottom));--transition-duration-10:calc(var(--transition-duration-multiplier, 0)*0.1s);--transition-duration-25:calc(var(--transition-duration-multiplier, 0)*0.25s);--transition-duration-50:calc(var(--transition-duration-multiplier, 0)*0.5s);background-color:var(--color-background-100);box-sizing:border-box;color:var(--color-foreground-90);contain:strict;direction:ltr;display:grid;font-family:var(--font-family);font-size:var(--font-size);font-weight:450;height:100%;height:var(--editor-height,100%);line-height:normal;max-height:none;max-height:var(--editor-max-height,var(--editor-max-height-default,none));max-width:none;max-width:var(--editor-max-width,var(--editor-max-width-default,none));outline-color:rgba(var(--color-preview-outline),1);overflow:hidden;padding-bottom:var(--editor-calculated-inset-bottom);padding-top:var(--editor-calculated-inset-top);position:relative;text-align:left;text-rendering:optimizeLegibility;text-transform:none;touch-action:manipulation;transition:background-color 1ms,outline-color 1ms,color 0s ease-in-out;transition:background-color 1ms,outline-color 1ms,color var(--transition-duration-10) ease-in-out;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;width:var(--editor-width,100%)}.PinturaRoot .PinturaUtilMain{cursor:var(--cursor)}.PinturaRoot *{word-wrap:normal;box-sizing:content-box}.PinturaRoot button,.PinturaRoot fieldset,.PinturaRoot input,.PinturaRoot legend{background:transparent;border:none;color:inherit;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;padding:0;-webkit-text-decoration:none;text-decoration:none;width:auto}.PinturaRoot button[disabled]{pointer-events:none}.PinturaRoot canvas{display:block}.PinturaRoot svg{display:inline-block;height:auto;max-width:none;width:auto}.PinturaRoot p{margin:0}.PinturaRoot li,.PinturaRoot ul{list-style:none;margin:0;padding:0}.PinturaRoot a{color:inherit;-webkit-text-decoration:none;text-decoration:none}.PinturaRoot .implicit{clip:rect(0 0 0 0);border:0;-webkit-clip-path:polygon(0 0,0 0,0 0);clip-path:polygon(0 0,0 0,0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.PinturaRoot .PinturaFixedWidthCharacters{font-feature-settings:"tnum";font-variant:tabular-nums}.PinturaRoot .PinturaStage{align-self:stretch;display:flex;flex:1;pointer-events:none}.PinturaRoot .PinturaStage[tabindex="-1"]{outline:none}.PinturaRoot .PinturaRootPortal,.PinturaRoot>.PinturaCanvas{left:0;position:absolute;top:0}.PinturaRoot>.PinturaCanvas{height:100%;pointer-events:none;width:100%;z-index:0}.PinturaRoot>.PinturaCanvas canvas{height:100%;position:absolute;width:100%}.PinturaRoot>.PinturaCanvas:after{background-repeat:no-repeat;bottom:0;content:"";left:0;position:absolute;right:0;top:0}.PinturaRoot>.PinturaStatus{align-items:flex-start;background-color:var(--color-background-90);display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:99999}.PinturaRoot>.PinturaStatus>p{align-items:center;display:inline-flex;left:50%;position:absolute;top:50%;transition:opacity var(--transition-duration-50) ease-out;white-space:nowrap}.PinturaRoot .PinturaStatusMessage{font-size:.875em;position:absolute}.PinturaRoot .PinturaStatusAside{left:0;position:absolute}.PinturaRoot .PinturaStatusAside svg{height:1.25em;width:1.25em}.PinturaRoot .PinturaStatusAside .PinturaProgressIndicator{margin-left:.5em}.PinturaRoot .PinturaStatusAside .PinturaButton{-webkit-backdrop-filter:var(--backdrop-filter-dark);backdrop-filter:var(--backdrop-filter-dark);background-color:var(--color-foreground-5);border-radius:var(--border-radius-round);font-size:.875em;margin-left:.75em;outline:transparent;padding:.25em;transition:background-color var(--transition-duration-10) ease-out,color var(--transition-duration-10) ease-out}.PinturaRoot .PinturaStatusAside .PinturaButton:not([disabled])[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaRoot .PinturaStatusAside .PinturaButton:not([disabled]):hover{background-color:var(--color-foreground-10)}.PinturaRoot .PinturaStatusIcon svg{font-size:.875em;margin-left:.5em;margin-top:.25em}.PinturaRoot>.PinturaNav{position:relative;z-index:3}.PinturaRoot>.PinturaNav:empty{display:none!important}.PinturaRoot>.PinturaNav .PinturaButton{outline:transparent;transition:background-color var(--transition-duration-10) ease-out,color var(--transition-duration-10) ease-out}.PinturaRoot>.PinturaNav .PinturaButton svg{transition:opacity var(--transition-duration-10) ease-out;width:1em}.PinturaRoot>.PinturaNav .PinturaButton>span{justify-content:center}.PinturaRoot>.PinturaNav .PinturaButtonIconOnly .PinturaButtonInner,.PinturaRoot>.PinturaNav .PinturaDropdownIconOnly .PinturaButtonInner{width:1.75em}.PinturaRoot>.PinturaNav .PinturaButton .PinturaButtonInner{height:1.75em}.PinturaRoot>.PinturaNav .PinturaButton:not(.PinturaButtonIconOnly):not(.PinturaDropdownIconOnly){padding-left:.75em;padding-right:.75em}.PinturaRoot>.PinturaNav .PinturaButton:not(.PinturaButtonIconOnly):not(.PinturaDropdownIconOnly) .PinturaButtonLabel{font-size:.75em;line-height:2}.PinturaRoot>.PinturaNav .PinturaButton:not(.PinturaButtonIconOnly):not(.PinturaDropdownIconOnly):not(.PinturaDropdownButton){box-shadow:inset 0 0 0 1px var(--color-foreground-5)}.PinturaRoot>.PinturaNav .PinturaButton:only-of-type{border-radius:var(--border-radius-round)}.PinturaRoot>.PinturaNav .PinturaButton:only-of-type+*{margin-left:.5em}.PinturaRoot>.PinturaNav .PinturaButton[disabled] .PinturaButtonLabel,.PinturaRoot>.PinturaNav .PinturaButton[disabled] svg{opacity:.25}.PinturaRoot>.PinturaNav .PinturaButton:not(.PinturaButtonExport):not([disabled])[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaRoot>.PinturaNav .PinturaButton:not(.PinturaButtonExport):not([disabled]):hover{background-color:var(--color-foreground-10)}.PinturaRoot .PinturaButtonExport{background-color:var(--color-primary);color:var(--color-primary-text)}.PinturaRoot .PinturaButtonExport:hover{background-color:var(--color-primary-dark)}.PinturaRoot .PinturaButtonExport[data-focus-visible]{background-color:var(--color-primary);background-color:var(--color-primary-dark);box-shadow:inset 0 0 0 1px var(--color-foreground-5),0 0 0 3px var(--color-focus-50);color:var(--color-primary-text)}.PinturaRoot .PinturaButtonExport:not(.PinturaButtonIconOnly){flex:1;padding:0 .75em}.PinturaRoot>.PinturaNavMain{display:flex;overflow:hidden}.PinturaRoot>.PinturaNavMain [aria-selected=true] button{-webkit-backdrop-filter:var(--backdrop-filter-dark);backdrop-filter:var(--backdrop-filter-dark);background-color:var(--color-foreground-10)}.PinturaRoot>.PinturaNavMain button svg{align-self:center;width:1.5em}.PinturaRoot>.PinturaNavMain button span,.PinturaRoot>.PinturaNavMain button svg{pointer-events:none}.PinturaRoot>.PinturaNavMain button svg+span{margin-top:.75em}.PinturaRoot>.PinturaNavMain button span{display:block;font-size:.875em;max-width:calc(100% - 1em);overflow:hidden;text-overflow:ellipsis;width:calc(100% - 1em);width:inherit}.PinturaRoot>.PinturaNavMain button{box-shadow:inset 0 0 0 1px var(--color-foreground-5);transition:background-color var(--transition-duration-10) ease-out,color var(--transition-duration-10) ease-out,box-shadow var(--transition-duration-10) ease-out}.PinturaRoot>.PinturaNavMain button:hover{box-shadow:inset 0 0 0 1px var(--color-foreground-10)}.PinturaRoot>.PinturaNavMain button[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaRoot>.PinturaNavTools{box-sizing:border-box;max-width:100%;pointer-events:none}.PinturaRoot>.PinturaNavTools:empty{display:none}.PinturaRoot>.PinturaNavTools,.PinturaRoot>.PinturaNavTools .PinturaNavGroup,.PinturaRoot>.PinturaNavTools .PinturaNavSet{align-items:center;display:flex;justify-content:center}.PinturaRoot>.PinturaNavTools .PinturaButton,.PinturaRoot>.PinturaNavTools .PinturaNavSet{pointer-events:all}.PinturaRoot>.PinturaNavTools .PinturaButton[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaRoot .PinturaNavGroup{margin:0 var(--nav-group-margin)}.PinturaRoot .PinturaNavGroup>*{border-radius:var(--border-radius-round)}.PinturaRoot .PinturaNavGroup>*+*{margin-left:.5em}.PinturaRoot .PinturaNavGroup:first-of-type{margin-left:0;margin-right:auto}.PinturaRoot .PinturaNavGroup:last-of-type{margin-left:auto;margin-right:0}.PinturaRoot .PinturaNavSet{box-shadow:inset 0 0 0 1px var(--color-foreground-5)}.PinturaRoot .PinturaNavSet>:not(:only-child){border:1px solid var(--color-foreground-3);border-bottom:0;border-top:0}.PinturaRoot .PinturaNavSet>:first-child:not(:only-child){border-left:0}.PinturaRoot .PinturaNavSet>:last-child:not(:only-child){border-right:0}.PinturaRoot .PinturaNavSet>*+*{margin-left:-1px}.PinturaRoot .PinturaNavSet>.PinturaButton:hover,.PinturaRoot .PinturaNavSet>.PinturaButton[data-focus-visible]{position:relative;z-index:1}.PinturaRoot .PinturaNavSet>:only-child{border-radius:var(--border-radius-round)}.PinturaRoot .PinturaNavSet>:first-child:not(:only-child) .PinturaButtonInner{padding:0 .125em 0 .25em}.PinturaRoot .PinturaNavSet>:first-child:not(:only-child){border-bottom-left-radius:var(--border-radius-round);border-top-left-radius:var(--border-radius-round)}.PinturaRoot .PinturaNavSet>:last-child:not(:only-child) .PinturaButtonInner{padding:0 .25em 0 .125em}.PinturaRoot .PinturaNavSet>:last-child:not(:only-child){border-bottom-right-radius:var(--border-radius-round);border-top-right-radius:var(--border-radius-round)}.PinturaRoot[data-env~=overlay] .PinturaNavSet{-webkit-backdrop-filter:var(--backdrop-filter-bright);backdrop-filter:var(--backdrop-filter-bright);background-color:var(--color-background-50);box-shadow:inset 0 0 0 1px var(--color-background-15),0 .0625em .125em rgba(0,0,0,.25),0 .125em .35em rgba(0,0,0,.35)}.PinturaRoot[data-env~=overlay] .PinturaNavSet .PinturaButton:not(.PinturaButtonExport):not([disabled]):hover,.PinturaRoot[data-env~=overlay] .PinturaNavSet>*{border-color:var(--color-background-15)}.PinturaRoot[data-env~=overlay] .PinturaNavGroup>.PinturaButton{box-shadow:0 .0625em .125em rgba(0,0,0,.25),0 .125em .35em rgba(0,0,0,.35)}.PinturaRoot[data-env~=overlay] .PinturaNavGroup .PinturaButtonExport{box-shadow:inset 0 0 .125em rgba(0,0,0,.25),0 .0625em .125em rgba(0,0,0,.25),0 .125em .35em rgba(0,0,0,.35)}.PinturaRoot .PinturaNavGroupFloat{left:0;pointer-events:none;position:absolute;right:0}.PinturaRoot .PinturaNavGroupFloat>*{pointer-events:all}.PinturaRoot .PinturaUtilFooter .PinturaScrollable>div{padding-left:1em;padding-right:1em}.PinturaRoot>.PinturaMain{max-width:100vw}.PinturaRoot:not([data-env~=has-toolbar]) .PinturaUtilHeader{margin-bottom:-1em;padding-bottom:1em;padding-top:0}.PinturaRoot[data-env~=landscape]{grid-template-columns:auto;grid-template-rows:min-content auto}.PinturaRoot[data-env~=landscape]>.PinturaNavTools{grid-column:1;grid-row:1;padding:1em 1em 0;z-index:3}.PinturaRoot[data-env~=landscape]>.PinturaNavMain{align-items:center;bottom:calc(1em + var(--editor-calculated-inset-bottom));justify-content:flex-end;left:1em;position:absolute;top:calc(1em + var(--editor-calculated-inset-top))}.PinturaRoot[data-env~=landscape]>.PinturaNavMain .PinturaTabList{flex-direction:column}.PinturaRoot[data-env~=landscape]>.PinturaNavMain .PinturaTabList li{display:flex}.PinturaRoot[data-env~=landscape]>.PinturaNavMain .PinturaTabList li+li{margin:.5em 0 0}.PinturaRoot[data-env~=landscape]>.PinturaNavMain button{border-radius:var(--border-radius);flex:1;height:4em;justify-content:center;width:4em}.PinturaRoot[data-env~=landscape]>.PinturaNavMain button span{font-size:.6875em;margin-top:.5em}.PinturaRoot[data-env~=landscape]>.PinturaNavMain button svg{margin-top:.25em;width:1em}.PinturaRoot[data-env~=landscape][data-env~=has-toolbar]>.PinturaNavMain{bottom:calc(4em + var(--editor-calculated-inset-bottom));top:calc(4em + var(--editor-calculated-inset-top))}.PinturaRoot[data-env~=landscape][data-env~=has-limited-space]>.PinturaNavMain{align-items:flex-start;bottom:calc(1em + var(--editor-calculated-inset-bottom))}.PinturaRoot[data-env~=landscape]>.PinturaMain{grid-column:1;grid-row:2}.PinturaRoot[data-env~=landscape][data-env~=has-toolbar-preference-bottom]{grid-template-rows:auto min-content}.PinturaRoot[data-env~=landscape][data-env~=has-toolbar-preference-bottom]>.PinturaNavTools{grid-row:2;padding-bottom:1em;padding-top:0}.PinturaRoot[data-env~=landscape][data-env~=has-toolbar-preference-bottom]>.PinturaMain{grid-row:1}.PinturaRoot[data-env~=landscape][data-env~=has-navigation]{grid-template-columns:6em auto}.PinturaRoot[data-env~=landscape][data-env~=has-navigation]:not([data-env~=narrow]) .PinturaNavGroupFloat{margin:0 0 0 7em}.PinturaRoot[data-env~=landscape][data-env~=has-navigation]>.PinturaNavTools{grid-column:1/span 2}.PinturaRoot[data-env~=landscape][data-env~=has-navigation]>.PinturaMain{grid-column:2}.PinturaRoot[data-env~=landscape][data-env~=has-navigation]:not([data-env~=has-navigation-preference-right]) .PinturaUtilMain{padding-left:0}.PinturaRoot[data-env~=landscape][data-env~=has-navigation]:not([data-env~=has-navigation-preference-right]) .PinturaUtilFooter{padding-right:1em}.PinturaRoot[data-env~=landscape][data-env~=has-navigation][data-env~=has-navigation-preference-right]{grid-template-columns:auto 6em}.PinturaRoot[data-env~=landscape][data-env~=has-navigation][data-env~=has-navigation-preference-right]:not([data-env~=narrow]) .PinturaNavGroupFloat{margin:0 7em 0 0}.PinturaRoot[data-env~=landscape][data-env~=has-navigation][data-env~=has-navigation-preference-right]>.PinturaNavMain{left:auto;right:1em}.PinturaRoot[data-env~=landscape][data-env~=has-navigation][data-env~=has-navigation-preference-right]>.PinturaMain{grid-column:1}.PinturaRoot[data-env~=landscape][data-env~=has-navigation][data-env~=has-navigation-preference-right] .PinturaUtilMain{padding-right:0}.PinturaRoot[data-env~=landscape][data-env~=has-navigation][data-env~=has-navigation-preference-right] .PinturaUtilFooter{padding-left:1em}.PinturaRoot[data-env~=portrait]{grid-template-columns:auto;grid-template-rows:min-content auto min-content}.PinturaRoot[data-env~=portrait]>*{grid-column:1}.PinturaRoot[data-env~=portrait]>.PinturaNavTools{grid-row:1;padding:.75em .75em 0}.PinturaRoot[data-env~=portrait]>.PinturaNavMain{grid-row:3;justify-content:center;margin-bottom:.75em}.PinturaRoot[data-env~=portrait]>.PinturaNavMain .PinturaTabList{padding:0 .875em}.PinturaRoot[data-env~=portrait]>.PinturaNavMain li+li{margin-left:.5em}.PinturaRoot[data-env~=portrait]>.PinturaNavMain[data-state~=overflows]{overflow:visible}.PinturaRoot[data-env~=portrait]>.PinturaNavMain button{border-radius:var(--border-radius);flex:1;height:4em;justify-content:center;width:4em}.PinturaRoot[data-env~=portrait]>.PinturaNavMain button span{font-size:.6875em;margin-top:.5em}.PinturaRoot[data-env~=portrait]>.PinturaNavMain button svg{margin-top:.25em;width:1em}.PinturaRoot[data-env~=portrait]>.PinturaMain{grid-column:1;grid-row:2}.PinturaRoot[data-env~=portrait][data-env~=has-toolbar-preference-bottom]{grid-template-rows:auto min-content min-content}.PinturaRoot[data-env~=portrait][data-env~=has-toolbar-preference-bottom]>.PinturaNavTools{grid-row:3;padding:0 .75em .75em}.PinturaRoot[data-env~=portrait][data-env~=has-toolbar-preference-bottom]>.PinturaNavMain{grid-row:2}.PinturaRoot[data-env~=portrait][data-env~=has-toolbar-preference-bottom]>.PinturaMain{grid-row:1}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top]{grid-template-rows:min-content min-content auto}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top]>.PinturaMain{grid-row:3}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top]>.PinturaNavMain{grid-row:2;margin-bottom:0;margin-top:.75em}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top][data-env~=has-toolbar-preference-bottom]{grid-template-rows:min-content auto min-content}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top][data-env~=has-toolbar-preference-bottom]>.PinturaNavMain{grid-row:1}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top][data-env~=has-toolbar-preference-bottom]>.PinturaMain{grid-row:2}.PinturaRoot[data-env~=portrait]:not([data-env~=narrow])[data-env~=has-navigation-preference-top][data-env~=has-toolbar-preference-bottom]>.PinturaNavTools{grid-row:3}.PinturaRoot[data-env~=landscape][data-env~=is-compact]>.PinturaNavMain button{align-items:center;border-radius:var(--border-radius);flex:1;flex-direction:row;height:auto;justify-content:flex-start;padding:.625em 0;width:auto;width:6em}.PinturaRoot[data-env~=landscape][data-env~=is-compact]>.PinturaNavMain button span{font-size:.6875em;line-height:1.2;margin:0 .625em 0 0;text-align:left}.PinturaRoot[data-env~=landscape][data-env~=is-compact]>.PinturaNavMain button svg{margin:0 .5em 0 .625em;min-width:1em}.PinturaRoot[data-env~=landscape][data-env~=is-compact][data-env~=has-navigation]{grid-template-columns:8em auto}.PinturaRoot[data-env~=landscape][data-env~=is-compact][data-env~=has-navigation][data-env~=has-navigation-preference-right]{grid-template-columns:auto 8em}.PinturaRoot[data-env~=narrow] .PinturaNavGroupFloat{margin:0;position:static}.PinturaRoot[data-env~=portrait][data-env~=is-compact]>.PinturaNavMain button{border-radius:9999em;font-size:.625em;height:4em;justify-content:center;padding:0;width:4em}.PinturaRoot[data-env~=portrait][data-env~=is-compact]>.PinturaNavMain button span{font-size:0;margin:0;visibility:hidden}.PinturaRoot[data-env~=portrait][data-env~=is-compact]>.PinturaNavMain button svg{margin-top:0;width:1.6em}.PinturaRoot[data-env~=portrait][data-env~=is-compact]>.PinturaNavMain button svg [stroke-width]{stroke-width:.15em}.PinturaRoot[data-env~=portrait][data-env~=narrow]{--nav-group-margin:0.25em;grid-template-columns:auto;grid-template-rows:min-content auto min-content}.PinturaRoot[data-env~=portrait][data-env~=narrow]>*{grid-column:1}.PinturaRoot[data-env~=portrait][data-env~=narrow] .PinturaUtilFooter .PinturaControlList .PinturaControlListOption span,.PinturaRoot[data-env~=portrait][data-env~=narrow] .PinturaUtilFooter .PinturaControlList [role=tab] span{font-size:.6875em}.PinturaRoot[data-env~=portrait][data-env~=narrow] .PinturaToolbar .PinturaToolbarInner>*{margin:0 .25em}.PinturaRoot[data-env~=portrait][data-env~=narrow][data-env~=has-toolbar-preference-bottom]{grid-template-rows:auto min-content min-content}.PinturaRoot[data-env~=overlay]{grid-template-columns:auto!important;grid-template-rows:auto!important}.PinturaRoot[data-env~=overlay] .PinturaNav{z-index:3}.PinturaRoot[data-env~=overlay] .PinturaMain{grid-column:1;grid-row:1}.PinturaRoot[data-env~=overlay] .PinturaUtilMain{bottom:0;left:0;padding:0;position:absolute;right:0;top:0;z-index:-1}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter,.PinturaRoot[data-env~=overlay] .PinturaUtilHeader{left:0;position:absolute;right:0}.PinturaRoot[data-env~=overlay] .PinturaUtilHeader{top:0}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter{bottom:0}.PinturaRoot[data-env~=overlay] .PinturaNavMain{background:none;bottom:0;position:absolute;right:0;top:0}.PinturaRoot[data-env~=overlay] .PinturaNavTools{left:0;position:absolute;right:0;top:0}.PinturaRoot[data-env~=overlay][data-env~=has-controlgroups-preference-top] .PinturaUtilFooter{bottom:auto;top:0}.PinturaRoot[data-env~=overlay][data-env~=has-toolbar-preference-bottom] .PinturaNavTools{bottom:0;top:auto}.PinturaRoot[data-env~=has-swipe-navigation] .PinturaUtilMain{padding-left:2em;padding-right:2em}.PinturaRoot[data-env~=has-swipe-navigation][data-env~=landscape] .PinturaUtilMain[data-env~=has-navigation]{padding-left:0;padding-right:2em}.PinturaRoot[data-env~=has-swipe-navigation][data-env~=landscape] .PinturaUtilMain[data-env~=has-navigation][data-env~=has-navigation-preference-right]{padding-left:2em;padding-right:0}.PinturaRoot[data-env*=is-disabled],.PinturaRoot[data-env*=is-disabled] *{pointer-events:none!important}.PinturaRoot[data-env*=is-disabled]{--color-primary:#b4b4b4;--color-primary-dark:#a0a0a0;--color-primary-text:#000;--color-secondary:#969696;--color-secondary-dark:#646464}.PinturaRoot[data-env*=is-disabled] .PinturaCanvas,.PinturaRoot[data-env*=is-disabled] .PinturaColorPickerButton{filter:grayscale(100%)}.PinturaRoot .PinturaEditorOverlay{background:var(--color-background-50);bottom:0;left:0;pointer-events:none;position:absolute;right:0;top:0;z-index:3}@media not all and (-webkit-min-device-pixel-ratio:0),not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none){.PinturaNav{will-change:transform}}}.PinturaOptionsList,.PinturaOptionsListWrapper{border-radius:inherit}.PinturaOptionsList .PinturaListOption{border-radius:inherit;transition:background-color var(--transition-duration-10)}.PinturaOptionsList .PinturaListOption label{border-radius:inherit;display:block;margin:0;white-space:nowrap}.PinturaOptionsList .PinturaListOption svg{margin-left:-.5em;margin-right:.25em;min-width:1.5em}.PinturaOptionsList .PinturaListOption [slot]{align-items:center;display:flex;padding:.325em .75em}.PinturaOptionsList .PinturaDropdownOptionLabel{display:inline-flex;flex-direction:column;font-size:.75em;line-height:1.75;margin-left:-.325em;padding:0 .325em}.PinturaOptionsList .PinturaDropdownOptionSublabel{font-size:.75em;margin-top:-.5em;opacity:.5}.PinturaOptionsList .PinturaListOptionGroup>span{color:var(--color-foreground-50);display:block;font-size:.75em;padding:.75em 1em;text-transform:uppercase}.PinturaOptionsList [data-disabled=true]{color:var(--color-foreground-50)}.PinturaOptionsList [data-selected=false]:not([data-disabled=true]):hover{background-color:var(--color-foreground-10)}.PinturaOptionsList [data-selected=true]{background-color:var(--color-foreground-20);color:var(--color-foreground-100)}.PinturaOptionsList [data-focus-visible]+label .PinturaDropdownOptionLabel{background-color:var(--color-focus-50);border-radius:.25em;box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaListOption label{margin:0}.PinturaColorPickerPanel{max-width:14em;overflow:visible;padding:.5em;touch-action:none}.PinturaColorPickerPanel .PinturaColorPickerButton{outline:transparent}.PinturaColorPickerPanel .PinturaColorPickerButton[data-focus-visible]{box-shadow:inset 0 0 0 1px var(--color-foreground-70)}.PinturaColorPickerPanel .PinturaColorPreview{border-radius:.25em;height:1.25em;width:1.25em}.PinturaColorPickerPanel .PinturaColorPreview span{border-radius:.2em;box-shadow:inset 0 0 0 1px var(--color-foreground-20)}.PinturaColorPickerPanel .PinturaColorPresets legend{color:var(--color-foreground-50);font-size:.75em;margin:0 0 .25em .3125em}.PinturaColorPickerPanel .PinturaColorPresets:only-child legend{display:none}.PinturaColorPickerPanel .PinturaColorPresetsGrid .PinturaRadioGroupOptions{display:flex;flex-direction:row;flex-wrap:wrap}.PinturaColorPickerPanel .PinturaColorPresetsGrid .PinturaListOption{display:block;padding:.25em}.PinturaColorPickerPanel .PinturaColorPresetsGrid .PinturaListOption label,.PinturaColorPickerPanel .PinturaColorPresetsGrid .PinturaListOption label span{cursor:var(--button-cursor);display:block}.PinturaColorPickerPanel .PinturaColorPresetsGrid input[data-focus-visible]+label .PinturaColorPreview:after{background-color:var(--color-focus-50);border-radius:inherit;bottom:-.3125em;box-shadow:inset 0 0 0 1px var(--color-focus-100);content:"";left:-.3125em;pointer-events:none;position:absolute;right:-.3125em;top:-.3125em}.PinturaColorPickerPanel .PinturaSlider{margin-left:-.325em;margin-right:-.325em}.PinturaColorPickerPanel .PinturaSlider>.PinturaSliderControl{position:relative;z-index:2}.PinturaColorPickerPanel .PinturaPicker{width:100%}.PinturaColorPickerPanel .PinturaPicker+.PinturaColorPresets{margin-top:.5em}.PinturaColorPickerPanel .PinturaPicker .PinturaPickerKnob,.PinturaColorPickerPanel .PinturaPicker .PinturaSliderKnob{border-radius:9999em;box-shadow:inset 0 .06125em .06125em rgba(0,0,0,.1),0 0 0 .06125em #fff,0 .1875em .25em rgba(0,0,0,.35),0 -.125em .25em rgba(0,0,0,.1)}.PinturaColorPickerPanel .PinturaPicker .PinturaPickerKnob{height:1.25em;left:0;margin-left:-.625em;margin-top:-.625em;outline:none;pointer-events:none;position:absolute;top:0;visibility:visible;width:1.25em;z-index:1}.PinturaColorPickerPanel .PinturaPicker .PinturaPickerKnob[data-focus-visible]:after{background-color:var(--color-focus-50);border-radius:inherit;bottom:-.3125em;box-shadow:inset 0 0 0 1px var(--color-focus-100);content:"";left:-.3125em;pointer-events:none;position:absolute;right:-.3125em;top:-.3125em}.PinturaColorPickerPanel .PinturaPicker .PinturaPickerKnobController{bottom:0;left:0;position:absolute;right:0;top:0;visibility:hidden}.PinturaColorPickerPanel .PinturaPicker .PinturaSaturationPicker{background-image:linear-gradient(180deg,transparent,#000),linear-gradient(90deg,#fff,transparent);border-radius:var(--border-radius) var(--border-radius) 0 0;height:7em;margin:-.5em -.5em .5em;position:relative}.PinturaColorPickerPanel .PinturaPicker .PinturaHuePicker .PinturaSliderTrack{background-image:linear-gradient(90deg,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}.PinturaColorPickerPanel .PinturaPicker .PinturaSliderTrack{box-shadow:inset 0 0 1px var(--color-foreground-50)}.PinturaColorPickerPanel .PinturaPicker .PinturaOpacityPicker .PinturaSliderKnob:before,.PinturaColorPickerPanel .PinturaPicker .PinturaOpacityPicker .PinturaSliderTrack:before{background-color:#fff;background-image:var(--pattern-transparent);border-radius:inherit;content:"";display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}.PinturaColorPickerPanel .PinturaPicker .PinturaOpacityPicker .PinturaSliderKnob:before{background-position:calc(var(--slider-position)*-2px) 0}.PinturaColorPickerPanel .PinturaPicker .PinturaOpacityPicker{margin-top:.5em}.PinturaUtilPanel[data-util=filter] .PinturaUtilFooter{padding-left:0!important;padding-right:0!important}.PinturaUtilPanel[data-util=filter] .PinturaScrollable{width:40em}.PinturaUtilPanel[data-util=filter] [data-layout=row]>.PinturaRadioGroupOptions>li{margin:0 .5em}.PinturaUtilPanel[data-util=filter] [data-layout=row]>.PinturaRadioGroupOptions>li:first-child{margin-left:0}.PinturaUtilPanel[data-util=filter] [data-layout=row]>.PinturaRadioGroupOptions>li:last-child{margin-right:0}.PinturaUtilPanel[data-util=filter] .PinturaRadioGroupOptionGroupLabel{font-size:0;height:1px;pointer-events:none;position:absolute;width:1px}.PinturaUtilPanel[data-util=filter] .PinturaFilterPreview{border-radius:0;transition:border-radius 1ms}.PinturaUtilPanel[data-util=filter] .PinturaFilterOption{border-radius:0}.PinturaUtilPanel[data-util=filter] .PinturaRadioGroupOptions .PinturaRadioGroupOption:first-of-type .PinturaFilterPreview{border-bottom-left-radius:var(--border-radius);border-top-left-radius:var(--border-radius)}.PinturaUtilPanel[data-util=filter] .PinturaRadioGroupOptions .PinturaRadioGroupOption:first-of-type .PinturaFilterOption{border-bottom-left-radius:var(--border-radius)}.PinturaUtilPanel[data-util=filter] .PinturaRadioGroupOptions .PinturaRadioGroupOption:last-of-type .PinturaFilterPreview{border-bottom-right-radius:var(--border-radius);border-top-right-radius:var(--border-radius)}.PinturaUtilPanel[data-util=filter] .PinturaRadioGroupOptions .PinturaRadioGroupOption:last-of-type .PinturaFilterOption{border-bottom-right-radius:var(--border-radius)}.PinturaUtilPanel[data-util=filter] .PinturaRadioGroupOptionGroup{display:flex;flex-direction:column-reverse}.PinturaUtilPanel[data-util=filter] .PinturaFilterOption{cursor:var(--button-cursor);margin-bottom:1em}.PinturaUtilPanel[data-util=filter] .PinturaFilterOption span{display:block;font-size:.625em;font-weight:400;line-height:1.75;margin-left:1px;max-width:100%;overflow:hidden;padding:0 .3125em;text-align:center;text-overflow:ellipsis;white-space:nowrap}.PinturaUtilPanel[data-util=filter] .PinturaFilterPreview:before{transition:background-color var(--transition-duration-10),color var(--transition-duration-10)}.PinturaUtilPanel[data-util=filter] [data-selected=true] .PinturaFilterOption .PinturaFilterPreview{position:relative;z-index:1}.PinturaUtilPanel[data-util=filter] [data-selected=true] .PinturaFilterOption .PinturaFilterPreview:before{background-color:var(--color-primary);border-radius:inherit;content:"";height:100%;opacity:.35;position:absolute;width:100%}.PinturaUtilPanel[data-util=filter] [data-focus-visible]+label>.PinturaFilterOption span{background-color:var(--color-focus-50);border-radius:.25em;box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaUtilPanel[data-util=filter] .PinturaFilterOption,.PinturaUtilPanel[data-util=filter] .PinturaFilterPreview{height:4.5em;width:3.75em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=filter] .PinturaUtilFooter>div{padding:0}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=filter] .PinturaFilterOption,.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=filter] .PinturaFilterPreview{height:3.5em;width:2.875em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=filter] .PinturaFilterOption span{font-size:.5em}.PinturaUtilPanel[data-util=frame] .PinturaShapeStyleEditor{min-height:3.375em}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption{border:1px dashed var(--color-foreground-15);color:var(--color-foreground-70);margin:1em 1em 0 0;padding:.125em}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption span{color:var(--color-foreground-90)}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption label{font-size:.75em}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption img,.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption svg{height:100%;left:0;-o-object-fit:contain;object-fit:contain;position:absolute;top:0;width:100%}.PinturaUtilPanel[data-util=frame] [data-selected=true]{border-color:var(--color-primary);color:var(--color-primary)}.PinturaUtilPanel[data-util=frame] [data-selected=true] span{color:var(--color-foreground-90)}.PinturaUtilPanel[data-util=frame] [data-layout=row]>.PinturaRadioGroupOptions>li{margin:0 .5em}.PinturaUtilPanel[data-util=frame] [data-layout=row]>.PinturaRadioGroupOptions>li:first-child{margin-left:0}.PinturaUtilPanel[data-util=frame] [data-layout=row]>.PinturaRadioGroupOptions>li:last-child{margin-right:0}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOptionGroupLabel{font-size:0;height:1px;position:absolute;width:1px}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOptionGroup{display:flex;flex-direction:column-reverse}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption{cursor:var(--button-cursor);margin-bottom:1em}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption span{display:block;font-size:.625em;font-weight:400;padding:0 1.5em;text-align:center}.PinturaUtilPanel[data-util=frame] [data-focus-visible]+label>.PinturaRadioGroupOption span{background-color:var(--color-focus-50);border-radius:.25em;box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption{height:4em;position:relative;width:3em}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption div{border-color:currentColor;cursor:var(--button-cursor);outline-color:currentColor;position:absolute}.PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption div[slot]{align-items:center;bottom:-1px;display:flex;justify-content:center;left:-1px;overflow:hidden;right:-1px;top:-1px}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=frame] .PinturaUtilFooter>div{padding:0}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption{height:3em;width:2.25em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=frame] .PinturaRadioGroupOption span{font-size:.5em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=frame] [data-layout=row]>.PinturaRadioGroupOptions>li{margin:0 .25em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=frame] [data-layout=row]>.PinturaRadioGroupOptions>li:first-child{margin-left:0}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=frame] [data-layout=row]>.PinturaRadioGroupOptions>li:last-child{margin-right:0}.PinturaUtilPanel[data-util=resize] form{display:flex;justify-content:center;padding:0 1em}.PinturaUtilPanel[data-util=resize] .PinturaFormInner{align-items:center;display:flex;justify-content:center;position:relative}.PinturaUtilPanel[data-util=resize] .PinturaFormInner>button{left:100%;margin-left:1em;position:absolute}.PinturaUtilPanel[data-util=resize] .PinturaFieldsetInner{align-items:center;display:inline-flex;justify-content:center}.PinturaUtilPanel[data-util=resize] .PinturaResizeLabel{font-size:.75em}.PinturaUtilPanel[data-util=resize] .PinturaDropdownButton{background-color:var(--color-foreground-5);border-radius:var(--border-radius-round);box-shadow:inset 0 0 0 1px var(--color-foreground-5);margin-left:.5em;margin-right:.5em;transition:background-color var(--transition-duration-10)}.PinturaUtilPanel[data-util=resize] .PinturaDropdownButton:hover{background-color:var(--color-foreground-10)}.PinturaUtilPanel[data-util=resize] .PinturaDropdownButton .PinturaButtonLabel{font-feature-settings:"tnum";display:block;font-size:.75em;font-variant-numeric:tabular-nums;font-weight:400;line-height:2.65;padding:0 1em}.PinturaUtilPanel[data-util=resize] .PinturaDropdownButton .PinturaButtonLabel:after{content:"â–¼";font-size:.6875em;margin-left:.75em;margin-right:-.25em;pointer-events:none;position:relative;top:-.125em}.PinturaUtilPanel[data-util=resize] input[type=checkbox]+label{cursor:pointer;display:block;outline:transparent;padding:0 .125em}.PinturaUtilPanel[data-util=resize] input[type=checkbox][data-focus-visible]+label{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaInputDimension{align-items:center;display:inline-flex;position:relative}.PinturaInputDimension label{color:var(--color-foreground-80);font-size:.75em;pointer-events:none;position:absolute;right:.625em;text-transform:uppercase;z-index:1}.PinturaInputDimension button,.PinturaInputDimension input,.PinturaInputDimension label{font-size:.75em;font-weight:400}.PinturaInputDimension button,.PinturaInputDimension input{font-feature-settings:"tnum";-webkit-appearance:none;appearance:none;-moz-appearance:textfield;border:1px solid var(--color-foreground-80);border-radius:var(--border-radius);box-shadow:none;box-sizing:border-box;font-variant-numeric:tabular-nums;max-width:7em;outline:transparent;padding:.625em 0 .625em .625em;transition:background-color var(--transition-duration-10) ease-in-out,color var(--transition-duration-10) ease-in-out,border-color var(--transition-duration-10) ease-in-out;width:100%}.PinturaInputDimension button::-moz-selection,.PinturaInputDimension input::-moz-selection{background-color:var(--color-foreground-20)}.PinturaInputDimension button::-moz-selection, .PinturaInputDimension input::-moz-selection{background-color:var(--color-foreground-20)}.PinturaInputDimension button::selection,.PinturaInputDimension input::selection{background-color:var(--color-foreground-20)}.PinturaInputDimension button:hover,.PinturaInputDimension input:hover{background-color:var(--color-foreground-10)}.PinturaInputDimension button:focus,.PinturaInputDimension input:focus{border-color:var(--color-focus-100)}.PinturaInputDimension input{background-color:var(--color-foreground-5)}.PinturaInputDimension input:-moz-placeholder-shown+label{color:var(--color-foreground-20)}.PinturaInputDimension input:placeholder-shown+label{color:var(--color-foreground-20)}.PinturaInputDimension input::-moz-placeholder{color:var(--color-foreground-30)}.PinturaInputDimension input::placeholder{color:var(--color-foreground-30)}.PinturaInputDimension input[data-state=invalid]{border-color:var(--color-error-75);box-shadow:inset 0 0 .25em var(--color-error-25),0 0 .25em var(--color-error-50)}.PinturaInputDimension button{min-height:2.65em;width:10em}.PinturaInputDimension input::-webkit-inner-spin-button,.PinturaInputDimension input::-webkit-outer-spin-button{-webkit-appearance:none}.PinturaInputDimension input::-ms-clear{display:none}.PinturaUtilPanel[data-util=crop] .PinturaStage{touch-action:none}.PinturaUtilPanel[data-util=crop],.PinturaUtilPanel[data-util=crop] .PinturaStage,.PinturaUtilPanel[data-util=crop] .PinturaUtilMain{pointer-events:all}.PinturaUtilPanel[data-util=crop] .PinturaImageInfo{bottom:1em;position:absolute;right:1em}.PinturaUtilPanel[data-util=crop] .PinturaButtonCenter{--size:3em;-webkit-backdrop-filter:var(--backdrop-filter-bright);backdrop-filter:var(--backdrop-filter-bright);background:hsla(0,0%,100%,.8);border-radius:50%;color:#000;height:3em;height:var(--size);left:0;line-height:0;margin-left:-1.5em;margin-left:calc(var(--size)*-.5);margin-top:-1.5em;margin-top:calc(var(--size)*-.5);outline:none;overflow:hidden;position:absolute;top:0;width:3em;width:var(--size);z-index:1}.PinturaUtilPanel[data-util=crop] .PinturaButtonCenter[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaRoot[data-env~=short] .PinturaUtilPanel[data-util=crop] .PinturaUtilFooter{padding-bottom:.5em}.PinturaUtilPanel[data-util=fill] [data-layout=row]>.PinturaRadioGroupOptions>li{margin:0 .25em}.PinturaUtilPanel[data-util=fill] [data-layout=row]>.PinturaRadioGroupOptions>li:first-child{margin-left:0}.PinturaUtilPanel[data-util=fill] [data-layout=row]>.PinturaRadioGroupOptions>li:last-child{margin-right:0}.PinturaUtilPanel[data-util=fill] .PinturaRadioGroupOption{height:4em;position:relative;width:3em}.PinturaUtilPanel[data-util=fill] .PinturaFillTile{height:100%;position:absolute;width:100%}.PinturaUtilPanel[data-util=fill] .PinturaFillTile[data-transparent=true]{background-color:#fff;background-image:var(--pattern-transparent);border-radius:calc(var(--border-radius) + 1px)}.PinturaUtilPanel[data-util=fill] .PinturaFillTile div,.PinturaUtilPanel[data-util=fill] .PinturaFillTile img{border-radius:var(--border-radius);cursor:var(--button-cursor);height:100%;left:0;-o-object-fit:cover;object-fit:cover;position:absolute;top:0;width:100%}.PinturaUtilPanel[data-util=fill] .PinturaFillTile:after{border-radius:var(--border-radius);box-shadow:inset 0 0 0 1px var(--color-foreground-5);content:"";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:3}.PinturaUtilPanel[data-util=fill] .PinturaRadioGroupOption[data-selected=true] .PinturaFillTile:after{box-shadow:inset 0 0 0 1px var(--color-foreground-5),inset 0 0 0 4px var(--color-primary),inset 0 0 0 5px var(--color-foreground-5)}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=fill] .PinturaUtilFooter>div{padding:0}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=fill] .PinturaRadioGroupOption{height:3em;width:2.25em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=fill] .PinturaRadioGroupOption span{font-size:.5em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=fill] [data-layout=row]>.PinturaRadioGroupOptions>li{margin:0 .175em}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=fill] [data-layout=row]>.PinturaRadioGroupOptions>li:first-child{margin-left:0}.PinturaRoot[data-env~=is-compact] .PinturaUtilPanel[data-util=fill] [data-layout=row]>.PinturaRadioGroupOptions>li:last-child{margin-right:0}.PinturaModal{--safe-area-inset-top:env(safe-area-inset-top);--safe-area-inset-bottom:env(safe-area-inset-bottom);--editor-modal-border-radius:0;--editor-modal-overlay-opacity:0.95;--editor-modal-shadow:0 1em 2em -1em rgba(0,0,0,.25),0 1.5em 1.5em -2em rgba(0,0,0,.5);--editor-modal-outline:inset 0 0 0 1px var(--color-foreground-3);align-items:center;background-color:rgba(var(--color-background),.95);background-color:rgba(var(--color-background),var(--editor-modal-overlay-opacity,var(--editor-modal-overlay-opacity-default,.95)));display:flex;height:100vh;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:2147483646}.PinturaModal>.PinturaRoot[data-env~=is-centered]{border-radius:var(--editor-modal-border-radius);box-shadow:var(--editor-modal-shadow)}.PinturaModal>.PinturaRoot[data-env~=is-centered]:after{border-radius:inherit;bottom:0;box-shadow:var(--editor-modal-outline);content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;z-index:2147483646}.PinturaModal[style*="--viewport-pad-footer:1"]{box-sizing:border-box;padding-bottom:env(safe-area-inset-bottom)}.PinturaModal+.PinturaModal{--editor-modal-overlay-opacity-default:0.75}.PinturaModal+.PinturaModal .PinturaRoot:not([data-env~=is-compact]){--editor-max-width-default:calc(100vw - 8em);--editor-max-height-default:calc(100vh - 8em)}.PinturaDocumentLock,.PinturaDocumentLock body{box-sizing:border-box;height:calc(var(--pintura-document-height) - 1px);overflow-y:hidden}.PinturaDocumentLock body{position:relative}.PinturaDocumentLock .PinturaModal{height:100%!important}.PinturaPanel{--color-inset:hsla(0,0%,100%,.1);--color-fill:var(--color-foreground-5);border-radius:var(--border-radius);box-shadow:inset 0 0 0 1px hsla(0,0%,100%,.1),0 .125em .25em rgba(0,0,0,.25),0 .125em .75em rgba(0,0,0,.15),0 .125em .125em rgba(0,0,0,.1);box-shadow:inset 0 0 0 1px var(--color-inset),0 .125em .25em rgba(0,0,0,.25),0 .125em .75em rgba(0,0,0,.15),0 .125em .125em rgba(0,0,0,.1);cursor:auto;left:0;outline:transparent;top:0;width:-moz-max-content;width:max-content;z-index:2147483647}.PinturaPanel,.PinturaPanelTip{background-blend-mode:screen;background-color:var(--color-background-100);background-image:linear-gradient(var(--color-fill),var(--color-fill));color:var(--color-foreground-90);position:absolute}.PinturaPanelTip{--tip-mask:transparent calc(50% - 1.5px),#000 calc(50% - 1.5px);box-shadow:inset -1px -1px 0 0 var(--color-inset);height:.5em;margin-left:-.25em;margin-top:-.25em;-webkit-mask:linear-gradient(to bottom right,transparent calc(50% - 1.5px),#000 calc(50% - 1.5px));mask:linear-gradient(to bottom right,transparent calc(50% - 1.5px),#000 calc(50% - 1.5px));-webkit-mask:linear-gradient(to bottom right,var(--tip-mask));mask:linear-gradient(to bottom right,var(--tip-mask));width:.5em;z-index:-1}.PinturaPanelTip[style*="top:0"]{box-shadow:inset 1px 1px 0 0 var(--color-inset);-webkit-mask:linear-gradient(to top left,var(--tip-mask));mask:linear-gradient(to top left,var(--tip-mask))}.PinturaTabPanels{display:grid;flex:1;grid-template-columns:1fr}.PinturaTabPanel{grid-column-start:1;grid-row-start:1;position:relative}.PinturaTabPanel:not([hidden]){outline:transparent;z-index:2}.PinturaTabPanel[hidden]{display:block!important;pointer-events:none;z-index:1}.PinturaTabPanel[data-inert=true]{visibility:hidden}@supports not (aspect-ratio:1){.PinturaTabPanel{overflow-x:hidden}}.PinturaTabList{display:flex;justify-content:center}.PinturaTabList button{-webkit-tap-highlight-color:transparent;align-items:center;cursor:var(--button-cursor);display:flex;flex-direction:column;outline:transparent}.PinturaTabList button>*{transition:filter var(--transition-duration-10) ease-out}.PinturaTabList button[disabled]>*{filter:var(--filter-disabled)}.PinturaScrollable{--scrollable-feather-start-opacity:0;--scrollable-feather-end-opacity:0;--scrollable-feather-size:2em;contain:paint;overflow:hidden}.PinturaScrollable:focus{outline:transparent}.PinturaScrollable>div{display:inline-flex;position:relative;vertical-align:top}.PinturaScrollable{touch-action:none}.PinturaScrollable[data-direction=x]{--mask-angle:90deg;max-width:100%}.PinturaScrollable[data-direction=y]{--mask-angle:180deg;max-height:100%}.PinturaScrollable[data-state~=overflows]{-webkit-mask:linear-gradient(var(--mask-angle),rgba(0,0,0,var(--scrollable-feather-start-opacity)),#000 var(--scrollable-feather-size),#000 calc(100% - var(--scrollable-feather-size)),rgba(0,0,0,var(--scrollable-feather-end-opacity)));mask:linear-gradient(var(--mask-angle),rgba(0,0,0,var(--scrollable-feather-start-opacity)),#000 var(--scrollable-feather-size),#000 calc(100% - var(--scrollable-feather-size)),rgba(0,0,0,var(--scrollable-feather-end-opacity)))}.PinturaScrollable[data-state~=scrolling]>div *{pointer-events:none}.PinturaUtilPanel{box-sizing:border-box;contain:layout size;display:flex;flex:1;flex-direction:column;height:100%;position:relative;z-index:1}.PinturaUtilPanel,.PinturaUtilPanel>*{padding-bottom:.5em;padding-top:.5em}.PinturaButton{-webkit-tap-highlight-color:transparent;cursor:var(--button-cursor);flex-shrink:0;white-space:nowrap}.PinturaButton>span{align-items:center;display:inline-flex;min-height:1em;vertical-align:top}.PinturaButton svg+.PinturaButtonLabel{margin-left:.5em}.PinturaButton[disabled]{cursor:default}.PinturaButton:not(.PinturaButtonIconOnly) svg:first-of-type{margin-left:-.25em}.PinturaProgressIndicator{display:block;height:1.25em;position:relative;width:1.25em}.PinturaProgressIndicator .PinturaProgressIndicatorFill{stroke-dashoffset:0}.PinturaProgressIndicator[data-status=busy] svg{animation:image_editor_spin 1s linear infinite}.PinturaProgressIndicator[data-status=busy] .PinturaProgressIndicatorFill{stroke-dashoffset:-26.5;stroke-dasharray:26.5 53;transition:stroke-dashoffset .5s linear,stroke-dasharray .5s linear}@keyframes image_editor_spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media only screen and (-webkit-min-device-pixel-ratio:3){.PinturaRoot[data-env~=is-ios] .PinturaProgressIndicator svg{transform-origin:49% 49%}}.PinturaSlider{--track-offset-x:0.5em;--track-offset-y:0.5em;--track-size:1.5em;--knob-size:1em;--knob-margin-top:0em;--knob-margin-right:0em;--knob-margin-bottom:0em;--knob-margin-left:0em;align-items:center;display:flex;position:relative;touch-action:none}.PinturaSlider[data-direction=y]{flex-direction:column}.PinturaSlider .PinturaSliderControl{flex:1;position:relative}.PinturaSlider>button{cursor:pointer;flex-shrink:none;height:var(--track-size);overflow:hidden;position:relative;width:var(--track-size);z-index:1}.PinturaSlider>button svg{stroke-width:.125em;stroke:var(--color-foreground-50);height:1.25em;margin:.125em;width:1.25em}.PinturaSlider>button:first-of-type{margin-left:-.325em;order:2;padding-right:.125em}.PinturaSlider>button:last-of-type{margin-right:-.325em;order:1;padding-left:.125em}.PinturaSlider>.PinturaSliderControl{order:2}.PinturaSlider .PinturaSliderKnob{border-radius:9999em;height:var(--knob-size);left:0;margin-left:calc(var(--knob-size)*-.5);margin-top:calc(var(--knob-size)*-.5);top:50%;visibility:visible;width:var(--knob-size)}.PinturaSlider .PinturaSliderKnob,.PinturaSlider .PinturaSliderKnobController,.PinturaSlider .PinturaSliderTrack{pointer-events:none;position:absolute}.PinturaSlider .PinturaSliderTrack{bottom:var(--track-offset-y);left:var(--track-offset-x);right:var(--track-offset-x);top:var(--track-offset-y)}.PinturaSlider .PinturaSliderKnobController{bottom:calc(var(--track-offset-y) + var(--knob-margin-bottom));left:calc(var(--track-offset-x) + var(--knob-margin-left));right:calc(var(--track-offset-x) + var(--knob-margin-right));top:calc(var(--track-offset-y) + var(--knob-margin-top));visibility:hidden}.PinturaSlider .PinturaSliderTrack{border-radius:9999em}.PinturaSlider[data-direction=x] input[type=range]{height:var(--track-size);margin-left:var(--track-offset-x);width:calc(100% - var(--track-offset-x)*2)}.PinturaSlider[data-direction=y] input[type=range]{height:calc(100% - var(--track-offset-y)*2);margin-top:var(--track-offset-y);width:var(--track-size)}.PinturaSlider input[type=range]{-webkit-appearance:none;display:block}.PinturaSlider input[type=range]::-webkit-slider-runnable-track{background:transparent}.PinturaSlider input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;border:none;line-height:0;margin:0;padding:0}.PinturaSlider input[type=range]::-moz-range-thumb{border:none;line-height:0;margin:0;padding:0;visibility:hidden}.PinturaSlider input[type=range]::-ms-thumb{border:none;line-height:0;margin:0;padding:0}.PinturaSlider input[type=range]::-ms-ticks-before,.PinturaSlider input[type=range]::-ms-tooltip{display:none}.PinturaSlider input[type=range]::-ms-ticks-after{display:none}.PinturaSlider input[type=range]::-ms-track{background:transparent;border:none;color:transparent}.PinturaSlider input[type=range]::-ms-fill-lower,.PinturaSlider input[type=range]::-ms-fill-upper{background:transparent}.PinturaSlider input[type=range]:focus{outline:transparent}.PinturaSlider input[type=range][data-focus-visible]~.PinturaSliderKnobController .PinturaSliderKnob:after{background-color:var(--color-focus-50);border-radius:inherit;bottom:-.3125em;box-shadow:inset 0 0 0 1px var(--color-focus-100);content:"";left:-.3125em;pointer-events:none;position:absolute;right:-.3125em;top:-.3125em}.PinturaColorPreview{--color:transparent;background-color:#fff;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'8\' height=\'8\'%3E%3Cpath fill=\'%23E5E5E5\' d=\'M0 0h4v4H0zm4 4h4v4H4z\'/%3E%3C/svg%3E");color:transparent;color:var(--color);pointer-events:none;position:relative}.PinturaColorPreview span{background-color:var(--color);border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.PinturaUtilMain{min-height:1px;padding-left:1em;padding-right:1em;touch-action:none}.PinturaUtilMain,.PinturaUtilMain>[slot]{display:flex;flex:1;flex-direction:column}.PinturaUtilMain>[slot]{align-items:center}.PinturaUtilFooter>[slot]:empty{min-height:1em}.PinturaUtilFooter>[slot]{align-items:center;display:flex;flex-direction:column;justify-content:stretch;pointer-events:all}.PinturaUtilFooter .PinturaControlPanel .PinturaShapePresetsList,.PinturaUtilFooter .PinturaShapeStyleList{align-items:flex-start;min-height:3.5em}.PinturaUtilFooter .PinturaControlList [role=tab][aria-selected=true] button{background-color:var(--color-foreground-10);box-shadow:inset 0 0 0 1px var(--color-foreground-5)}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption label,.PinturaUtilFooter .PinturaControlList [role=tab] button{border-radius:var(--border-radius-round);box-shadow:inset 0 0 0 1px var(--color-foreground-0);cursor:var(--button-cursor);flex-direction:row;line-height:1;min-height:1.75em;padding:0 .75em;transition:background-color var(--transition-duration-10) ease-out,color var(--transition-duration-10) ease-out,filter var(--transition-duration-25) ease-out}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption label span,.PinturaUtilFooter .PinturaControlList [role=tab] button span{font-size:.75em;font-weight:400}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption label svg,.PinturaUtilFooter .PinturaControlList [role=tab] button svg{font-size:.875em;width:.875em}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption label svg:not(:only-child),.PinturaUtilFooter .PinturaControlList [role=tab] button svg:not(:only-child){margin-left:-.25em;margin-right:.375em}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption label:hover,.PinturaUtilFooter .PinturaControlList [role=tab] button:hover{box-shadow:inset 0 0 0 1px var(--color-foreground-10)}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption label[data-focus-visible],.PinturaUtilFooter .PinturaControlList [role=tab] button[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaUtilFooter .PinturaControlListOption [slot],.PinturaUtilFooter .PinturaControlListOption label{align-items:center;display:flex;flex-direction:row}.PinturaUtilFooter .PinturaControlListOption[data-selected=true] label{background-color:var(--color-foreground-10);box-shadow:inset 0 0 0 1px var(--color-foreground-5)}.PinturaUtilFooter .PinturaControlListOption input[data-focus-visible]+label{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaUtilFooter .PinturaControlListOption input[disabled]+label{filter:var(--filter-disabled)}.PinturaUtilFooter .PinturaControlList .PinturaControlListOption+.PinturaControlListOption,.PinturaUtilFooter .PinturaControlList>li+li{margin-left:.5em}.PinturaUtilFooter .PinturaControlPanels{display:grid;flex:auto;grid-template-columns:1fr;margin:0 auto;max-width:100%;width:40em}.PinturaUtilFooter .PinturaControlPanel{grid-column-start:1;grid-row-start:1;max-width:100%;opacity:1;overflow:hidden;visibility:visible}.PinturaUtilFooter .PinturaControlPanel[hidden]{display:block!important;opacity:0;pointer-events:none;transition-delay:0s;visibility:hidden}.PinturaUtilFooter .PinturaControlList[data-layout=compact]>*+*{margin-left:-1px}.PinturaUtilFooter .PinturaControlList[data-layout=compact]>[role=tab] button{border-radius:0;box-shadow:inset 0 0 0 1px var(--color-foreground-5);padding-left:.625em;padding-right:.625em}.PinturaUtilFooter .PinturaControlList[data-layout=compact]>[role=tab]:only-child button{border-radius:var(--border-radius-round)}.PinturaUtilFooter .PinturaControlList[data-layout=compact]>[role=tab]:first-child:not(:only-child) button{border-bottom-left-radius:var(--border-radius-round);border-top-left-radius:var(--border-radius-round);padding-left:.75em}.PinturaUtilFooter .PinturaControlList[data-layout=compact]>[role=tab]:last-child:not(:only-child) button{border-bottom-right-radius:var(--border-radius-round);border-top-right-radius:var(--border-radius-round);padding-right:.75em}@supports not (aspect-ratio:1){.PinturaControlPanel{overflow-x:hidden}}.PinturaRoot[data-env~=is-animated] .PinturaUtilFooter .PinturaControlPanel{transition:opacity var(--transition-duration-25) ease-in-out,visibility var(--transition-duration-25) linear;transition-delay:.1s}.PinturaRoot[data-env~=has-controlgroups-preference-top] .PinturaUtilHeader{order:1}.PinturaRoot[data-env~=has-controlgroups-preference-top] .PinturaUtilFooter{order:2}.PinturaRoot[data-env~=has-controlgroups-preference-top] .PinturaUtilMain{order:3}.PinturaRoot[data-env~=has-controltabs-preference-bottom] .PinturaUtilFooter .PinturaControlPanels{order:-1}.PinturaRoot[data-env~=has-controltabs-preference-bottom] .PinturaUtilFooter .PinturaRangeInput .PinturaRangeInputReset{bottom:auto;top:0}.PinturaRoot[data-env~=has-controltabs-preference-bottom] .PinturaUtilFooter .PinturaControlPanel .PinturaShapePresetsGrouped{padding-bottom:.75em}.PinturaRoot[data-env~=has-controltabs-preference-top] .PinturaUtilFooter .PinturaControlPanels{order:1}.PinturaRoot[data-env~=has-controltabs-preference-top] .PinturaUtilFooter .PinturaRangeInput .PinturaRangeInputReset{bottom:0;top:auto}.PinturaRoot[data-env~=has-controltabs-preference-top] .PinturaUtilFooter .PinturaControlPanel .PinturaShapePresetsGrouped{padding-top:.75em}.PinturaRoot[data-env~=has-controltabs-preference-top] .PinturaUtilFooter .PinturaControlPanel .PinturaShapePresetsList,.PinturaRoot[data-env~=has-controltabs-preference-top] .PinturaUtilFooter .PinturaShapeStyleList{align-items:flex-end}.PinturaRoot[data-env~=has-controltabs-preference-top] .PinturaUtilFooter .PinturaShapeStyleLabel{order:1}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter{margin:.75em 0}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlPanels{max-width:24em}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList{margin-top:1em}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList>li+li{margin-left:0}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList li[role=tab] span{font-size:.75em}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList li[role=tab] button{-webkit-backdrop-filter:var(--backdrop-filter-bright);backdrop-filter:var(--backdrop-filter-bright);background-color:var(--color-background-50);border-radius:0;box-shadow:inset 0 0 0 1px var(--color-background-15),0 .0625em .125em rgba(0,0,0,.25),0 .125em .35em rgba(0,0,0,.35)}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList li[role=tab]:first-child button{border-bottom-left-radius:var(--border-radius-round);border-top-left-radius:var(--border-radius-round);padding-left:.875em}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList li[role=tab]:last-child button{border-bottom-right-radius:var(--border-radius-round);border-top-right-radius:var(--border-radius-round);padding-right:.875em}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlList li:not([aria-selected=true]) span{color:var(--color-foreground-40)}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaControlPanels{-webkit-backdrop-filter:var(--backdrop-filter-bright);backdrop-filter:var(--backdrop-filter-bright);background-color:var(--color-background-50);border-radius:var(--border-radius-round);box-shadow:inset 0 0 0 1px var(--color-background-15),0 .0625em .125em rgba(0,0,0,.25),0 .125em .35em rgba(0,0,0,.35)}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaRangeInput{height:1.5em;margin-top:0}.PinturaRoot[data-env~=overlay] .PinturaUtilFooter .PinturaRangeInputReset{opacity:0}.PinturaRangeInput{--range-input-feather-left:2em;--range-input-feather-right:2em;--range-input-mask-from:0%;--range-input-mask-to:100%;--range-input-mask-color:rgba(0,0,0,.25);--range-input-line-color:var(--color-foreground-15);align-items:center;display:flex;flex-direction:column;height:3.5em;margin:auto;max-width:24em;outline:transparent;position:relative;touch-action:none;width:calc(100% - 2em)}.PinturaRangeInput[data-focus-visible]:after{background-color:var(--color-focus-50);border-radius:.25em;box-shadow:inset 0 0 0 1px var(--color-focus-100);content:"";height:2em;left:0;position:absolute;right:0;top:calc(50% - 1em)}.PinturaRangeInputInner{contain:strict;height:100%;-webkit-mask:linear-gradient(90deg,transparent 0,#000 var(--range-input-feather-left),#000 calc(50% - 3em),transparent 50%,#000 calc(50% + 3em),#000 calc(100% - var(--range-input-feather-right)),transparent);mask:linear-gradient(90deg,transparent 0,#000 var(--range-input-feather-left),#000 calc(50% - 3em),transparent 50%,#000 calc(50% + 3em),#000 calc(100% - var(--range-input-feather-right)),transparent);overflow:hidden;position:relative;width:100%}.PinturaRangeInputMeter{height:100%}.PinturaRangeInput .PinturaRangeInputMeter svg{fill:currentColor;display:block;pointer-events:none}.PinturaRangeInput>.PinturaRangeInputValue{font-feature-settings:"tnum";contain:strict;font-family:Tahoma,Geneva,Verdana,sans-serif;font-size:.75em;font-variant-numeric:tabular-nums;height:1.5em;left:calc(50% - 1.75em);overflow:hidden;pointer-events:none;position:absolute;text-align:center;top:calc(50% - .6875em);width:3.5em;z-index:1}.PinturaRangeInput>.PinturaRangeInputReset{color:transparent!important;cursor:var(--button-cursor);left:calc(50% - 1.0625em);margin-top:.125em;opacity:.35;outline:transparent;overflow:hidden;padding:0;position:absolute;top:0;transition:opacity var(--transition-duration-25);width:2em;z-index:1}.PinturaRangeInput>.PinturaRangeInputReset:hover{opacity:.5}.PinturaRangeInput>.PinturaRangeInputReset[data-focus-visible]{opacity:1}.PinturaRangeInput>.PinturaRangeInputReset[data-focus-visible]:before{background-color:var(--color-focus-50);border-radius:.25em;box-shadow:inset 0 0 0 1px var(--color-focus-100);content:"";height:1em;left:calc(50% - .5em);pointer-events:none;position:absolute;top:calc(50% - .5em);width:1em;z-index:2}.PinturaRangeInput>.PinturaRangeInputReset[disabled]{opacity:.15}.PinturaRangeInput>.PinturaRangeInputReset:after{background:var(--color-foreground-100);content:"";height:60%;left:50%;position:absolute;top:20%;width:1px}.PinturaRangeInputInner[data-value-limited] svg{-webkit-mask:linear-gradient(90deg,var(--range-input-mask-color) var(--range-mask-from),#000 var(--range-mask-from),#000 var(--range-mask-to),var(--range-input-mask-color) var(--range-mask-to));mask:linear-gradient(90deg,var(--range-input-mask-color) var(--range-mask-from),#000 var(--range-mask-from),#000 var(--range-mask-to),var(--range-input-mask-color) var(--range-mask-to))}.PinturaRangeInputInner[data-value-limited] svg rect{x:var(--range-mask-from);fill:var(--range-input-line-color);width:calc(var(--range-mask-to) - var(--range-mask-from))}.PinturaImageInfo{pointer-events:none}.PinturaImageInfo p{font-feature-settings:"tnum";contain:strict;font-family:Tahoma,Geneva,Verdana,sans-serif;font-size:.75em;font-variant-numeric:tabular-nums;height:1.25em;line-height:1;overflow:hidden;text-align:right;width:8em}.PinturaPresetListFilter .PinturaRadioGroupOptions{justify-content:space-evenly;padding:.625em 0 .3125em}.PinturaPresetListFilter .PinturaRadioGroupOptions label{cursor:pointer;display:block}.PinturaPresetListFilter+.PinturaOptionsList{border-top-left-radius:0;border-top-right-radius:0}.PinturaShapeStyleEditor{display:grid;grid-template-columns:1fr;position:relative}.PinturaShapeStyleEditor>div{align-items:center;display:flex;grid-column-start:1;grid-row-start:1;justify-content:center;max-width:100%;overflow:hidden}.PinturaShapeStyles{position:relative}.PinturaShapeStyles:not([data-state~=overflows]){display:flex;justify-content:center}.PinturaShapeStyleList{display:flex}.PinturaShapeStyleList .PinturaButton,.PinturaShapeStyleList .PinturaInput{outline:transparent}.PinturaShapeStyleList .PinturaInput{font-size:.75em;line-height:2.25;padding:0 0 0 .625em}.PinturaShapeStyleList .PinturaShapeStyleLabel{color:var(--color-foreground-50);font-size:.625em;font-weight:300;line-height:1.75;padding:0 .75em;pointer-events:none;text-align:center;text-transform:lowercase;white-space:nowrap}.PinturaShapeStyleList>.PinturaShapeStyle{border-radius:var(--border-radius-round)}.PinturaShapeStyleList>.PinturaShapeStyle+.PinturaShapeStyle{margin-left:1em}.PinturaShapeStyle{align-items:stretch;display:flex;flex-direction:column}.PinturaShapeStyle .PinturaPanelButton{border-radius:inherit}.PinturaShapeStyle>.PinturaButton:hover,.PinturaShapeStyle>.PinturaButton[data-focus-visible]{position:relative;z-index:1}.PinturaShapeStyle>.PinturaColorPickerButton .PinturaButtonLabel{border-radius:inherit;display:block}.PinturaShapeStyle>.PinturaColorPickerButton{display:flex;justify-content:center}.PinturaShapeStyle .PinturaColorPreview{background-color:#fff;background-size:4px;border-radius:inherit;height:1.5em;width:1.5em}.PinturaShapeStyle .PinturaColorPreview span{border-radius:inherit;box-shadow:inset 0 0 0 1px var(--color-foreground-5)}.PinturaShapeStyle [data-focus-visible] .PinturaColorPreview span:before{background-color:var(--color-focus-50);border-radius:inherit;bottom:0;box-shadow:inset 0 0 0 1px var(--color-focus-100);content:"";left:0;position:absolute;right:0;top:0;z-index:1}.PinturaShapeStyle>.PinturaColorPickerButtonStroke .PinturaColorPreview{-webkit-mask:radial-gradient(circle,transparent 5.5px,#000 6px);mask:radial-gradient(circle,transparent 5.5px,#000 6px);-webkit-mask-size:cover;mask-size:cover}.PinturaShapeStyle>.PinturaColorPickerButtonStroke .PinturaColorPreview span:after{border-radius:inherit;bottom:6px;box-shadow:0 0 0 1px var(--color-foreground-5);content:"";left:6px;position:absolute;right:6px;top:6px}.PinturaShapeStyle>.PinturaDropdownButton .PinturaButtonLabel,.PinturaShapeStyle>.PinturaRadioGroup .PinturaButtonLabel,.PinturaShapeStyle>.PinturaRadioGroupOption label,.PinturaShapeStyle>.PinturaSliderButton .PinturaButtonLabel{display:block;font-size:.6875em;line-height:2.25;padding:0 1em}.PinturaShapeStyle>.PinturaButton:not(.PinturaColorPickerButton)[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaShapeStyle .PinturaInputField{border-radius:var(--border-radius);box-shadow:inset 0 0 0 1px var(--color-foreground-5);height:2em;padding:0 .75em;text-align:right;width:3em}.PinturaShapeStyle>.PinturaDropdownButton{box-shadow:inset 0 0 0 1px var(--color-foreground-5);transition:background-color var(--transition-duration-10)}.PinturaShapeStyle>.PinturaDropdownButton:hover{background-color:var(--color-foreground-10)}.PinturaShapeStyle>.PinturaDropdownButton .PinturaButtonLabel:after{content:"â–¼";font-size:.6875em;margin-left:.75em;margin-right:-.25em;pointer-events:none;position:relative;top:-.125em}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions{flex-direction:row}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions label{align-items:center;box-shadow:inset 0 0 0 1px var(--color-foreground-5);cursor:var(--button-cursor);display:flex;height:1.5em;padding:0 .25em;transition:background-color var(--transition-duration-10)}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions label:hover{background-color:var(--color-foreground-20)}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions svg{height:1.125em;width:1.125em}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions .PinturaRadioGroupOption:first-of-type label{border-bottom-left-radius:var(--border-radius-round);border-top-left-radius:var(--border-radius-round);padding-left:.5em}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions .PinturaRadioGroupOption:last-of-type label{border-bottom-right-radius:var(--border-radius-round);border-top-right-radius:var(--border-radius-round);padding-right:.5em}.PinturaShapeStyle>.PinturaRadioGroup>.PinturaRadioGroupOptions [data-selected=true] label{background-color:var(--color-foreground-10)}.PinturaToolbar{display:flex;justify-content:center;margin-left:1em;margin-right:1em}.PinturaToolbar .PinturaToolbarInner{display:inline-flex}.PinturaToolbar[data-layout=compact] .PinturaToolbarContentWide,.PinturaToolbar[data-overflow=overflow] .PinturaToolbarContentOptional{display:none}.PinturaToolbar .PinturaButton{border-radius:var(--border-radius-round);line-height:1.1;outline:transparent;padding:.3125em .75em;transition:background-color var(--transition-duration-10) ease-out,color var(--transition-duration-10) ease-out,box-shadow var(--transition-duration-10) ease-out}.PinturaToolbar .PinturaButton:hover{box-shadow:inset 0 0 0 1px var(--color-foreground-5)}.PinturaToolbar .PinturaButton[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaToolbar .PinturaButton .PinturaButtonIcon{width:1em}.PinturaToolbar .PinturaButtonLabel{font-size:.75em}.PinturaToolbar .PinturaPanel{z-index:3}.PinturaToolbar .PinturaToolbarInner>*{margin:0 .5em}.PinturaRectManipulator{--size:1.25em;left:0;outline:none;position:absolute;top:0;touch-action:none;transform:translate3d(calc(var(--tx)*1px),calc(var(--ty)*1px),0) scale(var(--sx),var(--sy))}.PinturaRectManipulator:not([data-shape=edge]){height:var(--size);width:var(--size);z-index:2}.PinturaRectManipulator:not([data-shape=edge]):after{border-radius:inherit;bottom:-.5em;content:"";left:-.5em;position:absolute;right:-.5em;top:-.5em}.PinturaRectManipulator:not([data-shape=edge])[data-focus-visible]:after{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaRectManipulator[data-shape~=circle]{background-color:var(--color-foreground-100);border-radius:50%;box-shadow:0 0 2px var(--color-background-50);line-height:var(--size);margin-left:calc(var(--size)*-.5);margin-top:calc(var(--size)*-.5)}.PinturaRectManipulator[data-shape=hook]{border:3px solid var(--color-foreground-100)}.PinturaRectManipulator[data-shape=hook][data-direction*=t]{border-bottom:0;margin-top:-3px}.PinturaRectManipulator[data-shape=hook][data-direction*=r]{border-left:0;margin-left:calc(var(--size)*-1)}.PinturaRectManipulator[data-shape=hook][data-direction*=b]{border-top:0;margin-top:calc(var(--size)*-1)}.PinturaRectManipulator[data-shape=hook][data-direction*=l]{border-right:0;margin-left:-3px}.PinturaRectManipulator[data-shape~=edge]{height:1px;width:1px;z-index:1}.PinturaRectManipulator[data-shape~=edge][data-focus-visible]{background-color:var(--color-focus-50)}.PinturaRectManipulator[data-direction=b],.PinturaRectManipulator[data-direction=t]{cursor:ns-resize;height:var(--size);margin-top:calc(var(--size)*-.5);transform-origin:0 center}.PinturaRectManipulator[data-direction=l],.PinturaRectManipulator[data-direction=r]{cursor:ew-resize;margin-left:calc(var(--size)*-.5);transform-origin:center 0;width:var(--size)}.PinturaRectManipulator[data-direction=bl],.PinturaRectManipulator[data-direction=tr]{cursor:nesw-resize}.PinturaRectManipulator[data-direction=br],.PinturaRectManipulator[data-direction=tl]{cursor:nwse-resize}.PinturaRoot[data-env~=pointer-coarse] .PinturaRectManipulator[data-shape=edge]:active{background-color:var(--color-foreground-5)}.PinturaRoot[data-env~=pointer-coarse] .PinturaRectManipulator:not([data-shape=edge]):after{bottom:-1em;left:-1em;right:-1em;top:-1em}.PinturaRoot[data-env~=pointer-coarse] .PinturaRectManipulator:not([data-shape=edge]):active:after{background-color:var(--color-foreground-5)}.PinturaRoot[data-env*=chrome-] .PinturaRectManipulator{transform:translate3d(calc(var(--tx)*1px),calc(var(--ty)*1px),0)}.PinturaRoot[data-env*=chrome-] .PinturaRectManipulator[data-direction=b],.PinturaRoot[data-env*=chrome-] .PinturaRectManipulator[data-direction=t]{width:calc(var(--sx)*1px)}.PinturaRoot[data-env*=chrome-] .PinturaRectManipulator[data-direction=l],.PinturaRoot[data-env*=chrome-] .PinturaRectManipulator[data-direction=r]{height:calc(var(--sy)*1px)}.PinturaShapePresetsPalette{max-width:100%;overflow:hidden;text-align:center;width:40em}.PinturaShapePresetsPalette .PinturaShapePresetSelect{display:inline-block;vertical-align:top}.PinturaShapePresetsPalette .PinturaScrollable:not([data-state~=overflows]){display:flex;justify-content:center}.PinturaShapePresetsPalette .PinturaButton+.PinturaButton{margin-left:.5em}.PinturaShapePresetsPalette .PinturaButton{border-radius:var(--border-radius-round);box-shadow:inset 0 0 0 1px var(--color-foreground-5);cursor:var(--button-cursor);flex-direction:row;line-height:1.1;outline:none;padding:.3125em .75em;transition:background-color var(--transition-duration-10) ease-out,color var(--transition-duration-10) ease-out,box-shadow var(--transition-duration-10) ease-out}.PinturaShapePresetsPalette .PinturaButton .PinturaButtonIcon{width:1em}.PinturaShapePresetsPalette .PinturaButton .PinturaButtonLabel{font-size:.75em}.PinturaShapePresetsPalette .PinturaButton:hover{box-shadow:inset 0 0 0 1px var(--color-foreground-10)}.PinturaShapePresetsPalette .PinturaButton[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaShapePresetsPalette .PinturaShapePresetsFlat>*+*,.PinturaShapePresetsPalette .PinturaShapePresetsGroups>*+*,.PinturaShapePresetsPalette .PinturaShapePresetsGroups>div>*+*{margin-left:.5em}.PinturaShapePresetsGroups{display:flex}.PinturaShapePresetsGrouped{align-items:center;display:flex;flex-direction:column}.PinturaShapePresetsGrouped [role=tab]{white-space:nowrap}.PinturaShapePresetsFlat{align-items:center;display:flex;justify-content:center}.PinturaShapePresetsFlat>.PinturaButton{margin-left:1em}.PinturaShapeList{background:var(--color-background-70);border-radius:var(--border-radius);box-shadow:0 0 0 1px var(--color-foreground-5);color:var(--color-foreground-100);left:1em;opacity:0;pointer-events:none;position:absolute;top:1em;transition:opacity var(--transition-duration-10) ease-in-out;width:-moz-max-content;width:max-content;z-index:1}.PinturaShapeList li+li{margin-top:-.3125em}.PinturaShapeList[data-visible=true]{opacity:1}.PinturaShapeList .PinturaColorPreview{border-radius:.25em;height:.75em;margin-right:.25em;width:.75em}.PinturaShapeList .PinturaShapeListItem{align-items:center;display:flex;outline:none;padding:.25em .5em}.PinturaShapeList .PinturaShapeListItem>span{font-size:.75em;line-height:1.75;margin-left:-.325em;padding:0 .325em}.PinturaShapeList .PinturaShapeListItem[data-focus-visible]>span{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaShapeList[data-visible=true] .PinturaShapeListItem{pointer-events:all}.PinturaShapeEditor{height:100%;outline:none;touch-action:none;width:100%}.PinturaShapeControls{align-items:center;display:flex;left:0;pointer-events:none;position:absolute!important;top:0;z-index:3}.PinturaShapeControlsGroup{background:#222;border-radius:.25em;box-shadow:0 .125em .25em rgba(0,0,0,.25);color:#eee;pointer-events:all}.PinturaShapeControlsGroup,.PinturaShapeControlsGroup .PinturaShapeControlsGroupToggle{display:inline-flex;min-height:1.75em}.PinturaShapeControlsGroup+.PinturaShapeControlsGroup{margin-left:.5em}.PinturaShapeControlsGroup .PinturaShapeControlsGroupToggle{position:relative}.PinturaShapeControlsGroup .PinturaButton{outline:transparent}.PinturaShapeControlsGroup .PinturaButton[data-focus-visible]{background-color:var(--color-focus-50);box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaShapeControlsGroup .PinturaButton[disabled]>span{cursor:not-allowed;opacity:.5;pointer-events:all}.PinturaShapeControlsGroup>.PinturaButton{display:block;font-weight:700;outline:transparent;transition:background-color var(--transition-duration-10)}.PinturaShapeControlsGroup>.PinturaButton:hover{background-color:hsla(0,0%,100%,.15)}.PinturaShapeControlsGroup>.PinturaButton .PinturaButtonLabel{display:block;font-size:.6875em;line-height:1.7em;padding:0 .75em}.PinturaShapeControlsGroup .PinturaButtonIconOnly{transition:background-color var(--transition-duration-10);width:1.75em}.PinturaShapeControlsGroup .PinturaButtonIconOnly:hover{background-color:hsla(0,0%,100%,.15)}.PinturaShapeControlsGroup>button:first-of-type{border-radius:.25em 0 0 .25em}.PinturaShapeControlsGroup>button:last-of-type{border-radius:0 .25em .25em 0}.PinturaShapeControlsGroup>button:only-of-type{border-radius:.25em}.PinturaShapeControlsGroup>*+*{border-left:1px solid rgba(0,0,0,.5)}.PinturaShapeControlsGroup svg{pointer-events:none}.PinturaInlineInput{display:flex;left:0;margin:0;padding:0;position:absolute;top:0;transform-origin:center}.PinturaInlineInput:before{content:"";height:var(--line-height);width:0}.PinturaContentEditable{height:100%;height:calc(100% - var(--bottom-inset, 0));margin:0;outline:none;overflow:hidden;padding:0;vertical-align:top;width:100%}.PinturaShapePreset,.PinturaShapePresetsList{align-items:center;display:flex}.PinturaShapePreset{--thumb-size:1.75em;--thumb-radius:0.3125em;--thumb-margin:0.3125em;justify-content:center;position:relative}.PinturaShapePreset text{font-family:monospace}.PinturaShapePreset img,.PinturaShapePreset svg{border-radius:var(--thumb-radius);display:block;height:var(--thumb-size);max-width:none;min-width:auto;-o-object-fit:cover;object-fit:cover;width:var(--thumb-size)}.PinturaShapePreset .PinturaDragButton{border-radius:var(--border-radius);box-shadow:inset 0 0 0 1px var(--color-foreground-5);padding:var(--thumb-margin)}.PinturaShapePreset .PinturaDragButton:hover{background-color:var(--color-foreground-10)}.PinturaShapePreset .PinturaDragButton[data-loader]:after,.PinturaShapePreset .PinturaDragButton[data-loader]:before{border-radius:var(--thumb-radius);display:block;height:var(--thumb-size);line-height:var(--thumb-size);width:var(--thumb-size)}.PinturaShapePreset .PinturaDragButton[data-error] img{display:none}.PinturaShapePreset .PinturaDragButton[data-error]:after{background-color:var(--color-error-10);box-shadow:inset 0 0 0 1px var(--color-error-75);color:var(--color-error-75);content:"âš "}.PinturaShapePreset .PinturaDragButton[data-loader]{position:relative}.PinturaShapePreset .PinturaDragButton[data-loader]:before{animation:pintura-img-loading 0s ease-in-out infinite alternate;animation:pintura-img-loading calc(var(--transition-duration-multiplier, 0)*1s) infinite alternate ease-in-out;background-color:var(--color-foreground-10);content:"";left:var(--thumb-margin);position:absolute;top:var(--thumb-margin);transition:transform 0s ease-in;transition:transform calc(var(--transition-duration-multiplier, 0)*.5s) ease-in;z-index:-1}.PinturaShapePreset .PinturaDragButton[data-loader] img{opacity:0;transition:opacity 0s ease-out;transition:opacity calc(var(--transition-duration-multiplier, 0)*.35s) ease-out}.PinturaShapePreset .PinturaDragButton[data-loader][data-load] img{opacity:1}.PinturaShapePreset .PinturaDragButton[data-loader][data-error]:before,.PinturaShapePreset .PinturaDragButton[data-loader][data-load]:before{animation-play-state:paused;transform:scale(.5)}.PinturaShapePreset+.PinturaShapePreset{margin-left:.5em}@keyframes pintura-img-loading{0%{opacity:.5}50%{opacity:1}to{opacity:.5}}.PinturaContentEditable{display:inline-block!important;-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important;white-space:pre-line!important;word-break:break-word!important}.PinturaContentEditable[data-wrap-content=nowrap]{white-space:nowrap!important;word-break:normal!important}.PinturaContentEditable{background:transparent!important;border-radius:0!important;box-shadow:none!important;margin:0!important;max-width:none!important;min-width:auto!important}.PinturaInputForm{cursor:auto;opacity:0;z-index:2147483647}.PinturaInputForm:not([data-layout=stick]){background-color:var(--color-background-95);border-radius:var(--border-radius);bottom:6.5em;box-shadow:0 .25em .5em -.5em rgba(0,0,0,.75),inset 0 0 0 1px var(--color-foreground-10);left:calc(50% - 15em);position:absolute;width:30em}@media(max-width:34em){.PinturaInputForm:not([data-layout=stick]){left:2em;right:2em;width:auto}}.PinturaInputForm[data-layout=stick]{background-color:var(--color-background-100);left:0;outline:1px solid var(--color-foreground-15);position:absolute;right:0;transition:opacity .15s ease .25s}.PinturaInputForm[data-layout=stick]>.PinturaInputFormInner{background-color:var(--color-foreground-3)}.PinturaInputFormInner>.PinturaButton{border-radius:9999em;box-shadow:inset 0 0 0 1px var(--color-foreground-5);color:var(--color-foreground-100)}.PinturaInputFormInner>.PinturaButton:first-of-type{left:1em}.PinturaInputFormInner>.PinturaButton:last-of-type{background:var(--color-primary);box-shadow:inset 0 0 0 1px var(--color-foreground-10);color:var(--color-primary-text);right:1rem}.PinturaInputFormInner>.PinturaButton:not(.PinturaButtonIconOnly) .PinturaButtonInner{padding:0 .875em 0 .625em}.PinturaInputFormInner>.PinturaButton .PinturaButtonIcon{height:.875em;width:.875em}.PinturaInputFormInner>.PinturaButton.PinturaButtonIconOnly{height:1.875em;width:1.875em}.PinturaInputFormInner>.PinturaButton .PinturaButtonLabel{font-size:.875em}.PinturaInputFormInner>.PinturaButton .PinturaButtonInner{display:flex;justify-content:center;line-height:2}.PinturaInputFormInner{padding-bottom:3.5em;padding-top:1em}.PinturaInputFormInner>.PinturaButton{bottom:1em;position:absolute}.PinturaInputFormFields textarea:only-child{background:transparent;display:block;height:5em;-webkit-mask:linear-gradient(0deg,transparent,#000 1em);mask:linear-gradient(0deg,transparent,#000 1em);padding:0 1em .5em;width:100%}.PinturaInputFormFields textarea:only-child::-webkit-scrollbar{cursor:pointer;width:1em}.PinturaInputFormFields textarea:only-child::-webkit-scrollbar-track{background:none}.PinturaInputFormFields textarea:only-child::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:var(--color-foreground-70);border:.25em solid transparent;border-radius:9999em;cursor:pointer}.PinturaInputForm input,.PinturaInputForm textarea{border:none;box-sizing:border-box;color:var(--color-foreground-100);font-size:1rem;outline:transparent;resize:none}.PinturaInputForm input{background-color:var(--color-background-100)}.PinturaModalBodyLock .PinturaInputForm{margin-top:-50px}.PinturaShapeManipulator{--size:0.75em;left:0;outline:none;position:absolute;top:0;touch-action:none;transform:translate3d(calc(var(--tx)*1px),calc(var(--ty)*1px),0) rotate(var(--r)) scale(var(--sx),var(--sy))}.PinturaShapeManipulator:not([data-control=edge]){border-radius:9999em;height:var(--size);line-height:var(--size);margin-left:calc(var(--size)*-.5);margin-top:calc(var(--size)*-.5);width:var(--size)}.PinturaShapeManipulator:not([data-control=edge]):after{bottom:-.5em;content:"";left:-.5em;position:absolute;right:-.5em;top:-.5em}.PinturaShapeManipulator:not([data-control=edge])[data-focus-visible]:after{background-color:var(--color-focus-50);border-radius:inherit;box-shadow:inset 0 0 0 1px var(--color-focus-100)}.PinturaShapeManipulator[data-control=point]{background:linear-gradient(90deg,var(--color-secondary-dark),var(--color-secondary));box-shadow:0 0 0 2px #fff,0 0 4px #000;z-index:3}.PinturaShapeManipulator[data-control=edge]{height:var(--size);margin-top:calc(var(--size)*-.5);transform-origin:0 calc(var(--size)*.5);width:1px;z-index:1}.PinturaShapeManipulator[data-control=edge][data-focus-visible]{background-color:var(--color-focus-50)}.PinturaShapeManipulator[data-control=rotate]{background:linear-gradient(90deg,#fff,#ddd);border-radius:9999em;box-shadow:0 0 0 2px var(--color-secondary-dark),0 0 4px #000;cursor:grab;z-index:2}.PinturaRoot[data-env*=chrome-] .PinturaShapeManipulator[data-control=edge]{transform:translate3d(calc(var(--tx)*1px),calc(var(--ty)*1px),0) rotate(var(--r));width:calc(var(--sx)*1px)}.PinturaDragButton{cursor:var(--button-cursor);outline:transparent}.PinturaDragButton>*{pointer-events:none}.PinturaDragButton{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);transition:filter var(--transition-duration-25) ease-out;-webkit-user-select:none;-moz-user-select:none;user-select:none}.PinturaDragButton[disabled]{filter:var(--filter-disabled)}',""]),r.locals={},t.exports=r},835:function(t,e,n){"use strict";n(735)},836:function(t,e,n){var r=n(15)((function(i){return i[1]}));r.push([t.i,".uploadButton[data-v-31978270]{border:0;font-size:20px;top:40%;transform:translate(-50%,-50%)}.text[data-v-31978270],.uploadButton[data-v-31978270]{left:50%;position:absolute}.text[data-v-31978270]{margin-bottom:20px;top:65%;transform:translateX(-50%)}[data-v-31978270] .el-upload{height:100%;width:100%}[data-v-31978270] .el-upload-dragger{border-radius:8px!important}[data-v-31978270] .el-upload-dragger{align-items:center;background-color:transparent;border:none;display:flex;height:100%;justify-content:center;width:100%}[data-v-31978270] .el-dialog__header{padding:30px 20px 10px!important}[data-v-31978270] .el-dialog__header{background-color:#222}[data-v-31978270] .el-dialog__headerbtn{top:13px!important}.listUpload .item[data-v-31978270]{background-color:#fff;border:6px;border-radius:6px;color:#333;justify-content:space-between;margin:0 10px;padding:5px}.listUpload .item[data-v-31978270],.listUpload .item .file[data-v-31978270]{align-items:center;display:flex}.listUpload .item .file .image[data-v-31978270]{height:60px;-o-object-fit:contain;object-fit:contain;width:80px}.listUpload .item .name[data-v-31978270]{color:#313131;font-size:14px;margin-left:10px;overflow:hidden;text-align:left;text-overflow:ellipsis;white-space:nowrap;word-break:keep-all}.listUpload .item .size[data-v-31978270]{color:#979797;font-size:12px;margin-left:10px;text-align:left}.listUpload .btnGroup[data-v-31978270]{align-items:center;display:flex;margin-right:5px}.listUpload .btnGroup .btn[data-v-31978270]{border-radius:20px;font-size:14px;max-width:100px}.isMobile .listUpload .btnGroup .btn[data-v-31978270]{margin-left:4px}.btnDiv[data-v-31978270]{display:flex;justify-content:center;padding:10px 0}.btnDiv .button[data-v-31978270]{border-radius:30px;box-shadow:4px 6px 11px 0 hsla(0,0%,68%,.1);font-size:16px;font-weight:900;height:60px;width:150px}.isMobile .btnDiv .button[data-v-31978270]{font-size:13px;margin-left:4px;width:125px}@media (max-width:768px){.dropzonoe[data-v-31978270]{width:90vw}}.after[data-v-31978270],.before[data-v-31978270]{margin:0}.after figcaption[data-v-31978270],.before figcaption[data-v-31978270]{background:#fff;border:1px solid silver;border-radius:12px;color:#2e3452;line-height:100%;opacity:.8;padding:12px;position:absolute;top:50%;transform:translateY(-50%)}.before figcaption[data-v-31978270]{left:12px}.after figcaption[data-v-31978270]{right:12px}.downloadCanvas[data-v-31978270]{bottom:20px;left:20px;max-width:30vw;position:fixed;z-index:2}.downloadCanvasPc[data-v-31978270]{bottom:-25vh!important;left:-49vw!important}.toolbar[data-v-31978270]{align-items:center;display:flex;justify-content:space-between;left:0;padding:0 20px;position:relative;top:40px;z-index:3}.popup-editButton[data-v-31978270]{background:#333;border:0;border-radius:50%;color:#fff;cursor:pointer;padding:4px}",""]),r.locals={},t.exports=r},837:function(t,e,n){"use strict";n(736)},838:function(t,e,n){var r=n(15)((function(i){return i[1]}));r.push([t.i,".pintura-editor{--color-background:30,30,30;--color-foreground:255,255,255}",""]),r.locals={},t.exports=r}}]);